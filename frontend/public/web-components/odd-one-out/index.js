import { BaseWebComponent } from '../shared/BaseWebComponent.js';
class OddOneOutGenerator extends BaseWebComponent {
  get appName() { return 'odd-one-out'; }
  render() { this.shadowRoot.innerHTML = `<style>:host{display:block}.layout{display:flex;height:80vh}.panel{width:340px;background:#2c2c2e;color:#e0e0e0;padding:20px}.main{flex:1;background:#f0f2f5;display:flex;justify-content:center;align-items:center;padding:20px}canvas{border:1px solid #ddd;background:white}button{width:100%;padding:10px;margin:5px 0;background:#007aff;color:white;border:none;border-radius:5px;cursor:pointer}</style><div class="layout"><div class="panel"><h2>Odd One Out</h2><button id="generateBtn">Generate</button><button id="downloadBtn">Download</button></div><div class="main"><canvas id="canvas" width="612" height="792"></canvas></div></div>`; }
  async generateWorksheet() { if (typeof fabric === 'undefined') await this.loadScript('https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js'); const canvas = this.shadowRoot.getElementById('canvas'); this.canvas = new fabric.Canvas(canvas); this.canvas.add(new fabric.Text('Find the Odd One Out', { left: 306, top: 30, fontSize: 20, originX: 'center', fontWeight: 'bold' })); this.emit('worksheet-generated', { type: 'odd-one-out' }); }
  loadScript(src) { return new Promise((resolve, reject) => { const script = document.createElement('script'); script.src = src; script.onload = resolve; script.onerror = reject; document.head.appendChild(script); }); }
  setupEventListeners() { this.shadowRoot.getElementById('generateBtn').addEventListener('click', () => this.generateWorksheet()); this.shadowRoot.getElementById('downloadBtn').addEventListener('click', () => { const link = document.createElement('a'); link.download = 'odd-one-out.png'; link.href = this.canvas.toDataURL(); link.click(); }); }
}
customElements.define('lcs-odd-one-out', OddOneOutGenerator);