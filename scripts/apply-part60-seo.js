/**
 * SEO Part 60: Enrich preschool grade for alphabet, birthday, body, camping, circus
 * Adds 6 grade-level enrichment fields to gradeContent.preschool for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Alphabet ─────────────────────────────────────────────────────────
  {
    name: 'alphabet',
    uniqueGradeAngle: 'Preschool is the single most critical stage for alphabet worksheets because three- and four-year-olds are in the exact developmental window when the brain is forming the neural pathways that distinguish written symbols from pictures \u2014 this is the moment when squiggles on a page transform into letters with names and sounds, and no other learning milestone in the entire educational journey is as foundational as this one. Alphabet worksheets are uniquely powerful at the preschool level because children are simultaneously developing the fine motor control needed to form letters and the phonemic awareness needed to connect letters to sounds, meaning that tracing, naming, and sounding out letters are not three separate skills but three dimensions of one integrated developmental event. The personal significance of name letters gives preschool alphabet learning an emotional anchor that no other age group experiences with the same intensity \u2014 when a child recognizes the first letter of their own name, they are not just learning a letter, they are seeing themselves represented in the written world for the first time.',
    developmentalMilestones: [
      { milestone: 'Letter-symbol differentiation (preschoolers are developing the ability to distinguish letters from pictures and numbers)', howWeAddress: 'alphabet worksheets provide systematic exposure to all 26 letter forms in contexts that highlight their unique features, building the visual discrimination pathways that allow children to reliably tell B from D, p from q, and letters from numbers' },
      { milestone: 'Name-letter emotional anchoring (preschoolers are forming personal identity and connecting self-concept to written representation)', howWeAddress: 'alphabet activities that start with the letters in each child\u0027s name leverage the most powerful motivational force in early literacy because recognizing one\u0027s own name in print is both a cognitive achievement and an identity milestone' },
      { milestone: 'Letter-sound integration through multi-sensory tracing (preschoolers are developing simultaneous motor, visual, and auditory processing)', howWeAddress: 'tracing worksheets where children say the letter name and sound while their hand forms the shape create triple-encoded memory pathways that are far stronger than any single-sense approach' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus exclusively on the letters in the child\u0027s own name before introducing any others, use extra-large letter outlines with textured surfaces (sandpaper letters, raised-line printouts) so the child can feel the shape while tracing, and limit each session to one letter at a time with immediate real-world connection like finding that letter on a cereal box or book cover. For advanced preschoolers, introduce uppercase-lowercase matching for all 26 letters, challenge children to identify beginning sounds in words and match them to the correct letter, and encourage invented spelling where children attempt to write words by sounding them out and selecting letters \u2014 accepting all attempts as valid early writing.',
    parentTakeaway: 'Alphabet worksheets give preschool parents the most foundational literacy tool available because every future reading and writing skill builds directly on the letter knowledge your child develops between ages three and five. The single most effective strategy is to make letters personal: start with the letters in your child\u0027s name, point them out everywhere you go (on signs, cereal boxes, license plates, and book covers), and celebrate each new letter your child recognizes as a genuine milestone. Do not worry about teaching all 26 letters in order \u2014 let your child\u0027s natural curiosity guide which letters they learn next. When your child traces a letter on a worksheet while saying its name and sound aloud, three brain pathways fire simultaneously, creating a memory that is three times stronger than just seeing or just hearing the letter. Keep sessions to ten minutes maximum and always end on a success.',
    classroomIntegration: 'Alphabet worksheets serve as the backbone of preschool literacy programming because letter knowledge is assessed as a kindergarten readiness benchmark and is the single most predictive skill for later reading success. Establish a letter-of-the-week routine where each letter is introduced through a worksheet, a sensory activity (forming the letter in sand, playdough, or finger paint), and a real-object connection (bringing in items that start with that letter). Use letter tracing pages as morning arrival activities that settle children into focused work, incorporate matching worksheets into a small-group literacy rotation, and connect letter learning to a classroom name wall where every child\u0027s name is displayed with the first letter highlighted. An alphabet sensory bin with magnetic letters, letter stamps, and textured letter cards extends worksheet learning into tactile exploration. The environmental print walk \u2014 touring the classroom and school to find letters on signs, labels, and posters \u2014 bridges worksheet practice to real-world literacy in the most authentic way possible.',
    assessmentRubric: [
      { skill: 'Letter recognition', emerging: 'recognizes and names 5 or fewer uppercase letters, primarily the letters in their own name, with teacher prompting', proficient: 'independently recognizes and names 15 or more uppercase letters and is beginning to identify some lowercase partners', advanced: 'recognizes all 26 uppercase letters and most lowercase letters, identifies letters in environmental print, and names the beginning sound of familiar words' },
      { skill: 'Letter formation through tracing', emerging: 'traces letters using whole-arm movements with frequent departure from the dotted path', proficient: 'traces letters along dotted lines with mostly accurate strokes and correct starting position', advanced: 'traces letters accurately, forms several letters independently without dotted guides, and writes own name with recognizable letter forms' },
      { skill: 'Letter-sound connection', emerging: 'identifies the beginning sound of their own name when prompted by the teacher', proficient: 'matches 8 or more letters to their primary sounds and identifies beginning sounds in common words like ball starts with B', advanced: 'matches most letters to sounds, identifies beginning and ending sounds in simple words, and attempts to spell words by selecting letters based on sounds they hear' },
    ],
  },

  // ── Birthday ─────────────────────────────────────────────────────────
  {
    name: 'birthday',
    uniqueGradeAngle: 'Preschool is the most naturally powerful stage for birthday worksheets because three- and four-year-olds hold their own age as the single most important number in their entire world \u2014 they announce it proudly, hold up the matching number of fingers, and correct anyone who gets it wrong, making their birthday the most personally meaningful mathematical context available at any age. Birthday worksheets are uniquely effective at the preschool level because they convert this intense personal number knowledge into broader mathematical learning: a child who fiercely knows they are four can use that certainty as a launchpad for counting four candles, comparing four to five, and understanding that next year they will be one more. The celebration context also provides the most emotionally charged social-emotional learning opportunities of any theme, naturally introducing concepts of sharing, taking turns, expressing gratitude, and including others \u2014 all critical preschool developmental goals that emerge organically from party scenarios without requiring any forced instruction.',
    developmentalMilestones: [
      { milestone: 'Personal number identity and age-based counting (preschoolers anchor their number knowledge in their own age)', howWeAddress: 'birthday worksheets leverage the single most meaningful number in a preschooler\u0027s life by using age-based counting, candle counting, and age comparison activities that transform personal identity into mathematical reasoning' },
      { milestone: 'Social-emotional learning through celebration scenarios (preschoolers are developing sharing, turn-taking, and gratitude skills)', howWeAddress: 'birthday party worksheets naturally introduce sharing cake equally, taking turns opening presents, writing thank-you messages, and including all friends, teaching prosocial skills through the most motivating social context available' },
      { milestone: 'Temporal reasoning through birthday anticipation and memory (preschoolers are developing concepts of past, present, and future)', howWeAddress: 'birthday worksheets that ask children to remember their last birthday and anticipate their next one build temporal reasoning through the most personally significant annual event, strengthening the past-present-future understanding that supports narrative comprehension' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on the child\u0027s own age as the central number and use real birthday props (candles, a paper plate cake, a party hat) alongside every worksheet to create immediate physical connections; reduce counting to sets matching the child\u0027s age or smaller and use one-to-one matching with real objects before moving to pictorial counting. For advanced preschoolers, introduce age comparison activities (who is older, who will be five first), extend counting to party scenes with ten or more items, and challenge children to plan a pretend birthday party by counting how many plates, cups, and party favors are needed for a specific number of guests \u2014 building early multiplication concepts through authentic party planning.',
    parentTakeaway: 'Birthday worksheets give preschool parents the most personally meaningful math learning opportunity available because your child already knows and cares deeply about one number \u2014 their age \u2014 and every birthday worksheet builds outward from that emotional anchor. The key insight is that your child\u0027s fierce pride in being three or four is not just cute \u2014 it is a genuine mathematical foundation that worksheets can expand into counting, comparing, and even early addition. On your child\u0027s actual birthday, count the candles together before lighting them, count the guests as they arrive, and count the presents before opening them. These real-world counting moments paired with birthday worksheets create the strongest number-sense memories of the entire year because the emotional significance of the event supercharges memory encoding. Between birthdays, use classmates\u0027 celebrations as ongoing counting practice opportunities.',
    classroomIntegration: 'Birthday worksheets integrate into preschool programming as a perennial theme that stays relevant all year because there is always a birthday approaching, happening, or just past in any classroom of fifteen or more children. Create a classroom birthday wall where each child\u0027s photo and birth date are displayed, providing a year-round reference for counting, comparing ages, and tracking the calendar. Use birthday coloring pages as arrival activities during birthday weeks, incorporate counting worksheets into a small-group math rotation where children count real candles, paper plates, and party favors, and connect sharing activities to a classroom birthday celebration routine where the birthday child helps distribute treats equally to all classmates. A dramatic play birthday party center with a pretend cake, wrapped boxes, and party supplies provides ongoing opportunities to practice counting, sharing, and social skills. Monthly birthday celebrations where children help plan quantities (how many cupcakes, how many napkins) provide the most authentic mathematical application of any classroom routine.',
    assessmentRubric: [
      { skill: 'Birthday counting and number recognition', emerging: 'holds up fingers to show their age and counts to 3 birthday items like candles with one-to-one correspondence using physical pointing', proficient: 'counts to 7 birthday items reliably, identifies the matching numeral, and connects counting to party contexts like five children need five plates', advanced: 'counts to 10+, compares party quantities, and solves simple distribution problems like sharing eight treats equally among four friends' },
      { skill: 'Birthday social-emotional skills', emerging: 'identifies one sharing behavior in a party illustration like giving a gift with teacher prompting', proficient: 'describes two or more sharing and turn-taking behaviors in party scenarios and connects them to classroom expectations', advanced: 'plans a pretend party that includes sharing, turn-taking, and including all classmates, and explains why these behaviors matter using phrases like everyone should get a piece so nobody feels left out' },
      { skill: 'Birthday temporal reasoning', emerging: 'identifies their own age and names one thing that happened at their last birthday with teacher support', proficient: 'describes their last birthday and anticipates their next one using words like last time and next year', advanced: 'sequences birthday events in order, compares ages with classmates using older and younger, and understands that birthdays happen once each year in a repeating cycle' },
    ],
  },

  // ── Body ─────────────────────────────────────────────────────────────
  {
    name: 'body',
    uniqueGradeAngle: 'Preschool is the most naturally immersive stage for body worksheets because three- and four-year-olds carry the ultimate learning manipulative with them at all times \u2014 their own body \u2014 making this the only theme where every concept can be immediately verified through self-touch, self-observation, and self-movement without requiring any external materials. Body worksheets are uniquely powerful at the preschool level because children are in the peak period of body schema development, constructing the internal map of their physical self that underlies all coordinated movement, spatial reasoning, and self-care independence. When a preschooler labels eyes on a worksheet and then touches their own eyes, two brain systems fire simultaneously \u2014 visual-symbolic processing and proprioceptive body awareness \u2014 creating a dual-encoded memory that is stronger than either pathway alone. No other theme offers this built-in, always-available, self-verifying connection between worksheet content and lived experience.',
    developmentalMilestones: [
      { milestone: 'Body schema construction and body part identification (preschoolers are building the internal map of their physical self)', howWeAddress: 'body worksheets that ask children to label, color, and point to specific body parts directly strengthen the proprioceptive body schema that underlies all coordinated movement, self-care skills, and spatial reasoning' },
      { milestone: 'Five senses exploration and sensory vocabulary (preschoolers are learning to identify and describe sensory experiences)', howWeAddress: 'body worksheets that connect eyes to seeing, ears to hearing, nose to smelling, tongue to tasting, and hands to touching build the sensory vocabulary that children need to describe their experiences and that later supports scientific observation and descriptive writing' },
      { milestone: 'Self-care sequence learning through body awareness (preschoolers are developing independence in hygiene and dressing routines)', howWeAddress: 'body worksheets that illustrate hand-washing steps, tooth-brushing sequences, and getting-dressed routines connect body knowledge to practical independence skills that families and teachers reinforce daily' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on six major body parts (head, arms, hands, legs, feet, tummy) before introducing smaller features like elbows, wrists, and ankles; always use a mirror alongside worksheets so children can look at their own body while working, and pair every labeling activity with a touch-your-own movement. For advanced preschoolers, introduce internal body concepts like bones help us stand up and muscles help us move, extend body part counting to include quantities (two eyes, two ears, one nose, ten fingers, ten toes), and challenge children to describe what each body part does using complete function sentences like my ears help me hear music and my legs help me run fast.',
    parentTakeaway: 'Body worksheets give preschool parents the most effortless learning reinforcement of any theme because your child\u0027s body is always available as a teaching tool \u2014 no special materials, no preparation, no cost. After completing a body worksheet about hands, simply ask your child to count their own fingers. After a senses worksheet, play a quick game: close your eyes and guess what sound you hear, or smell something with your eyes closed and guess what it is. The key insight is that body knowledge is not just academic vocabulary \u2014 it is the foundation of self-care independence. When your child can name body parts and understand their functions, they can follow hygiene instructions (wash your hands means something specific when they know where their hands are and what clean means), dress themselves more efficiently, and communicate about pain or discomfort to adults. Every body worksheet builds both academic knowledge and practical life skills simultaneously.',
    classroomIntegration: 'Body worksheets anchor the most personally relevant and continuously applicable thematic unit in preschool because body knowledge is reinforced every time a child washes hands, gets dressed, eats a snack, or plays outside. Create a life-size body tracing project where each child lies on butcher paper while a partner traces their outline, then labels body parts over several days using vocabulary from worksheets. Use body coloring pages as arrival activities, incorporate counting worksheets (how many fingers, how many toes) into a small-group math rotation, and connect senses worksheets to a classroom sensory exploration station with items to see, hear, smell, touch, and taste. A daily movement break where children follow instructions like touch your elbows, wiggle your fingers, stomp your feet bridges worksheet vocabulary to gross motor activity. The hand-washing and tooth-brushing sequences practiced on worksheets connect directly to daily classroom hygiene routines, making body worksheets the only theme where classroom procedures and academic content are literally the same thing.',
    assessmentRubric: [
      { skill: 'Body part identification and vocabulary', emerging: 'points to and names 4 or fewer major body parts like head, hands, and feet with teacher prompting', proficient: 'independently names 10 or more body parts on themselves and on illustrations, and identifies the matching body part when given a function clue like which part helps you see', advanced: 'names 15+ body parts including smaller features like wrist, ankle, and elbow, describes functions of each, and uses body vocabulary in complete sentences' },
      { skill: 'Five senses recognition', emerging: 'identifies one sense-body part connection like eyes are for seeing with teacher modeling', proficient: 'correctly matches all five senses to their body parts and gives one example of each like my nose helps me smell flowers', advanced: 'matches all five senses, gives multiple examples for each, and describes experiences using sensory vocabulary like I heard a loud bird and it sounded like a whistle' },
      { skill: 'Body counting and self-care sequences', emerging: 'counts to 3 body parts like two eyes and one nose with physical pointing on their own body', proficient: 'counts body parts accurately to 10 including fingers and toes, and orders a 3-step self-care sequence like wet hands, add soap, rinse', advanced: 'counts all body parts, orders 4+ step sequences, explains why each step matters, and demonstrates independence in classroom hygiene routines' },
    ],
  },

  // ── Camping ──────────────────────────────────────────────────────────
  {
    name: 'camping',
    uniqueGradeAngle: 'Preschool is the most imagination-rich stage for camping worksheets because three- and four-year-olds are in the golden age of pretend play, and camping is the ultimate pretend-play theme \u2014 even a blanket draped over two chairs becomes a tent, a flashlight becomes an expedition tool, and the living room floor becomes a forest clearing, meaning camping worksheets activate the imaginative engine that drives all preschool learning more powerfully than any theme rooted in ordinary daily experience. Camping is uniquely effective at the preschool level because it introduces the concept of preparation and planning in the most exciting possible context: children must think about what to pack, what to wear, what to eat, and what to do, building executive function skills through adventure-driven decision-making rather than mundane routine. The outdoor nature setting also provides the richest vocabulary expansion opportunity of any adventure theme, introducing words like tent, campfire, trail, compass, sleeping bag, flashlight, and marshmallow \u2014 many of which are new to preschoolers and carry an exciting novelty that makes them memorable.',
    developmentalMilestones: [
      { milestone: 'Adventure vocabulary acquisition through novel object exploration (preschoolers are in the rapid vocabulary expansion phase)', howWeAddress: 'camping worksheets introduce 15 or more specialized vocabulary words that are new, exciting, and concrete (tent, campfire, sleeping bag, compass, trail, marshmallow, flashlight, pinecone, canteen), and the novelty of these words combined with vivid illustrations makes them memorable after fewer exposures than everyday vocabulary' },
      { milestone: 'Preparation and packing as executive function practice (preschoolers are developing planning, sequencing, and categorical thinking)', howWeAddress: 'camping packing worksheets where children decide what to bring on a trip build the planning and categorization skills that underlie all executive function, teaching children to think ahead about what they will need before they leave' },
      { milestone: 'Nature observation and classification through outdoor imagery (preschoolers are developing the ability to notice, name, and sort natural objects)', howWeAddress: 'camping scene worksheets featuring trees, animals, rocks, water, and sky introduce the foundational observation and classification skills that support later science learning, all within the most exciting outdoor context available' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on three immediately recognizable camping objects (tent, campfire, flashlight) and build a mini classroom camping area with a blanket tent, a pretend campfire made from tissue paper and cardboard tubes, and a real flashlight that children can hold while working on worksheets; reduce counting to sets of three or fewer and use large, simple illustrations. For advanced preschoolers, introduce the concept of camping preparation by having children sort items into categories like things to sleep in, things to eat, and things to explore with, extend counting to busy campsite scenes with ten or more items, and challenge children to plan a pretend camping trip by listing what they would pack, where they would go, and what they would do, building narrative planning and sequential reasoning skills.',
    parentTakeaway: 'Camping worksheets give preschool parents the most exciting indoor-to-outdoor learning bridge because every camping worksheet activity can be immediately transformed into a real adventure \u2014 even in your living room. After completing a camping worksheet about tents, build a blanket fort together. After a campfire counting page, make pretend s\u0027mores with graham crackers and marshmallows and count them. After a nature observation worksheet, go outside and look for real pinecones, leaves, and bugs. The key insight is that camping is the only theme where the pretend-play version is nearly as powerful as the real thing: a backyard campout with a flashlight and a sleeping bag creates genuine memories and learning opportunities that rival any organized activity. If you can manage a real camping trip, bring worksheets along and complete them by flashlight in the tent \u2014 this will be the single most memorable worksheet experience of your child\u0027s entire preschool year.',
    classroomIntegration: 'Camping worksheets anchor a preschool thematic unit that transforms the classroom into a base camp for imagination-driven learning across every developmental domain. Build a dramatic play camping area with a pop-up tent or blanket fort, pretend campfire, stuffed forest animals, and camping gear that children can use during free play to reinforce vocabulary and scenarios from worksheets. Use camping coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count pinecones, plastic animals, and camping gear items, and connect sorting worksheets to a packing station where children decide which items belong in a camping backpack versus a school backpack. A classroom nature walk where children collect leaves, rocks, and sticks provides real specimens that can be counted, sorted, and described back in the classroom. Campfire circle time where children sit around the pretend fire and share their favorite worksheet discoveries builds oral language skills while reinforcing the camping theme through social storytelling.',
    assessmentRubric: [
      { skill: 'Camping vocabulary and identification', emerging: 'names two camping items like tent and fire from illustrations with teacher prompting', proficient: 'independently names six or more camping items, describes what each is used for, and uses camping words in sentences like we sleep in a sleeping bag', advanced: 'names 10+ items, categorizes them by purpose like shelter, food, and tools, and describes a camping sequence using temporal vocabulary like first we set up the tent, then we make a fire' },
      { skill: 'Counting camping objects', emerging: 'counts to 3 camping items like pinecones or marshmallows with one-to-one correspondence using physical pointing', proficient: 'counts to 7 camping items reliably, identifies the matching numeral, and uses camping context words like five marshmallows', advanced: 'counts to 10+, compares two groups of camping items, and solves simple camping story problems like if we need two marshmallows for each person and there are three people how many do we need' },
      { skill: 'Camping preparation and planning', emerging: 'selects one appropriate item for a camping trip from a set of two choices with teacher guidance', proficient: 'sorts four or more items into what to bring camping versus what to leave at home and explains one reason for each choice', advanced: 'plans a pretend camping trip by selecting appropriate items from a large set, explains why each item is needed, and sequences trip events using first, then, next, and last' },
    ],
  },

  // ── Circus ───────────────────────────────────────────────────────────
  {
    name: 'circus',
    uniqueGradeAngle: 'Preschool is the most visually electrified stage for circus worksheets because three- and four-year-olds are in the peak period of color learning and visual attention development, and the circus is the most color-saturated, visually dynamic theme available in any educational context \u2014 bold stripes on the big top, bright costumes on performers, colorful juggling balls in the air, and sparkly decorations everywhere create a visual feast that captures and sustains preschool attention more effectively than any muted or everyday theme. Circus worksheets are uniquely powerful at the preschool level because they combine three developmental priorities simultaneously: color recognition through the most vivid color palette of any theme, counting through naturally exciting sets like juggling balls, acrobats, and performing animals, and creative expression through the most imaginative characters and scenarios available. The performance element adds a dimension that no other theme provides \u2014 children can pretend to be circus performers while learning, turning counting into a juggling act, pattern-making into a tightrope walk, and matching into a magic trick.',
    developmentalMilestones: [
      { milestone: 'Color recognition and naming through the most vivid visual context (preschoolers are mastering color vocabulary and visual discrimination)', howWeAddress: 'circus illustrations feature every primary and secondary color in bold, unmissable combinations across costumes, tents, and props, providing more color-naming opportunities per worksheet page than any other theme' },
      { milestone: 'Counting with performance excitement and sustained engagement (preschoolers need emotional engagement to persist through counting practice)', howWeAddress: 'circus counting activities featuring juggling balls, performing animals, and audience members leverage the spectacle and excitement of performance to sustain counting attention far longer than neutral counting contexts' },
      { milestone: 'Creative expression and imaginative play through performer role-play (preschoolers are in the peak period of pretend play development)', howWeAddress: 'circus worksheets where children design clown faces, create costume patterns, and plan circus acts provide the most creatively open-ended worksheet activities available, building imagination and self-expression alongside academic skills' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on three high-engagement circus elements (clown, balloon, tent) and use real circus props like a red foam nose, colorful scarves for juggling, and a party hat as a clown hat alongside worksheets; reduce counting to sets of three or fewer and use extra-large, brightly colored illustrations with thick outlines. For advanced preschoolers, introduce pattern creation on circus tents (stripe color patterns like red, blue, red, blue), extend counting to busy circus ring scenes with ten or more performers and objects, and challenge children to design their own circus performer by choosing costume colors, props, and a performance act, then describing their creation using color, number, and action vocabulary in complete sentences.',
    parentTakeaway: 'Circus worksheets give preschool parents the most entertaining learning experience because the circus theme makes every worksheet feel like a show rather than a lesson \u2014 and this is not just fun, it is pedagogically powerful. When your child is excited and entertained, their brain encodes learning more deeply and retrieves it more easily. The key parent strategy is to lean into the performance element: narrate your child\u0027s work like a ringmaster (amazing, the juggler has counted all five balls!), let them take a bow after completing a page, and turn counting practice into a real juggling session with soft scarves or rolled-up socks. For color learning, the circus is unmatched because every illustration features multiple bold colors that demand naming \u2014 point to the clown\u0027s red nose, blue hat, and yellow shoes and ask your child to name each color. This single worksheet page delivers more color-naming practice than an entire week of everyday conversation.',
    classroomIntegration: 'Circus worksheets anchor the most physically active and theatrically engaging thematic unit available in preschool programming because every circus concept translates directly into a movement or performance activity. Create a classroom circus dramatic play area with a hula hoop ring, scarves for juggling, a balance beam or tape line for tightrope walking, and simple costumes for performer role-play. Use circus coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count juggling balls, performing animals, and audience members using real objects like soft balls and toy animals, and connect color recognition activities to a circus costume color-sorting station. A classroom circus show where each child performs a simple act (counting while juggling scarves, walking the tape tightrope, doing a silly clown walk) culminates the unit by transforming worksheet skills into live performance. The high-energy, celebratory nature of circus activities makes this theme ideal for re-engaging reluctant learners and providing sensory-seeking children with a structured outlet for their energy.',
    assessmentRubric: [
      { skill: 'Circus color recognition and naming', emerging: 'names two colors when pointing to a circus illustration with teacher prompting', proficient: 'independently names six or more colors in circus contexts and matches colored objects to color words', advanced: 'names all primary and secondary colors, describes circus items using color and another attribute like the big red tent, and creates color patterns on circus-themed worksheets' },
      { skill: 'Counting circus objects', emerging: 'counts to 3 circus items like juggling balls or clowns with one-to-one correspondence using physical pointing', proficient: 'counts to 7 circus items reliably, identifies the matching numeral, and uses circus context words like five juggling balls', advanced: 'counts to 10+, compares two groups of circus objects, and creates or continues circus-themed counting sequences' },
      { skill: 'Circus creative expression', emerging: 'colors a circus character using one or two colors with whole-arm strokes', proficient: 'decorates a circus character with multiple colors within boundaries and describes their character using two or more descriptive words like a funny red clown', advanced: 'designs an original circus character with deliberate color and pattern choices, describes the character and their act in complete sentences, and acts out the performance during dramatic play' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close preschool }, then 'kindergarten':
  // Uses a regex that handles both \n and \r\n
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'kindergarten':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected
  if (content.includes("uniqueGradeAngle: '") && content.indexOf("uniqueGradeAngle: '") < content.indexOf("'kindergarten':")) {
    console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in preschool section`);
    continue;
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 preschool fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
