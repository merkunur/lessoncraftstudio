/**
 * CRYPTOGRAM APP - Professional Swedish Translation
 * Version: 1.0.0
 * Last Updated: December 2024
 * Total Keys: 194
 * Language: Swedish (sv)
 *
 * Professional translation with 20+ years of UI/UX localization experience.
 * Focused on natural, idiomatic Swedish as if originally developed in Sweden.
 */

const CRYPTOGRAM_TRANSLATIONS_SV = {
  "sv": {
    // ============= 1. Language Names (11 keys) =============
    "language.english": "English (Engelska)",
    "language.german.full": "Deutsch (Tyska)",
    "language.french.full": "Français (Franska)",
    "language.spanish.full": "Español (Spanska)",
    "language.portuguese.full": "Português (Portugisiska)",
    "language.italian.full": "Italiano (Italienska)",
    "language.dutch.full": "Nederlands (Nederländska)",
    "language.swedish.full": "Svenska",
    "language.danish.full": "Dansk (Danska)",
    "language.norwegian.full": "Norsk (Norska)",
    "language.finnish.full": "Suomi (Finska)",

    // ============= 2. Core UI (6 keys) =============
    "title": "Kryptograminställningar",
    "imageCryptogram": "Bildkryptogram",
    "selectLanguage": "Välj språk",
    "language": "Språk:",
    "pageSize": "Sidstorlek:",
    "pageSetup": "Sidformat",

    // ============= 3. Puzzle Rules (7 keys) =============
    "cryptogram.puzzle.rules": "Pusselregler",
    "cryptogram.phrases.label": "Meningar (en per rad):",
    "cryptogram.phrases.placeholder": "Den snabba bruna räven...",
    "cryptogram.letters.reveal": "Bokstäver att avslöja:",
    "cryptogram.max.lines": "Max rader per pussel:",
    "cryptogram.auto.assign": "Tilldela bilder automatiskt",
    "cryptogram.language.description": "Bildnamn och teman visas på det valda språket.",

    // ============= 4. Image Assignment (9 keys) =============
    "cryptogram.image.assignment": "Bildtilldelning",
    "cryptogram.image.theme": "Bildtema:",
    "cryptogram.select.letter": "Välj en bokstav för att tilldela en bild:",
    "cryptogram.search.label": "Sök bilder:",
    "cryptogram.search.placeholder": "t.ex. äpple, bil",
    "cryptogram.available.images": "Tillgängliga bilder (klicka för att tilldela):",
    "cryptogram.select.letter.above": "Välj en bokstav ovan.",
    "cryptogram.assigned.images": "Tilldelade bilder:",
    "cryptogram.msg.type.search": "Skriv för att söka bland alla bilder.",

    // ============= 5. Upload Section (4 keys) =============
    "cryptogram.upload.title": "Ladda upp egna bilder",
    "cryptogram.upload.select": "Välj bild(er) att ladda upp:",
    "cryptogram.uploaded.label": "Dina uppladdade bilder:",
    "cryptogram.uploaded.placeholder": "Dina uppladdade bilder visas här.",

    // ============= 6. Page Setup (19 keys) =============
    "cryptogram.page.setup": "Sidformat",
    "page.size.letter.portrait": "Letter Stående (8,5×11\")",
    "page.size.letter.landscape": "Letter Liggande (11×8,5\")",
    "page.size.a4.portrait": "A4 Stående (210×297mm)",
    "page.size.a4.landscape": "A4 Liggande (297×210mm)",
    "page.size.square": "Kvadrat (1200×1200)",
    "page.size.custom": "Anpassad",
    "cryptogram.width.label": "Bredd (px):",
    "cryptogram.height.label": "Höjd (px):",
    "cryptogram.page.color": "Sidfärg:",
    "cryptogram.apply.size.color": "Tillämpa storlek & färg",
    "cryptogram.background.title": "Bakgrund",
    "cryptogram.background.theme": "Bakgrundstema:",
    "cryptogram.background.message": "Välj ett tema för bakgrunder.",
    "cryptogram.background.opacity": "Bakgrundsopacitet:",
    "cryptogram.border.title": "Ram",
    "cryptogram.border.theme": "Ramtema:",
    "cryptogram.border.message": "Välj ett tema för ramar.",
    "cryptogram.border.opacity": "Ramopacitet:",

    // ============= 7. Text Tools (15 keys) =============
    "cryptogram.text.tools": "Textverktyg",
    "cryptogram.text.add.new": "Lägg till ny text",
    "cryptogram.text.content.label": "Innehåll:",
    "cryptogram.text.placeholder": "Hej!",
    "cryptogram.text.add.button": "Lägg till text",
    "cryptogram.text.properties": "Egenskaper för markerad text",
    "cryptogram.text.color": "Färg:",
    "cryptogram.text.size": "Storlek:",
    "cryptogram.text.font": "Typsnitt:",
    "cryptogram.text.outline.color": "Konturfärg:",
    "cryptogram.text.outline.width": "Kontur (0-10):",
    "cryptogram.text.default": "Ny text",
    "cryptogram.page.title": "Bildkryptogram-generator",
    "cryptogram.msg.text.added": "Text tillagd på arbetsytan.",
    "cryptogram.msg.text.updated": "Textegenskaper uppdaterade.",

    // ============= 8. Font Options (7 keys) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Toolbar Actions (20 keys) =============
    "toolbar.layers": "Lager",
    "toolbar.bring.forward": "Flytta framåt",
    "toolbar.send.backward": "Flytta bakåt",
    "toolbar.align": "Justera",
    "toolbar.align.selected": "Justera markering:",
    "toolbar.align.left": "Vänsterjustera",
    "toolbar.center.h": "Centrera horisontellt",
    "toolbar.align.right": "Högerjustera",
    "toolbar.align.top": "Justera uppåt",
    "toolbar.center.v": "Centrera vertikalt",
    "toolbar.align.bottom": "Justera nedåt",
    "toolbar.align.to.page": "Justera på sidan:",
    "toolbar.center.page.h": "Centrera horisontellt på sidan",
    "toolbar.center.page.v": "Centrera vertikalt på sidan",
    "toolbar.delete": "Ta bort markering",
    "toolbar.msg.aligned": "Objekt justerade.",
    "toolbar.msg.layer.changed": "Lagerordning ändrad.",
    "toolbar.msg.deleted": "Markerade objekt borttagna.",
    "toolbar.msg.select.first": "Välj ett objekt först.",
    "toolbar.msg.nothing.selected": "Inga objekt markerade.",

    // ============= 10. Action Buttons (10 keys) =============
    "cryptogram.generate": "Skapa",
    "cryptogram.download": "Ladda ner",
    "cryptogram.download.worksheet.jpeg": "Arbetsblad (JPEG)",
    "cryptogram.download.answer.jpeg": "Facit (JPEG)",
    "cryptogram.download.worksheet.pdf": "Arbetsblad (PDF)",
    "cryptogram.download.answer.pdf": "Facit (PDF)",
    "common.grayscale": "Gråskala",
    "cryptogram.clear.all": "Rensa allt",
    "cryptogram.msg.generate.complete": "Kryptogram skapat!",
    "cryptogram.msg.cleared": "Allt innehåll har raderats.",

    // ============= 11. Tab Labels (2 keys) =============
    "cryptogram.tab.worksheet": "Arbetsblad",
    "cryptogram.tab.answer": "Facit",

    // ============= 12. Generation Messages (6 keys) =============
    "cryptogram.msg.generating": "Skapar pusseldata...",
    "cryptogram.msg.worksheet.generated": "Arbetsblad skapat!",
    "cryptogram.msg.error": "Fel: {error}",
    "cryptogram.msg.enter.phrase": "Ange minst en mening.",
    "cryptogram.msg.missing.images": "Bilder saknas för bokstäverna: {letters}. Tilldela eller använd automatisk tilldelning.",
    "cryptogram.msg.generate.first": "Skapa innehåll först.",

    // ============= 13. Theme Loading Messages (6 keys) =============
    "cryptogram.themes.all": "Alla teman",
    "cryptogram.msg.themes.error": "Kunde inte ladda teman.",
    "cryptogram.msg.loading.default": "Laddar standardtema...",
    "cryptogram.msg.loading.theme": "Laddar {theme}...",
    "cryptogram.msg.theme.failed": "Misslyckades att ladda tema \"{theme}\"",
    "cryptogram.msg.theme.loaded": "Tema laddat.",

    // ============= 14. Auto-Assign Messages (6 keys) =============
    "cryptogram.msg.fetching.images": "Hämtar alla bilder för automatisk tilldelning...",
    "cryptogram.msg.fetch.failed": "Misslyckades att hämta bildlista från servern.",
    "cryptogram.msg.no.images.server": "Kan inte tilldela automatiskt. Inga bilder hittades på servern.",
    "cryptogram.msg.auto.assigned": "Bilder har tilldelats automatiskt.",
    "cryptogram.msg.select.letter.first": "Välj en bokstav först.",
    "cryptogram.msg.auto.assigning": "Tilldelar bilder till bokstäver automatiskt...",

    // ============= 15. Search Messages (5 keys) =============
    "cryptogram.msg.searching": "Söker...",
    "cryptogram.msg.search.failed": "Sökning efter \"{query}\" misslyckades",
    "cryptogram.msg.no.images": "Inga bilder hittades{query}",
    "cryptogram.msg.uploads.available": "{count} egen(a) bild(er) tillgänglig(a).",
    "cryptogram.msg.search.complete": "Sökning klar.",

    // ============= 16. Clear & Download Messages (15 keys) =============
    "cryptogram.msg.form.cleared": "Formulär rensat.",
    "cryptogram.msg.canvas.unavailable": "Arbetsyta inte tillgänglig.",
    "cryptogram.msg.preparing.file": "Förbereder {fileName}...",
    "cryptogram.msg.jpeg.initiated": "JPEG-nedladdning startad!",
    "cryptogram.msg.jpeg.error": "Fel vid förberedelse av JPEG: {error}",
    "cryptogram.watermark.main": "GRATIS VERSION - LessonCraftStudio.com",
    "cryptogram.watermark.text": "GRATIS VERSION",
    "cryptogram.msg.preparing.pdf": "Förbereder PDF...",
    "cryptogram.msg.pdf.downloaded": "PDF nedladdad!",
    "cryptogram.msg.pdf.error": "Fel vid skapande av PDF.",
    "cryptogram.msg.generate.worksheet.first": "Skapa ett arbetsblad först.",
    "cryptogram.msg.preparing.jpeg": "Förbereder JPEG...",
    "cryptogram.msg.jpeg.error.simple": "Fel vid förberedelse av JPEG.",
    "cryptogram.msg.pdf.error.detailed": "Fel vid skapande av PDF: {error}",
    "cryptogram.msg.download.ready": "Nedladdning klar.",

    // ============= 17. Asset Loading Messages (5 keys) =============
    "cryptogram.asset.select": "Välj ett tema för att se {type}.",
    "cryptogram.asset.loading": "Laddar {type} för {theme}...",
    "cryptogram.asset.none": "Inga {type} i detta tema.",
    "cryptogram.asset.error": "Fel vid laddning av {type}.",
    "cryptogram.asset.loaded": "{type} laddade.",

    // ============= 18. Common Terms (3 keys) =============
    "common.none": "Ingen",
    "common.loading": "Laddar...",
    "common.error": "Fel",

    // ============= 19. Placeholders (5 keys) =============
    "placeholder.search": "Sök...",
    "placeholder.enter.text": "Skriv text här",
    "placeholder.custom.width": "Bredd",
    "placeholder.custom.height": "Höjd",
    "placeholder.reveal.count": "0",

    // ============= 20. Page Title (1 key) =============
    "cryptogram.page.title": "Bildkryptogram-generator",

    // ============= 21. Error Messages (32 keys) =============
    "error.invalid.dimensions": "Ogiltiga dimensioner. Kontrollera bredd och höjd.",
    "error.no.theme.selected": "Välj ett tema först.",
    "error.no.images.theme": "Inga bilder tillgängliga i det valda temat.",
    "error.upload.failed": "Uppladdning misslyckades. Försök igen.",
    "error.file.too.large": "Filen är för stor. Maxstorlek är 5MB.",
    "error.invalid.file.type": "Ogiltig filtyp. Ladda endast upp bildfiler.",
    "error.canvas.creation": "Fel vid skapande av arbetsyta.",
    "error.export.failed": "Export misslyckades. Försök igen.",
    "error.network": "Nätverksfel. Kontrollera din anslutning.",
    "error.theme.empty": "Det valda temat innehåller inga bilder.",
    "error.puzzle.generation": "Kunde inte skapa pussel. Prova med andra meningar.",
    "error.insufficient.images": "För få bilder för alla bokstäver. Lägg till fler bilder eller minska antalet unika bokstäver.",
    "error.no.intersections": "Kunde inte hitta tillräckligt med korsningar för orden. Prova andra bilder.",
    "error.invalid.phrase": "Ogiltig mening. Ange giltig text.",
    "error.letter.assignment": "Fel vid tilldelning av bild till bokstav.",
    "error.image.loading": "Fel vid laddning av bild.",
    "error.border.loading": "Fel vid laddning av ram.",
    "error.background.loading": "Fel vid laddning av bakgrund.",
    "error.text.empty": "Ange textinnehåll.",
    "error.object.selection": "Välj ett objekt att ändra.",
    "error.alignment": "Fel vid justering av objekt.",
    "error.layer.operation": "Fel vid ändring av lagerordning.",
    "error.delete.operation": "Fel vid borttagning av objekt.",
    "error.color.invalid": "Ogiltigt färgvärde.",
    "error.size.invalid": "Ogiltigt storleksvärde.",
    "error.outline.invalid": "Ogiltig konturbredd.",
    "error.opacity.invalid": "Ogiltigt opacitetsvärde.",
    "error.theme.not.found": "Tema hittades inte.",
    "error.api.connection": "Kunde inte ansluta till servern.",
    "error.session.expired": "Sessionen har gått ut. Ladda om sidan.",
    "error.browser.unsupported": "Din webbläsare stöds inte. Använd en modern webbläsare.",
    "error.feature.unavailable": "Denna funktion är inte tillgänglig i gratisversionen."
  }
};

// ==========================================
// HELPER FUNCTIONS FOR SWEDISH TRANSLATION
// ==========================================

/**
 * Get Swedish translation for a key
 * @param {string} key - Translation key
 * @param {object} params - Parameters for interpolation
 * @returns {string} Translated text in Swedish
 */
function getSwedishCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_SV.sv[key] ||
                     CRYPTOGRAM_TRANSLATIONS_SV.en?.[key] ||
                     key;

  return formatSwedishCryptogramTranslation(translation, params);
}

/**
 * Format Swedish translation with parameters
 * @param {string} text - Text with placeholders
 * @param {object} params - Parameters to replace
 * @returns {string} Formatted text
 */
function formatSwedishCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validate Swedish translations
 * @returns {object} Validation result
 */
function validateSwedishCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_SV.sv);
  const totalExpected = 194;

  return {
    valid: keys.length === totalExpected,
    coverage: `${((keys.length / totalExpected) * 100).toFixed(1)}%`,
    missing: totalExpected - keys.length,
    total: keys.length,
    expected: totalExpected
  };
}

/**
 * Swedish alphabet for cryptogram
 * Includes standard letters plus Swedish special characters
 */
const SWEDISH_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZÅÄÖ';

/**
 * Get Swedish-specific cryptogram settings
 */
function getSwedishCryptogramSettings() {
  return {
    alphabet: SWEDISH_CRYPTOGRAM_ALPHABET,
    defaultRevealCount: 2,
    maxLinesPerPuzzle: 8,
    supportedFonts: [
      'Arial',
      'Verdana',
      'Lexend Deca',
      'Baloo 2',
      'Nunito',
      'Quicksand',
      'Fredoka'
    ],
    paperSizes: {
      'a4': 'A4 (Standard i Sverige)',
      'letter': 'Letter (Amerikanskt format)',
      'square': 'Kvadrat'
    }
  };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_SV,
    getSwedishCryptogramTranslation,
    formatSwedishCryptogramTranslation,
    validateSwedishCryptogramTranslations,
    SWEDISH_CRYPTOGRAM_ALPHABET,
    getSwedishCryptogramSettings
  };
}

// Make available globally in browser
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_SV = CRYPTOGRAM_TRANSLATIONS_SV;
  window.getSwedishCryptogramTranslation = getSwedishCryptogramTranslation;
  window.formatSwedishCryptogramTranslation = formatSwedishCryptogramTranslation;
  window.validateSwedishCryptogramTranslations = validateSwedishCryptogramTranslations;
  window.SWEDISH_CRYPTOGRAM_ALPHABET = SWEDISH_CRYPTOGRAM_ALPHABET;
  window.getSwedishCryptogramSettings = getSwedishCryptogramSettings;
}