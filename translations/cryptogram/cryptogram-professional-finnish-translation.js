/**
 * Kuvakryptogrammi - Ammattimainen suomenkielinen käännös
 * Avainten määrä: 194
 * Kieli: Suomi (FI)
 *
 * Käännös toteutettu luonnollista suomen kieltä käyttäen,
 * ikään kuin sovellus olisi alun perin kehitetty Suomessa.
 */

const CRYPTOGRAM_TRANSLATIONS_FI = {
  "fi": {
    // ============= 1. Kielten nimet (11 avainta) =============
    "language.english": "Englanti",
    "language.german.full": "Deutsch (Saksa)",
    "language.french.full": "Français (Ranska)",
    "language.spanish.full": "Español (Espanja)",
    "language.portuguese.full": "Português (Portugali)",
    "language.italian.full": "Italiano (Italia)",
    "language.dutch.full": "Nederlands (Hollanti)",
    "language.swedish.full": "Svenska (Ruotsi)",
    "language.danish.full": "Dansk (Tanska)",
    "language.norwegian.full": "Norsk (Norja)",
    "language.finnish.full": "Suomi (Suomi)",

    // ============= 2. Pääkäyttöliittymä (6 avainta) =============
    "title": "Kryptogrammin asetukset",
    "imageCryptogram": "Kuvakryptogrammi",
    "selectLanguage": "Valitse kieli",
    "language": "Kieli:",
    "pageSize": "Sivukoko:",
    "pageSetup": "Sivun asetukset",

    // ============= 3. Tehtävän säännöt (7 avainta) =============
    "cryptogram.puzzle.rules": "Tehtävän säännöt",
    "cryptogram.phrases.label": "Lauseet (yksi per rivi):",
    "cryptogram.phrases.placeholder": "Nopea ruskea kettu...",
    "cryptogram.letters.reveal": "Paljastettavat kirjaimet:",
    "cryptogram.max.lines": "Maksimi rivimäärä tehtävää kohti:",
    "cryptogram.auto.assign": "Lisää kuvat automaattisesti",
    "cryptogram.language.description": "Kuvien nimet ja teemat näytetään valitulla kielellä.",

    // ============= 4. Kuvien määrittely (9 avainta) =============
    "cryptogram.image.assignment": "Kuvien määrittely",
    "cryptogram.image.theme": "Kuvateema:",
    "cryptogram.select.letter": "Valitse kirjain lisätäksesi kuvan:",
    "cryptogram.search.label": "Hae kuvia:",
    "cryptogram.search.placeholder": "esim. omena, auto",
    "cryptogram.available.images": "Käytettävissä olevat kuvat (klikkaa lisätäksesi):",
    "cryptogram.select.letter.above": "Valitse kirjain yllä.",
    "cryptogram.assigned.images": "Määritellyt kuvat:",
    "cryptogram.msg.type.search": "Kirjoita hakeaksesi kaikista kuvista.",

    // ============= 5. Latausosio (4 avainta) =============
    "cryptogram.upload.title": "Lataa omia kuvia",
    "cryptogram.upload.select": "Valitse ladattava(t) kuva(t):",
    "cryptogram.uploaded.label": "Omat ladatut kuvat:",
    "cryptogram.uploaded.placeholder": "Ladatut kuvasi näkyvät tässä.",

    // ============= 6. Sivun asetukset (19 avainta) =============
    "cryptogram.page.setup": "Sivun asetukset",
    "page.size.letter.portrait": "Letter pysty (8,5×11\")",
    "page.size.letter.landscape": "Letter vaaka (11×8,5\")",
    "page.size.a4.portrait": "A4 pysty (210×297mm)",
    "page.size.a4.landscape": "A4 vaaka (297×210mm)",
    "page.size.square": "Neliö (1200×1200)",
    "page.size.custom": "Mukautettu",
    "cryptogram.width.label": "Leveys (px):",
    "cryptogram.height.label": "Korkeus (px):",
    "cryptogram.page.color": "Sivun väri:",
    "cryptogram.apply.size.color": "Käytä kokoa ja väriä",
    "cryptogram.background.title": "Tausta",
    "cryptogram.background.theme": "Taustateema:",
    "cryptogram.background.message": "Valitse teema taustoille.",
    "cryptogram.background.opacity": "Taustan läpinäkyvyys:",
    "cryptogram.border.title": "Reunus",
    "cryptogram.border.theme": "Reunusteema:",
    "cryptogram.border.message": "Valitse teema nähdäksesi reunukset.",
    "cryptogram.border.opacity": "Reunuksen läpinäkyvyys:",

    // ============= 7. Tekstityökalut (15 avainta) =============
    "cryptogram.text.tools": "Tekstityökalut",
    "cryptogram.text.add.new": "Lisää uusi teksti",
    "cryptogram.text.content.label": "Sisältö:",
    "cryptogram.text.placeholder": "Hei!",
    "cryptogram.text.add.button": "Lisää teksti",
    "cryptogram.text.properties": "Valitun tekstin ominaisuudet",
    "cryptogram.text.color": "Väri:",
    "cryptogram.text.size": "Koko:",
    "cryptogram.text.font": "Fontti:",
    "cryptogram.text.outline.color": "Ääriviivan väri:",
    "cryptogram.text.outline.width": "Ääriviiva (0-10):",
    "cryptogram.text.default": "Uusi teksti",
    "cryptogram.page.title": "Kuvakryptogrammi-tehtäväarkin luonti",
    "cryptogram.msg.text.added": "Teksti lisätty kankaalle.",
    "cryptogram.msg.text.updated": "Tekstin ominaisuudet päivitetty.",

    // ============= 8. Fontit (7 avainta) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Työkalupalkin toiminnot (20 avainta) =============
    "toolbar.layers": "Tasot",
    "toolbar.bring.forward": "Tuo eteen",
    "toolbar.send.backward": "Vie taakse",
    "toolbar.align": "Kohdista",
    "toolbar.align.selected": "Kohdista valitut:",
    "toolbar.align.left": "Tasaa vasemmalle",
    "toolbar.center.h": "Keskitä vaakasuunnassa",
    "toolbar.align.right": "Tasaa oikealle",
    "toolbar.align.top": "Tasaa ylös",
    "toolbar.center.v": "Keskitä pystysuunnassa",
    "toolbar.align.bottom": "Tasaa alas",
    "toolbar.align.to.page": "Kohdista sivulle:",
    "toolbar.center.page.h": "Keskitä sivulle vaakasuunnassa",
    "toolbar.center.page.v": "Keskitä sivulle pystysuunnassa",
    "toolbar.delete": "Poista valitut",
    "toolbar.msg.aligned": "Kohteet kohdistettu.",
    "toolbar.msg.layer.changed": "Tasojärjestys muutettu.",
    "toolbar.msg.deleted": "Valitut kohteet poistettu.",
    "toolbar.msg.select.first": "Valitse ensin kohde.",
    "toolbar.msg.nothing.selected": "Ei valittuja kohteita.",

    // ============= 10. Toimintopainikkeet (10 avainta) =============
    "cryptogram.generate": "Luo",
    "cryptogram.download": "Lataa",
    "cryptogram.download.worksheet.jpeg": "Tehtäväarkki (JPEG)",
    "cryptogram.download.answer.jpeg": "Vastaukset (JPEG)",
    "cryptogram.download.worksheet.pdf": "Tehtäväarkki (PDF)",
    "cryptogram.download.answer.pdf": "Vastaukset (PDF)",
    "common.grayscale": "Harmaasävy",
    "cryptogram.clear.all": "Tyhjennä kaikki",
    "cryptogram.msg.generate.complete": "Kryptogrammi luotu onnistuneesti!",
    "cryptogram.msg.cleared": "Kaikki sisältö tyhjennetty.",

    // ============= 11. Välilehtien nimet (2 avainta) =============
    "cryptogram.tab.worksheet": "Tehtäväarkki",
    "cryptogram.tab.answer": "Vastaukset",

    // ============= 12. Luontiviestit (6 avainta) =============
    "cryptogram.msg.generating": "Luodaan tehtävädataa...",
    "cryptogram.msg.worksheet.generated": "Tehtäväarkki luotu onnistuneesti!",
    "cryptogram.msg.error": "Virhe: {error}",
    "cryptogram.msg.enter.phrase": "Kirjoita vähintään yksi lause.",
    "cryptogram.msg.missing.images": "Kirjaimille puuttuu kuvia: {letters}. Määrittele tai käytä automaattista lisäystä.",
    "cryptogram.msg.generate.first": "Luo ensin sisältö.",

    // ============= 13. Teeman latausviestit (6 avainta) =============
    "cryptogram.themes.all": "Kaikki teemat",
    "cryptogram.msg.themes.error": "Teemojen lataus epäonnistui.",
    "cryptogram.msg.loading.default": "Ladataan oletusteemaa...",
    "cryptogram.msg.loading.theme": "Ladataan teemaa {theme}...",
    "cryptogram.msg.theme.failed": "Teeman \"{theme}\" lataus epäonnistui",
    "cryptogram.msg.theme.loaded": "Teema ladattu onnistuneesti.",

    // ============= 14. Automaattisen lisäyksen viestit (6 avainta) =============
    "cryptogram.msg.fetching.images": "Haetaan kaikkia kuvia automaattista lisäystä varten...",
    "cryptogram.msg.fetch.failed": "Kuvaluettelon haku palvelimelta epäonnistui.",
    "cryptogram.msg.no.images.server": "Automaattinen lisäys ei onnistu. Palvelimelta ei löytynyt kuvia.",
    "cryptogram.msg.auto.assigned": "Kuvat on lisätty automaattisesti.",
    "cryptogram.msg.select.letter.first": "Valitse ensin kirjain.",
    "cryptogram.msg.auto.assigning": "Lisätään kuvia kirjaimille automaattisesti...",

    // ============= 15. Hakuviestit (5 avainta) =============
    "cryptogram.msg.searching": "Haetaan...",
    "cryptogram.msg.search.failed": "Haku \"{query}\" epäonnistui",
    "cryptogram.msg.no.images": "Kuvia ei löytynyt{query}",
    "cryptogram.msg.uploads.available": "{count} omaa kuvaa käytettävissä.",
    "cryptogram.msg.search.complete": "Haku valmis.",

    // ============= 16. Tyhjennys- ja latausviestit (15 avainta) =============
    "cryptogram.msg.form.cleared": "Lomake tyhjennetty.",
    "cryptogram.msg.canvas.unavailable": "Kangas ei ole käytettävissä.",
    "cryptogram.msg.preparing.file": "Valmistellaan tiedostoa {fileName}...",
    "cryptogram.msg.jpeg.initiated": "JPEG-lataus aloitettu!",
    "cryptogram.msg.jpeg.error": "Virhe JPEG-tiedoston valmistelussa: {error}",
    "cryptogram.watermark.main": "ILMAISVERSIO - LessonCraftStudio.com",
    "cryptogram.watermark.text": "ILMAISVERSIO",
    "cryptogram.msg.preparing.pdf": "Valmistellaan PDF-tiedostoa...",
    "cryptogram.msg.pdf.downloaded": "PDF ladattu!",
    "cryptogram.msg.pdf.error": "Virhe PDF-tiedoston luonnissa.",
    "cryptogram.msg.generate.worksheet.first": "Luo ensin tehtäväarkki.",
    "cryptogram.msg.preparing.jpeg": "Valmistellaan JPEG-tiedostoa...",
    "cryptogram.msg.jpeg.error.simple": "Virhe JPEG-tiedoston valmistelussa.",
    "cryptogram.msg.pdf.error.detailed": "Virhe PDF-tiedoston luonnissa: {error}",
    "cryptogram.msg.download.ready": "Lataus valmis.",

    // ============= 17. Resurssien latausviestit (5 avainta) =============
    "cryptogram.asset.select": "Valitse teema nähdäksesi {type}.",
    "cryptogram.asset.loading": "Ladataan teeman {theme} {type}...",
    "cryptogram.asset.none": "Tässä teemassa ei ole {type}.",
    "cryptogram.asset.error": "Virhe ladattaessa {type}.",
    "cryptogram.asset.loaded": "{type} ladattu onnistuneesti.",

    // ============= 18. Yleiset termit (3 avainta) =============
    "common.none": "Ei mitään",
    "common.loading": "Ladataan...",
    "common.error": "Virhe",

    // ============= 19. Paikanvaraajat (5 avainta) =============
    "placeholder.search": "Hae...",
    "placeholder.enter.text": "Kirjoita teksti tähän",
    "placeholder.custom.width": "Leveys",
    "placeholder.custom.height": "Korkeus",
    "placeholder.reveal.count": "0",

    // ============= 20. Virheilmoitukset (32 avainta) =============
    "error.invalid.dimensions": "Virheelliset mitat. Tarkista leveys ja korkeus.",
    "error.no.theme.selected": "Valitse ensin teema.",
    "error.no.images.theme": "Valitussa teemassa ei ole kuvia.",
    "error.upload.failed": "Lataus epäonnistui. Yritä uudelleen.",
    "error.file.too.large": "Tiedosto on liian suuri. Maksimikoko on 5MB.",
    "error.invalid.file.type": "Virheellinen tiedostotyyppi. Lataa vain kuvatiedostoja.",
    "error.canvas.creation": "Virhe kankaan luomisessa.",
    "error.export.failed": "Vienti epäonnistui. Yritä uudelleen.",
    "error.network": "Verkkovirhe. Tarkista yhteytesi.",
    "error.theme.empty": "Valitussa teemassa ei ole kuvia.",
    "error.puzzle.generation": "Tehtävän luonti epäonnistui. Kokeile eri lauseita.",
    "error.insufficient.images": "Liian vähän kuvia kaikille kirjaimille. Lisää kuvia tai vähennä erilaisia kirjaimia.",
    "error.no.intersections": "Ei löydetty tarpeeksi risteyksiä sanoille. Kokeile eri kuvia.",
    "error.invalid.phrase": "Virheellinen lause. Kirjoita kelvollinen teksti.",
    "error.letter.assignment": "Virhe kuvan lisäämisessä kirjaimelle.",
    "error.image.loading": "Virhe kuvan latauksessa.",
    "error.border.loading": "Virhe reunuksen latauksessa.",
    "error.background.loading": "Virhe taustan latauksessa.",
    "error.text.empty": "Kirjoita tekstisisältö.",
    "error.object.selection": "Valitse muokattava kohde.",
    "error.alignment": "Virhe kohteiden kohdistamisessa.",
    "error.layer.operation": "Virhe tasojärjestyksen muuttamisessa.",
    "error.delete.operation": "Virhe kohteiden poistamisessa.",
    "error.color.invalid": "Virheellinen väriarvo.",
    "error.size.invalid": "Virheellinen kokoarvo.",
    "error.outline.invalid": "Virheellinen ääriviivan leveys.",
    "error.opacity.invalid": "Virheellinen läpinäkyvyysarvo.",
    "error.theme.not.found": "Teemaa ei löytynyt.",
    "error.api.connection": "Yhteyttä palvelimeen ei saatu.",
    "error.session.expired": "Istunto on vanhentunut. Päivitä sivu.",
    "error.browser.unsupported": "Selaintasi ei tueta. Käytä modernia selainta.",
    "error.feature.unavailable": "Tämä ominaisuus ei ole käytettävissä ilmaisversiossa."
  }
};

// ==========================================
// APUFUNKTIOT SUOMENKIELISELLE KÄÄNNÖKSELLE
// ==========================================

/**
 * Hae suomenkielinen käännös avaimelle
 * @param {string} key - Käännösavain
 * @param {object} params - Parametrit interpolointia varten
 * @returns {string} Käännetty teksti
 */
function getFinnishCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_FI.fi[key] || key;
  return formatFinnishCryptogramTranslation(translation, params);
}

/**
 * Muotoile suomenkielinen käännös parametreilla
 * @param {string} text - Teksti paikanvaraajilla
 * @param {object} params - Parametrit, jotka korvaavat paikanvaraajat
 * @returns {string} Muotoiltu teksti
 */
function formatFinnishCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validoi suomenkieliset käännökset
 * @returns {object} Validoinnin tulos
 */
function validateFinnishCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_FI.fi);
  const missingKeys = [];
  const emptyTranslations = [];

  // Tarkista tyhjät käännökset
  keys.forEach(key => {
    const value = CRYPTOGRAM_TRANSLATIONS_FI.fi[key];
    if (!value || value.trim() === '') {
      emptyTranslations.push(key);
    }
  });

  return {
    totalKeys: keys.length,
    validKeys: keys.length - emptyTranslations.length,
    missingKeys,
    emptyTranslations,
    coverage: `${((keys.length - emptyTranslations.length) / keys.length * 100).toFixed(1)}%`,
    isComplete: emptyTranslations.length === 0
  };
}

// ==========================================
// SUOMEN AAKKOSTO KRYPTOGRAMMILLE
// ==========================================

/**
 * Suomen aakkosto kryptogrammitehtäviin
 * Sisältää Ä ja Ö erillisinä kirjaimina
 */
const FINNISH_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZÄÖ';

/**
 * Luo kirjainpainikkeet suomen aakkostolle
 * @returns {string} HTML kirjainpainikkeille
 */
function generateFinnishLetterButtons() {
  let buttonsHTML = '';
  for (const letter of FINNISH_CRYPTOGRAM_ALPHABET) {
    buttonsHTML += `<button class="letter-btn" data-letter="${letter}">${letter}</button>`;
  }
  return buttonsHTML;
}

// ==========================================
// VIENTI MUIHIN MODUULEIHIN
// ==========================================

if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_FI,
    getFinnishCryptogramTranslation,
    formatFinnishCryptogramTranslation,
    validateFinnishCryptogramTranslations,
    FINNISH_CRYPTOGRAM_ALPHABET,
    generateFinnishLetterButtons
  };
}

// Aseta saataville globaalisti selaimessa
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_FI = CRYPTOGRAM_TRANSLATIONS_FI;
  window.getFinnishCryptogramTranslation = getFinnishCryptogramTranslation;
  window.formatFinnishCryptogramTranslation = formatFinnishCryptogramTranslation;
  window.validateFinnishCryptogramTranslations = validateFinnishCryptogramTranslations;
  window.FINNISH_CRYPTOGRAM_ALPHABET = FINNISH_CRYPTOGRAM_ALPHABET;
  window.generateFinnishLetterButtons = generateFinnishLetterButtons;
}