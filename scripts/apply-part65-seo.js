/**
 * SEO Part 65: Enrich preschool grade for superheroes, toys, transportation, travel, vegetables
 * Adds 6 grade-level enrichment fields to gradeContent.preschool for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Superheroes ─────────────────────────────────────────────────────
  {
    name: 'superheroes',
    uniqueGradeAngle: 'Preschool is the most heroically empowering stage for superhero worksheets because three- and four-year-olds are in the critical period of developing self-concept and personal agency \u2014 they are discovering what they can do, what they are good at, and what kind of person they want to be, and superheroes provide the most aspirational, identity-building narrative framework available because every child can imagine themselves with the power to help others, solve problems, and overcome challenges. Superhero worksheets are uniquely powerful at the preschool level because they combine vocabulary expansion (hero, cape, mask, shield, power, rescue, brave, strong), counting and sorting (how many heroes, how many villains, how many stars on the cape), letter and name recognition (superhero names, secret identities), and social-emotional development (what does it mean to be brave, how do heroes help their community) into one thrillingly empowering context that makes children feel capable and important. The prosocial dimension of superheroes is especially developmentally significant at the preschool level because children are learning the difference between using strength to help versus using strength to harm \u2014 superhero worksheets that emphasize kindness, helping, and protecting teach the values-driven behavior that forms the foundation of moral development.',
    developmentalMilestones: [
      { milestone: 'Superhero vocabulary and character identification (preschoolers are expanding vocabulary through characters they admire and want to emulate)', howWeAddress: 'superhero worksheets where children identify capes, masks, shields, and powers build vocabulary through the most aspirationally exciting context available because children remember words connected to characters they want to become' },
      { milestone: 'Counting and pattern recognition with superhero elements (preschoolers are developing one-to-one correspondence and pattern skills)', howWeAddress: 'superhero worksheets where children count stars on shields, sort heroes by cape color, and identify patterns in hero costumes build math foundations through visually dynamic, action-filled contexts that hold attention longer than neutral objects' },
      { milestone: 'Social-emotional development through heroic values (preschoolers are developing understanding of helping, bravery, and prosocial behavior)', howWeAddress: 'superhero worksheets that explore what makes someone a hero, how heroes help their communities, and what brave choices look like build the moral reasoning and empathy vocabulary that support all later social development' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on three core superhero vocabulary items (hero, cape, mask) and use physical props like a fabric cape and a paper mask to make every worksheet tangible and embodied; reduce counting to sets of three or fewer and simplify character identification to matching one hero attribute like cape color. For advanced preschoolers, introduce extended superhero vocabulary including shield, rescue, brave, protect, and mission, challenge children to create their own superhero with a name, costume, and special power, extend counting to ten or more hero elements, and encourage storytelling where children narrate a rescue mission using sequential vocabulary like first the hero heard someone calling for help, then they flew to the scene, next they solved the problem, and finally everyone was safe.',
    parentTakeaway: 'Superhero worksheets give preschool parents the most identity-building learning tool because your child is not just coloring a hero \u2014 they are imagining themselves as someone brave, kind, and powerful enough to help others, and this self-concept is the foundation of confidence, resilience, and prosocial behavior that will shape how they approach every challenge in life. The key strategy is to connect superhero play to real-life heroism: when your child helps a sibling, shares a toy, or comforts a friend, say you are being a real superhero right now \u2014 heroes help people, and that is exactly what you just did. This connection between fictional heroism and everyday kindness is the most powerful moral development tool available at this age. When your child can name superhero attributes, count hero elements, and explain what makes someone a hero using words like brave, kind, and helpful, they have internalized both the vocabulary and the values that superhero worksheets teach. The counting, sorting, and storytelling skills are genuine academic benefits, but the deepest gift of superhero worksheets at the preschool level is that your child learns to see themselves as someone who makes the world better.',
    classroomIntegration: 'Superhero worksheets anchor the most empoweringly dramatic thematic unit in preschool because the superhero theme naturally transforms the classroom into a space where every child has a special power and an important mission. Create a superhero corner with capes, masks, and shields that children use during dramatic play, and connect each child to a classroom superpower \u2014 the kindness hero, the sharing champion, the cleanup captain \u2014 so that heroism becomes part of daily classroom culture rather than just a worksheet topic. Use superhero coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count and sort hero accessories from a prop box, and connect storytelling worksheets to a group adventure where the class collaboratively narrates a rescue mission. A superhero of the week recognition where one child is celebrated for a specific prosocial behavior connects the theme to genuine social-emotional learning. A hero training obstacle course during outdoor time integrates physical development with the superhero narrative. The key pedagogical insight is that superheroes are not just a fun theme \u2014 they are the most powerful vehicle available for teaching preschoolers that being strong means being kind.',
    assessmentRubric: [
      { skill: 'Superhero vocabulary and identification', emerging: 'names one or two superhero items like cape and mask from illustrations with teacher prompting', proficient: 'independently names five or more superhero vocabulary words, describes what each item is used for, and identifies superhero attributes in illustrations', advanced: 'names eight or more superhero vocabulary words, creates and describes an original superhero character with specific attributes, and uses hero vocabulary in extended dramatic play scenarios' },
      { skill: 'Counting with superhero contexts', emerging: 'counts to 3 superhero items like stars on a shield with one-to-one correspondence using physical pointing', proficient: 'counts to 7 superhero-related items reliably, sorts heroes or accessories into two categories, and compares groups using more and fewer', advanced: 'counts to 10+, creates simple addition problems using superhero contexts like four heroes on the ground and three heroes flying is seven heroes altogether, and identifies patterns in hero costumes' },
      { skill: 'Heroic values and prosocial vocabulary', emerging: 'identifies one heroic action like helping with teacher prompting', proficient: 'names three or more heroic actions like helping, sharing, and being brave, explains what makes someone a hero, and identifies heroic behavior in story illustrations', advanced: 'explains multiple heroic values using complete sentences, connects fictional heroism to real-life kindness, and demonstrates prosocial behavior in the classroom while articulating why it matters using hero vocabulary' },
    ],
  },

  // ── Toys ────────────────────────────────────────────────────────────
  {
    name: 'toys',
    uniqueGradeAngle: 'Preschool is the most play-immersed stage for toy worksheets because three- and four-year-olds are in the developmental period where play is not just recreation but is the primary mode of learning \u2014 toys are the most important objects in a preschooler\u2019s world, and worksheets about toys connect academic skills to the items children care about most passionately, creating the strongest possible emotional bridge between learning and lived experience. Toy worksheets are uniquely powerful at the preschool level because they combine counting (how many blocks, how many dolls), sorting and classification (soft toys versus hard toys, big toys versus small toys, indoor toys versus outdoor toys), vocabulary expansion (the names and descriptions of dozens of toy types), and social skills (sharing toys, taking turns, cleaning up) into one universally relatable context that every child connects to instantly. The ownership and sharing dimension of toys provides the most authentic context for social-emotional learning at the preschool level because toy conflicts \u2014 who gets the truck, whose turn is it with the doll \u2014 are the real social challenges preschoolers face daily, making toy worksheets about sharing and turn-taking immediately applicable to classroom life.',
    developmentalMilestones: [
      { milestone: 'Toy identification and descriptive vocabulary (preschoolers are expanding their ability to name objects and describe them using multiple attributes)', howWeAddress: 'toy worksheets where children identify and describe blocks, dolls, cars, puzzles, balls, and stuffed animals using words like big, small, soft, hard, round, and colorful build descriptive vocabulary through the objects children know and love most deeply' },
      { milestone: 'Counting and sorting toys by attributes (preschoolers are developing classification skills and one-to-one correspondence)', howWeAddress: 'toy worksheets where children count toys in a playroom scene, sort them by type or attribute, and compare groups build math foundations through the most personally meaningful objects available because every child has strong opinions about their toy collection' },
      { milestone: 'Sharing and social skills through toy contexts (preschoolers are actively learning to share, take turns, and resolve conflicts around possessions)', howWeAddress: 'toy worksheets that illustrate sharing scenarios, turn-taking sequences, and cleanup routines build the social-emotional vocabulary and behavioral scripts that directly address the most common preschool conflicts' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on five universally recognizable toys (ball, block, doll, car, teddy bear) and use real classroom toys alongside worksheets so children can hold each toy while learning its name and attributes; reduce counting to sets of three or fewer and simplify sorting to two categories (big toys versus small toys). For advanced preschoolers, introduce twelve or more toy types including less common items like puzzles, kites, robots, and musical instruments, challenge children to sort toys by multiple attributes simultaneously (soft and small versus hard and big), extend counting to ten or more toys in complex playroom scenes, and encourage descriptive language where children describe their favorite toy using three or more attributes and explain why they like it.',
    parentTakeaway: 'Toy worksheets give preschool parents the most naturally engaging learning tool because your child already has an encyclopedic knowledge of their toys and a passionate relationship with every single one \u2014 and worksheets that use toys as the learning context tap into this deep familiarity to teach counting, sorting, vocabulary, and social skills through the objects your child cares about most. The key strategy is to use toy cleanup time as a classification lesson: ask your child to put all the cars in one bin and all the stuffed animals in another, count the blocks before putting them away, and describe the toys using size, color, and texture words. When sharing conflicts arise \u2014 which they will, because they are the central social challenge of preschool life \u2014 use the vocabulary from toy worksheets: we take turns with toys, let your friend have a turn and then it will be your turn again. When your child can name and describe ten or more toys using multiple attributes, count toys accurately, sort them into categories, and articulate the concept of taking turns, they have mastered vocabulary, classification, counting, and social skills through the most emotionally invested context in their world.',
    classroomIntegration: 'Toy worksheets anchor the most immediately authentic thematic unit in preschool because the classroom is filled with toys that children interact with every single day \u2014 blocks, dolls, cars, puzzles, and art supplies are all toys, and every free-choice period is a toy-mediated learning session. Connect toy worksheets to the classroom toy inventory by having children count and categorize the toys on each shelf, create labels for toy bins using vocabulary from worksheets, and establish a cleanup routine where children sort toys by type as they put them away. Use toy coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count and sort real classroom toys, and connect sharing worksheets to the classroom sharing rules so that every toy conflict becomes a teaching moment connected to worksheet vocabulary. A toy of the week spotlight where one child brings a favorite toy from home, describes it to the class, and lets classmates take turns holding it builds descriptive vocabulary, public speaking, and sharing skills simultaneously. A classroom toy store dramatic play station where children use play money to buy and sell toys integrates math, vocabulary, and social skills into one activity.',
    assessmentRubric: [
      { skill: 'Toy identification and descriptive vocabulary', emerging: 'names two or three common toys like ball and doll from illustrations with teacher prompting', proficient: 'independently names eight or more toys, describes each using two or more attributes like the big red ball, and identifies toys by description alone', advanced: 'names 12+ toys, describes them using three or more attributes including material and function, and compares toys using descriptive language like the teddy bear is soft and light but the wooden block is hard and heavy' },
      { skill: 'Counting and sorting toys', emerging: 'counts to 3 toys with one-to-one correspondence using physical pointing', proficient: 'counts to 7 toys reliably, sorts toys into two categories like soft and hard, and compares groups using more and fewer', advanced: 'counts to 10+, sorts by multiple attributes simultaneously, and uses toy contexts in simple addition like five blocks plus three cars is eight toys altogether' },
      { skill: 'Sharing and social skills with toys', emerging: 'gives a toy to a peer when prompted by the teacher', proficient: 'independently takes turns with a toy using a timer or verbal agreement, uses words like your turn and my turn, and participates in cooperative play with shared materials', advanced: 'initiates sharing without prompting, mediates toy conflicts between peers using social vocabulary, and explains sharing rules using reasoning like we take turns so everyone gets to play and that is fair' },
    ],
  },

  // ── Transportation ──────────────────────────────────────────────────
  {
    name: 'transportation',
    uniqueGradeAngle: 'Preschool is the most vehicle-obsessed stage for transportation worksheets because three- and four-year-olds are in the peak period of fascination with things that move \u2014 cars, trucks, buses, trains, planes, and boats captivate preschoolers with an intensity that no other theme can match, and this deep intrinsic motivation means transportation worksheets capture and hold attention longer than almost any other topic. Transportation worksheets are uniquely powerful at the preschool level because they combine counting (how many wheels, how many windows, how many passengers), sorting and classification (land vehicles versus water vehicles versus air vehicles, vehicles with wheels versus vehicles without), vocabulary expansion (dozens of vehicle names plus parts like wheel, wing, engine, steering wheel, anchor), and spatial-directional concepts (vehicles go forward, backward, up, down, fast, slow) into one kinetically exciting context. The environmental awareness dimension adds a real-world connection because preschoolers ride in vehicles daily \u2014 they see buses, walk past construction vehicles, and watch planes overhead \u2014 making transportation worksheets the most experientially verifiable theme available since children can literally point to the real versions of everything they learn.',
    developmentalMilestones: [
      { milestone: 'Vehicle identification and naming across domains (preschoolers are learning to recognize and name vehicles they encounter in daily life)', howWeAddress: 'transportation worksheets where children identify cars, trucks, buses, trains, planes, boats, bicycles, and helicopters build the vocabulary that allows children to describe their environment, communicate about travel, and categorize the moving objects they see every single day' },
      { milestone: 'Vehicle classification by environment and attributes (preschoolers are developing the ability to sort objects into categories based on shared features)', howWeAddress: 'transportation worksheets where children sort vehicles into land, water, and air categories, or classify them by number of wheels, size, or function build the classification thinking that underlies all scientific reasoning, taught through objects that children find inherently fascinating' },
      { milestone: 'Counting vehicle parts and spatial-directional vocabulary (preschoolers are developing counting skills and learning positional language)', howWeAddress: 'transportation worksheets where children count wheels, windows, and passengers, and use directional words like up, down, forward, backward, fast, and slow build both math foundations and spatial vocabulary through the most movement-rich, kinetically engaging context available' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on four immediately recognizable vehicles (car, bus, train, plane) and use toy vehicles alongside worksheets so children can hold, move, and name each vehicle physically; reduce counting to wheels on one vehicle at a time (a car has four wheels) and simplify classification to two categories (things that drive versus things that fly). For advanced preschoolers, introduce ten or more vehicles including less common types like helicopter, submarine, ferry, and ambulance, challenge children to classify by multiple attributes simultaneously (vehicles with wheels that carry many people versus vehicles with wheels that carry few people), extend counting to complex scenes with multiple vehicles and dozens of countable parts, and encourage comparative language where children describe how vehicles are similar and different using complete sentences.',
    parentTakeaway: 'Transportation worksheets give preschool parents the most omnipresent real-world learning tool because vehicles are everywhere \u2014 every car ride, every bus sighting, every plane overhead, and every train crossing is a vocabulary, counting, and classification lesson that requires zero preparation and happens naturally throughout every single day. The key strategy is to narrate your commute: count the buses you pass, name the vehicles you see, classify them by type (that is a truck \u2014 trucks carry heavy things; that is a bus \u2014 buses carry many people), and describe their movement using spatial words (the car is going fast, the bicycle is going slowly, the plane is flying high above us). When your child starts spontaneously naming and classifying vehicles \u2014 look, a fire truck, it drives on the road and it has a ladder on top \u2014 they have internalized the vocabulary and classification skills from worksheets so deeply that every journey becomes an educational experience. The magic of transportation at this age is that your child is already obsessed \u2014 they watch vehicles with focused attention that adults reserve for the most compelling content, and worksheets simply channel this existing fascination into structured learning.',
    classroomIntegration: 'Transportation worksheets anchor the most kinetically engaging thematic unit in preschool because every vehicle concept can be experienced through movement, sound, and dramatic play. Create a transportation station with toy vehicles sorted by type (land, water, air) that children use during free choice time to reinforce vocabulary and classification from worksheets. Use vehicle coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count wheels on toy vehicles and sort them into category bins, and connect classification worksheets to a vehicle parking lot activity where children place toy vehicles in labeled zones (airport, harbor, road). A classroom bus or train made from chairs where children take turns being driver and passengers integrates dramatic play with transportation vocabulary. A vehicle of the week focus with a toy example, vocabulary cards, and related worksheets allows deep exploration of one vehicle type before moving to the next. A transportation sounds guessing game where children identify vehicles by their sounds (engine, horn, siren) builds auditory discrimination alongside vocabulary.',
    assessmentRubric: [
      { skill: 'Vehicle identification and naming', emerging: 'names two or three common vehicles like car and bus from illustrations with teacher prompting', proficient: 'independently names eight or more vehicles, describes what each does or where it goes, and identifies vehicles from real-world sightings', advanced: 'names 12+ vehicles including less common types, describes vehicle features using part names like wheels, wings, and engine, and explains what different vehicles are used for using complete sentences' },
      { skill: 'Vehicle classification', emerging: 'sorts vehicles into two groups with teacher modeling like cars here and planes there', proficient: 'independently sorts vehicles into three categories \u2014 land, water, air \u2014 and explains the sorting rule', advanced: 'sorts by multiple attributes simultaneously, identifies vehicles that could fit multiple categories like a seaplane goes in water and air, and creates original sorting rules' },
      { skill: 'Counting vehicle parts and spatial vocabulary', emerging: 'counts to 3 vehicle parts like wheels with one-to-one correspondence using physical pointing', proficient: 'counts to 7 vehicle parts reliably, uses spatial words like up, down, fast, and slow to describe vehicle movement, and compares vehicles using more wheels and fewer windows', advanced: 'counts to 10+ parts across multiple vehicles, uses directional vocabulary in complete sentences like the airplane flies high above the cars that drive on the road below, and creates simple addition problems using vehicle contexts' },
    ],
  },

  // ── Travel ──────────────────────────────────────────────────────────
  {
    name: 'travel',
    uniqueGradeAngle: 'Preschool is the most wonderfully wide-eyed stage for travel worksheets because three- and four-year-olds are in the period of maximum curiosity about the world beyond their immediate environment \u2014 they are beginning to understand that other places exist, that people live differently in different locations, and that journeys take you from here to somewhere new and exciting, making travel worksheets the most horizon-expanding theme available because they introduce the concept that the world is vast, diverse, and explorable. Travel worksheets are uniquely powerful at the preschool level because they combine geography awareness (different places have different landscapes, weather, and landmarks), vocabulary expansion (suitcase, passport, map, ticket, airport, beach, mountain, city), sequencing (packing, traveling, arriving, exploring), and cultural awareness (people in different places eat different foods, wear different clothes, and celebrate different traditions) into one adventure-filled context that makes learning feel like a journey. The preparation dimension of travel aligns perfectly with preschool executive function development because planning a trip \u2014 deciding what to pack, where to go, and what to do \u2014 exercises the same planning, sequencing, and decision-making skills that preschoolers are actively developing.',
    developmentalMilestones: [
      { milestone: 'Travel vocabulary and destination awareness (preschoolers are expanding their understanding that the world extends far beyond their home and school)', howWeAddress: 'travel worksheets where children identify suitcases, passports, maps, tickets, and landmarks like beaches, mountains, and cities build geography vocabulary and the foundational understanding that many different places exist, each with unique features worth exploring' },
      { milestone: 'Packing and trip preparation sequencing (preschoolers are developing executive function skills including planning and sequential thinking)', howWeAddress: 'travel worksheets where children sequence the steps of a trip \u2014 pack a suitcase, go to the airport, board the plane, arrive at the destination, explore \u2014 build the planning and procedural reasoning that support all later organizational skills' },
      { milestone: 'Cultural awareness through destination exploration (preschoolers are developing the understanding that people live differently in different places)', howWeAddress: 'travel worksheets that show different landscapes, foods, clothing, and traditions from various destinations introduce the earliest multicultural awareness, teaching children that differences are interesting and valuable rather than strange' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on four immediately recognizable travel items (suitcase, map, ticket, camera) and two contrasting destinations (beach and mountain) and use real props like a small suitcase, a toy camera, and a simple map to make every worksheet tangible; simplify trip sequencing to three steps (pack, travel, arrive) and use photo cards of real destinations rather than abstract illustrations. For advanced preschoolers, introduce eight or more travel vocabulary items including passport, boarding pass, hotel, and souvenir, challenge children to plan a complete trip by choosing a destination, packing appropriate items, and describing what they will do there using sequential vocabulary, extend cultural awareness to comparing three or more destinations by weather, food, and activities, and encourage travel journal activities where children draw and describe an imaginary trip using descriptive and sequential vocabulary.',
    parentTakeaway: 'Travel worksheets give preschool parents the most world-expanding learning tool because even if your family has never left your city, travel worksheets open a window to the entire world and teach your child that there are mountains to climb, oceans to swim in, and cities to explore \u2014 building the curiosity and geographical awareness that makes them eager learners for life. The key strategy is to turn every local outing into a mini-adventure: pack a bag together, look at a map, travel to your destination (even if it is just the park), and explore \u2014 this sequence mirrors the trip-planning skills from worksheets and teaches your child that every journey, no matter how small, involves preparation, navigation, and discovery. When planning a real trip or even a pretend one, let your child help pack: what do we need for the beach versus what do we need for the mountains \u2014 this is a classification activity that also builds planning and decision-making skills. When your child can name travel items, sequence a trip from planning to arrival, describe different destinations, and explain that people in different places have different customs, they have developed vocabulary, sequencing, geography, and cultural awareness through the most adventure-filled context possible.',
    classroomIntegration: 'Travel worksheets anchor the most globally expansive thematic unit in preschool because the classroom can become a travel agency, an airport, and a destination all at once \u2014 a dramatic play area with suitcases, maps, tickets, and postcards creates an immersive travel experience that children return to throughout the day. Use travel coloring pages as morning arrival activities, incorporate vocabulary worksheets into a small-group language rotation where children name and describe travel items from a prop suitcase, and connect sequencing worksheets to a classroom trip simulation where children pack a bag, receive a ticket, board the pretend plane (a row of chairs), and arrive at a classroom destination decorated with posters. A destination of the week focus where the class explores a different place through pictures, foods, music, and worksheets builds sustained geographical and cultural awareness. A classroom passport that children stamp each time they learn about a new destination adds an element of collection and progress. A packing station where children decide what to put in a suitcase for different weather conditions builds classification and reasoning skills through the most adventure-themed context available.',
    assessmentRubric: [
      { skill: 'Travel vocabulary and destination awareness', emerging: 'names one or two travel items like suitcase and map from illustrations with teacher prompting', proficient: 'independently names six or more travel items, describes two or more destination types like beach and mountain, and explains that different places look different', advanced: 'names 10+ travel vocabulary words, describes three or more destinations with specific features like the beach has sand and ocean and you can swim, and explains that people in different places have different customs' },
      { skill: 'Trip preparation and sequencing', emerging: 'identifies one step in a trip sequence like packing a suitcase with teacher prompting', proficient: 'orders four trip steps in correct sequence and uses temporal words like first, then, next, and finally to describe the journey', advanced: 'sequences five or more trip steps, explains why order matters for specific steps, and plans an original trip by choosing a destination and describing preparation, travel, and activities in order' },
      { skill: 'Packing and classification reasoning', emerging: 'selects one appropriate item to pack for a destination with teacher guidance', proficient: 'selects four or more appropriate items for a specific destination, explains why each item is needed, and identifies one item that does not belong', advanced: 'packs for two contrasting destinations and explains the differences in what is needed, sorts travel items by category like clothing versus equipment versus documents, and describes packing decisions using reasoning like I packed sunscreen because the beach is sunny' },
    ],
  },

  // ── Vegetables ──────────────────────────────────────────────────────
  {
    name: 'vegetables',
    uniqueGradeAngle: 'Preschool is the most sensory-exploratory stage for vegetable worksheets because three- and four-year-olds learn through touching, smelling, and tasting \u2014 and vegetables provide the most multi-sensory learning objects available because every vegetable has a distinct color, shape, texture, weight, and flavor that children can experience directly, making vegetable worksheets that connect to real produce the most tangibly reinforceable academic content in the entire curriculum. Vegetable worksheets are uniquely powerful at the preschool level because they combine color identification (the orange of a carrot, the red of a tomato, the green of a cucumber), shape recognition (round tomatoes, long carrots, bumpy broccoli), counting and sorting (how many vegetables, which ones are green), vocabulary expansion (dozens of vegetable names that many preschoolers have never formally learned), and health awareness (vegetables help our bodies grow strong) into one nutritionally relevant, sensory-rich context. The health education dimension is uniquely important at the preschool level because food preferences are being formed during this exact developmental window \u2014 children who learn vegetable names, explore them through worksheets, and connect them to positive experiences become more willing to try and enjoy vegetables, making this the most consequentially health-promoting theme available.',
    developmentalMilestones: [
      { milestone: 'Vegetable identification and naming through sensory exploration (preschoolers are rapidly expanding vocabulary for objects they can see, touch, and taste)', howWeAddress: 'vegetable worksheets where children identify carrots, tomatoes, cucumbers, peppers, broccoli, peas, corn, and potatoes build food vocabulary through the most sensory-rich context available because every worksheet vegetable can be paired with a real one that children hold, smell, and taste' },
      { milestone: 'Color and shape recognition through vegetable attributes (preschoolers are developing the ability to describe objects using visual properties)', howWeAddress: 'vegetable worksheets where children sort by color (green vegetables versus red vegetables versus orange vegetables) and describe shapes (round tomatoes, long carrots, small round peas) build attribute vocabulary and classification skills through naturally colorful, distinctively shaped objects' },
      { milestone: 'Counting and sorting vegetables as foundational math (preschoolers are developing one-to-one correspondence and classification skills)', howWeAddress: 'vegetable worksheets where children count items in a garden or market scene and sort them by type, color, or size build math foundations through objects that are visually distinct and easy to differentiate, making counting and sorting feel natural rather than abstract' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on five visually distinctive vegetables (carrot, tomato, cucumber, corn, broccoli) and bring real vegetables to the table alongside worksheets so children can touch, hold, and name each one physically; reduce counting to sets of three or fewer and simplify sorting to two color categories (green vegetables versus not-green vegetables). For advanced preschoolers, introduce ten or more vegetables including less common types like zucchini, eggplant, radish, and asparagus, challenge children to sort by multiple attributes simultaneously (green and long versus red and round), extend counting to ten or more items in a garden or market scene, and encourage descriptive language where children describe vegetables using three or more attributes (the carrot is long, orange, and crunchy) and explain where vegetables grow (in the ground, on a vine, on a bush).',
    parentTakeaway: 'Vegetable worksheets give preschool parents the most nutritionally consequential learning tool because the preschool years are the critical window when food preferences are being established \u2014 and children who can name, identify, and describe vegetables are dramatically more likely to try and enjoy eating them, meaning every vegetable worksheet is both an academic exercise and a long-term health investment. The key strategy is to bring worksheet vegetables into the kitchen: after a worksheet about carrots, wash and peel a real carrot together, describe its color and shape, count the pieces you cut, and taste it \u2014 this multi-sensory reinforcement makes the learning unforgettable and the vegetable familiar rather than scary. Take your child to the grocery store or farmers market and turn it into a vegetable scavenger hunt: can you find the tomatoes, how many cucumbers are in the pile, what color is that pepper. When your child can name ten vegetables, describe their colors and shapes, sort them into categories, and willingly try new ones because they feel familiar from worksheets, you have achieved both academic learning and the healthy eating habits that will benefit them for life.',
    classroomIntegration: 'Vegetable worksheets anchor the most sensory-rich and health-promoting thematic unit in preschool because real vegetables can be brought into the classroom to make every worksheet concept touchable, smellable, and tasteable. Create a vegetable exploration station with real produce that children can examine with magnifying glasses, sort by color and size, and describe using vocabulary from worksheets. Use vegetable coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count and sort real or plastic vegetables from a market basket, and connect color sorting worksheets to a vegetable rainbow activity where children arrange real or illustrated vegetables by color from red to orange to green. A classroom garden where children plant simple vegetables like beans or lettuce connects the vegetable theme to the life cycle concepts from science, showing children where their food actually comes from. A weekly vegetable tasting where children try a small piece of the featured vegetable and describe it using texture, color, and taste words builds both vocabulary and healthy eating willingness. A pretend farmers market in the dramatic play area where children buy, sell, count, and name vegetables integrates math, vocabulary, and social skills.',
    assessmentRubric: [
      { skill: 'Vegetable identification and naming', emerging: 'names two or three common vegetables like carrot and tomato from real objects or illustrations with teacher prompting', proficient: 'independently names eight or more vegetables, describes the color and shape of each, and identifies vegetables in real-world contexts like grocery stores or lunch plates', advanced: 'names 12+ vegetables, describes them using three or more attributes like the broccoli is green and bumpy and looks like a little tree, and explains where different vegetables grow' },
      { skill: 'Vegetable color and shape sorting', emerging: 'sorts vegetables into two color groups with teacher modeling', proficient: 'independently sorts vegetables into three or more color categories, identifies the shapes of common vegetables like round and long, and explains sorting decisions', advanced: 'sorts by multiple attributes simultaneously like green and round versus orange and long, creates original sorting rules, and describes shape differences using comparative vocabulary like the cucumber is longer than the tomato but the tomato is rounder' },
      { skill: 'Counting vegetables', emerging: 'counts to 3 vegetables with one-to-one correspondence using physical pointing', proficient: 'counts to 7 vegetables reliably, counts items in a garden or market scene, and compares groups using more and fewer', advanced: 'counts to 10+, creates simple addition problems using vegetable contexts like four carrots and three tomatoes is seven vegetables, and counts vegetables sorted into subcategories to find totals' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close preschool }, then 'kindergarten':
  // Uses a regex that handles both \n and \r\n
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'kindergarten':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected
  if (content.includes("uniqueGradeAngle: '") && content.indexOf("uniqueGradeAngle: '") < content.indexOf("'kindergarten':")) {
    console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in preschool section`);
    continue;
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 preschool fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
