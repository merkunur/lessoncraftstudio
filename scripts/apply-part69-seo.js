/**
 * SEO Part 69: Enrich kindergarten grade for farm, flowers, food, forest, fruits
 * Adds 6 grade-level enrichment fields to gradeContent.kindergarten for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Farm ──────────────────────────────────────────────────────────────
  {
    name: 'farm',
    uniqueGradeAngle: 'Kindergarten is the most agriculturally meaningful stage for farm worksheets because five- and six-year-olds are developing the classification skills, life science understanding, and cause-and-effect reasoning to engage with farming not just as a charming rural backdrop but as the system that produces the food they eat every day \u2014 they can classify animals by what they produce (milk, eggs, wool), understand that crops grow from seeds through a sequence of stages, and grasp the concept that farmers make purposeful decisions about what to plant, when to harvest, and how to care for animals. Farm worksheets are uniquely powerful at the kindergarten level because children can now engage with animal classification using multiple attributes (sorting farm animals by size, diet, habitat, and what they produce for humans), plant life cycles from seed to harvest (sequencing growth stages, understanding what plants need to grow), measurement and counting through authentic agricultural contexts (counting eggs, measuring plant growth, comparing animal sizes), and the food chain connection that links farm to table (understanding where milk, bread, eggs, and vegetables come from before they reach the grocery store). The food origins dimension is especially significant at the kindergarten level because many children have never connected the food on their plate to a living plant or animal \u2014 and farm worksheets that trace food from field to fork build the agricultural literacy that transforms eating from mindless consumption into an understanding of the natural systems that sustain human life.',
    developmentalMilestones: [
      { milestone: 'Farm animal classification and animal science (kindergarteners are developing multi-attribute classification skills sophisticated enough to sort animals by diet, habitat, and products)', howWeAddress: 'farm worksheets where children sort animals by what they eat (herbivore versus omnivore), where they live (barn, coop, pasture, pond), and what they produce (milk, eggs, wool, meat) build the scientific classification thinking that organizes biological knowledge systematically, practiced through the most familiar and beloved animal group children encounter' },
      { milestone: 'Plant life cycles and crop science (kindergarteners are developing the sequential reasoning and patience to understand growth as a process that unfolds over time)', howWeAddress: 'farm worksheets where children sequence the growth stages of crops from seed to sprout to plant to harvest, identify what plants need to grow (sun, water, soil, air), and compare different crops by growing season and harvest time build the life science understanding that connects biology to agriculture and teaches children that food production is a deliberate, knowledge-based process' },
      { milestone: 'Farm-to-table connections and agricultural math (kindergarteners are developing the causal reasoning to trace products from their origins to their daily use)', howWeAddress: 'farm worksheets where children match foods to the animals or plants that produce them, count farm products like eggs in a basket or apples on a tree, and solve simple addition and subtraction problems using farm scenarios build the agricultural literacy and authentic mathematical reasoning that connect classroom learning to the real-world systems that feed communities' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on six core farm animals (cow, pig, chicken, horse, sheep, goat) with clear photographs and simple one-product associations (cow gives milk, chicken gives eggs), simplify plant growth to three stages (seed, plant, food), use farm animal figurines alongside worksheets for concrete manipulation, and provide picture-matching activities rather than written responses for farm-to-table connections. For advanced kindergarteners, introduce twelve or more farm animals including less common ones like donkeys, turkeys, and ducks with multiple products and purposes, challenge children to compare farming across seasons (what grows in spring versus fall), extend writing to multi-sentence reports about how a specific food gets from farm to table, introduce the concept of organic farming and sustainable practices at a basic level, and encourage a farm planning project where children design a small farm choosing which animals and crops to include and explaining their choices.',
    parentTakeaway: 'Farm worksheets give kindergarten parents the most practically grounding learning tool because your kindergartener eats food from farms three times a day but may never have connected the milk in their cereal to a cow, the bread in their sandwich to a wheat field, or the egg on their plate to a chicken \u2014 and building that connection transforms both scientific understanding and food appreciation. The key strategy is to make farm connections visible in daily life: at the grocery store, ask where does this come from (this milk came from a cow on a dairy farm), at meals, trace one ingredient back to its source (these carrots grew in the ground from tiny seeds), and if possible, visit a local farm or farmers market where your child can see animals and crops firsthand. When your child can name fifteen farm animals and what each produces, sequence the growth of a plant from seed to harvest, explain where five common foods come from before they reach the store, and count and compare farm products using math vocabulary, they have built the classification, life science, and agricultural literacy that connects classroom learning to the food systems that sustain their daily life.',
    classroomIntegration: 'Farm worksheets anchor the most cross-curricular life science unit in kindergarten because farming connects naturally to science (animal classification, plant life cycles, habitats), math (counting products, measuring growth, comparing sizes), literacy (farm vocabulary, sequencing stories, informational writing), and social studies (where food comes from, community workers, rural versus urban life). Create a classroom farm corner with animal figurines, a small planting station with seedlings, and farm-themed books that children reference during centers. Use animal classification worksheets during science rotations where children sort figurines by multiple attributes, incorporate plant growth sequencing worksheets into a daily observation journal where children track real seedlings growing in the classroom, and connect farm math worksheets to a farm stand dramatic play area where children practice counting, simple transactions, and vocabulary. A farm-to-table investigation where children trace one food from seed or animal to their lunch tray builds agricultural awareness across multiple lessons. A class farm book where each child illustrates and writes about a different farm animal or crop creates a collaborative reference that practices research and informational writing skills.',
    assessmentRubric: [
      { skill: 'Farm animal classification and knowledge', emerging: 'names four or five farm animals and identifies one product like milk from a cow with teacher prompting', proficient: 'names twelve or more farm animals, classifies them by diet, habitat, and products they provide, and explains why farmers raise different animals for different purposes', advanced: 'compares farm animals across multiple attributes simultaneously, explains how animal needs vary by species, and describes the role of different animals in a complete farm ecosystem' },
      { skill: 'Plant life cycles and crop science', emerging: 'identifies a seed and a full-grown plant and names one thing plants need to grow with teacher support', proficient: 'sequences four or more growth stages from seed to harvest, names four things plants need (sun, water, soil, air), and compares two different crops by how they grow', advanced: 'explains the complete plant life cycle including pollination and seed dispersal at a basic level, compares growing conditions for different crops, and predicts what happens when plants do not receive what they need using cause-and-effect reasoning' },
      { skill: 'Farm-to-table connections and agricultural math', emerging: 'matches two or three foods to farm animals or plants with picture support', proficient: 'traces five or more foods from farm origin to table, counts and compares farm products in worksheet scenarios, and solves simple addition and subtraction problems using farm contexts', advanced: 'explains multi-step food production processes like wheat to flour to bread, creates original farm math problems, and describes how farming decisions affect what food is available in different seasons' },
    ],
  },

  // ── Flowers ───────────────────────────────────────────────────────────
  {
    name: 'flowers',
    uniqueGradeAngle: 'Kindergarten is the most botanically observant stage for flower worksheets because five- and six-year-olds are developing the scientific observation skills, color vocabulary, and life cycle understanding to engage with flowers as living organisms rather than simply pretty decorations \u2014 they can identify and name flower parts (petals, stem, leaves, roots), understand that flowers grow through a sequence of stages from seed to bloom, and observe with enough detail to notice differences between species in petal shape, color, size, and arrangement. Flower worksheets are uniquely powerful at the kindergarten level because children can now engage with plant anatomy through labeling and identification (naming parts of a flower and explaining what each part does), life cycle sequencing from seed to bloom to seed again (understanding the circular nature of plant reproduction), color and pattern observation using precise descriptive vocabulary (not just red but crimson, scarlet, and rose), and scientific comparison across species (how are daisies and sunflowers similar and different in structure, size, and habitat). The artistic observation dimension is especially significant at the kindergarten level because drawing flowers requires children to look carefully at real specimens and notice details they would otherwise overlook \u2014 the number of petals, the shape of leaves, the way stems branch \u2014 and this detailed observation is the foundation of both scientific inquiry and artistic skill.',
    developmentalMilestones: [
      { milestone: 'Flower anatomy and plant part identification (kindergarteners are developing the scientific vocabulary to name and understand the function of plant structures)', howWeAddress: 'flower worksheets where children label petals, stems, leaves, and roots on diagrams, explain what each part does (roots absorb water, leaves make food, petals attract pollinators), and compare flower parts across different species build the botanical vocabulary and structural understanding that form the foundation of all plant science' },
      { milestone: 'Flower life cycle and growth sequencing (kindergarteners are developing the sequential reasoning to understand growth as an ordered process)', howWeAddress: 'flower worksheets where children sequence the stages from seed to sprout to bud to bloom, identify what flowers need to grow, and understand that flowers produce seeds that start the cycle again build the life cycle comprehension and sequential thinking that underlie all biological understanding' },
      { milestone: 'Botanical observation and descriptive vocabulary (kindergarteners are developing the observational precision and language to describe natural objects in detail)', howWeAddress: 'flower worksheets where children describe flowers using precise color, shape, and size vocabulary, compare different flower species by their observable features, and draw flowers from observation build the scientific observation and descriptive language skills that support both science and writing across all content areas' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on four basic flower parts (petals, stem, leaves, roots) with large labeled diagrams, simplify the life cycle to three stages (seed, plant, flower), use real flowers alongside worksheets so children can touch and examine actual specimens, reduce descriptive vocabulary to basic colors and two size words (big and small), and provide pre-drawn flower outlines for coloring rather than drawing from observation. For advanced kindergarteners, introduce additional plant parts like pistil, stamen, and pollen at a basic level, extend the life cycle to include pollination and seed dispersal, challenge children to compare three or more flower species in a written observation report, introduce the concept of pollinators and why flowers are important for bees and butterflies, and encourage a flower press project where children collect, press, and label real flowers with scientific and descriptive vocabulary.',
    parentTakeaway: 'Flower worksheets give kindergarten parents the most beautifully accessible science learning tool because flowers are everywhere \u2014 in yards, parks, grocery stores, and sidewalk cracks \u2014 and your kindergartener is at the perfect age to transform casual flower-noticing into genuine botanical observation that builds scientific vocabulary, life cycle understanding, and descriptive language skills. The key strategy is to observe flowers together with scientific intention: when you see a flower, ask your child to name its parts (where are the petals, can you find the stem), count the petals and compare to another flower, describe the colors using specific vocabulary, and if possible, plant seeds together and observe the entire growth cycle from seed to bloom over several weeks. When your child can name four flower parts and explain what each does, sequence the flower life cycle from seed to bloom, describe a flower using precise color, shape, and size vocabulary, and compare two flowers by their observable features, they have built the botanical knowledge, observation skills, and descriptive language that flower worksheets teach through the most naturally beautiful science specimens available.',
    classroomIntegration: 'Flower worksheets anchor the most visually beautiful science and art integration unit in kindergarten because flowers provide the perfect specimens for teaching plant anatomy, life cycles, observation skills, and descriptive vocabulary \u2014 all through objects that children find genuinely beautiful and want to examine closely. Create a classroom flower observation station with fresh flowers (changed weekly), magnifying glasses, and observation worksheets where children draw and label what they see. Use flower anatomy worksheets during science centers where children dissect real flowers to find the parts they have labeled on paper, incorporate life cycle sequencing worksheets into a classroom planting project where children grow flowers from seed and compare real growth to worksheet stages. Connect descriptive vocabulary worksheets to an art center where children paint flowers from observation using the color vocabulary they have learned. A flower of the week display where children observe, draw, and describe a new species builds sustained botanical knowledge. A class flower field guide where each child contributes a page with an illustration and description of a different flower creates a collaborative science reference that practices observation, writing, and illustration.',
    assessmentRubric: [
      { skill: 'Flower anatomy and plant science', emerging: 'points to petals and stem on a real flower and names them with teacher prompting', proficient: 'labels four flower parts on a diagram (petals, stem, leaves, roots), explains one function of each part, and identifies these parts on real flowers of different species', advanced: 'explains how flower parts work together for plant survival, compares flower structures across species, and describes the role of flowers in pollination using basic scientific vocabulary' },
      { skill: 'Flower life cycle understanding', emerging: 'places two or three life cycle stages in order with picture support and teacher guidance', proficient: 'sequences five growth stages from seed to bloom in correct order, identifies what flowers need to grow, and explains that flowers produce seeds to continue the cycle', advanced: 'explains the complete life cycle including pollination and seed dispersal, compares life cycles of different flower types, and predicts outcomes when growing conditions change using cause-and-effect reasoning' },
      { skill: 'Botanical observation and description', emerging: 'describes a flower using one color word and one size word with teacher modeling', proficient: 'describes flowers using three or more precise color words, names petal shapes and leaf types, and compares two flowers by observable features in complete sentences', advanced: 'writes detailed multi-sentence flower observation reports, uses comparative vocabulary to analyze similarities and differences across species, and draws botanically accurate flower illustrations with labeled parts' },
    ],
  },

  // ── Food ──────────────────────────────────────────────────────────────
  {
    name: 'food',
    uniqueGradeAngle: 'Kindergarten is the most nutritionally aware stage for food worksheets because five- and six-year-olds are developing the classification skills, health reasoning, and independence to make food choices that affect their energy, growth, and well-being \u2014 they can sort foods into food groups, understand that different foods serve different purposes in the body (fruits give vitamins, proteins build muscles, grains give energy), and begin to evaluate their own eating habits against what they are learning about balanced nutrition. Food worksheets are uniquely powerful at the kindergarten level because children can now engage with food group classification using nutritional criteria (sorting foods by food group rather than just by color or taste), meal planning and balanced eating concepts (understanding that a healthy plate includes foods from multiple groups), food origin science (tracing food from farm or ocean to processing to plate), and mathematical thinking through food contexts (counting servings, comparing portions, graphing favorite foods). The personal health dimension is especially significant at the kindergarten level because children are making increasingly independent food choices \u2014 at school cafeterias, at friends\u2019 houses, and at home \u2014 and food worksheets that build nutritional literacy empower children to choose foods that fuel their bodies well rather than simply eating whatever is placed in front of them.',
    developmentalMilestones: [
      { milestone: 'Food group classification and nutritional sorting (kindergarteners are developing the multi-attribute classification skills to sort foods by nutritional purpose rather than superficial features)', howWeAddress: 'food worksheets where children sort foods into grains, proteins, fruits, vegetables, and dairy groups, identify which group a new food belongs to, and explain why each group matters for the body build the nutritional classification thinking that transforms eating from a random activity into an informed health practice' },
      { milestone: 'Balanced meal planning and health reasoning (kindergarteners are developing the planning and reasoning skills to evaluate meals against nutritional criteria)', howWeAddress: 'food worksheets where children build balanced plates with foods from multiple groups, identify what is missing from an unbalanced meal, and explain why variety matters for health build the health reasoning and planning skills that connect nutrition knowledge to daily eating decisions' },
      { milestone: 'Food origins and food math (kindergarteners are developing the causal reasoning to trace food to its source and the mathematical skills to count, compare, and graph food data)', howWeAddress: 'food worksheets where children match foods to their plant or animal sources, count servings and compare portions, and create simple food graphs build the agricultural awareness and mathematical fluency that connect food literacy to science and math standards' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on three food groups (fruits, vegetables, grains) with clear photograph cards, simplify meal planning to choosing one food from each of two groups, use real food items or realistic play food alongside worksheets for concrete sorting, and provide pre-sorted food group mats where children place picture cards rather than writing. For advanced kindergarteners, introduce all five food groups plus healthy fats and water, challenge children to plan three complete balanced meals for a day with explanations for each choice, extend food origins to multi-step production chains (wheat grows in a field, is ground into flour, and is baked into bread), introduce the concept of reading simple food labels to identify ingredients, and encourage a class nutrition project where children survey classmates about favorite foods and create graphs analyzing the nutritional balance of class preferences.',
    parentTakeaway: 'Food worksheets give kindergarten parents the most immediately applicable health learning tool because your child eats multiple times every day \u2014 and a kindergartener who understands food groups, balanced meals, and why different foods matter for their body makes better choices at the cafeteria, asks more informed questions at the dinner table, and develops the nutritional literacy that supports lifelong health. The key strategy is to connect worksheet learning to every meal: at dinner, ask your child to identify which food groups are on their plate (where are the vegetables, what is our protein tonight), at the grocery store, let them help sort items by food group as you shop, and involve them in meal planning by asking them to suggest a food from each group for tomorrow\u2019s lunch. When your child can sort twenty foods into the correct food groups, build a balanced plate with foods from at least three groups and explain why each matters, trace five foods back to their farm or ocean origin, and count and compare food servings using math vocabulary, they have built the nutritional literacy, classification skills, and health reasoning that food worksheets teach through the most personally relevant topic in a child\u2019s daily life.',
    classroomIntegration: 'Food worksheets anchor the most health-relevant cross-curricular unit in kindergarten because food connects naturally to science (nutrition, food groups, plant and animal origins), math (counting servings, graphing preferences, comparing portions), literacy (food vocabulary, recipe reading, informational writing), and social-emotional learning (making healthy choices, understanding cultural food traditions). Create a classroom food sorting station with realistic play food and labeled food group bins that children use during centers to practice classification from worksheets. Use food group sorting worksheets during science rotations, incorporate balanced meal planning worksheets into a dramatic play cafeteria or restaurant where children create menus and serve balanced plates, and connect food math worksheets to a class food survey and graphing project. A weekly healthy snack discussion where children identify the food group of the class snack and evaluate its nutritional value builds daily nutrition awareness. A food origins wall display where children trace common foods from farm to table through illustrated steps builds agricultural literacy. A class cookbook with each child\u2019s favorite healthy meal illustrated and described builds writing, nutrition knowledge, and cultural appreciation.',
    assessmentRubric: [
      { skill: 'Food group classification', emerging: 'sorts three or four foods into two groups like fruits and vegetables with teacher prompting and picture support', proficient: 'sorts fifteen or more foods into five food groups accurately, identifies which group a new food belongs to with reasoning, and explains why each food group matters for health', advanced: 'classifies foods that could belong to multiple groups with explanation, identifies foods that do not fit standard groups like sweets and oils, and explains how processing changes a food\u2019s nutritional category' },
      { skill: 'Balanced meal planning', emerging: 'selects one food from each of two food groups to make a simple plate with teacher guidance', proficient: 'builds a balanced plate with foods from three or more food groups, identifies what is missing from an unbalanced meal, and explains why eating from multiple groups matters for energy and growth', advanced: 'plans complete meals for a full day with balanced nutrition, evaluates given meals and suggests improvements, and explains how different nutrients serve different body functions' },
      { skill: 'Food origins and food math', emerging: 'matches three or four foods to farm pictures like milk from a cow with teacher support', proficient: 'traces eight or more foods to their plant or animal source, counts food servings in meal scenarios, and reads a simple food graph to answer questions', advanced: 'explains multi-step food production chains, creates original food surveys and graphs with analysis, and compares food availability across seasons with explanations of why' },
    ],
  },

  // ── Forest ────────────────────────────────────────────────────────────
  {
    name: 'forest',
    uniqueGradeAngle: 'Kindergarten is the most ecologically curious stage for forest worksheets because five- and six-year-olds are developing the observation skills, classification ability, and habitat reasoning to understand forests as complex ecosystems rather than simply collections of trees \u2014 they can identify different types of trees by leaf shape and bark texture, understand that forests provide homes for specific animals, and grasp the concept that forest organisms depend on each other in interconnected ways. Forest worksheets are uniquely powerful at the kindergarten level because children can now engage with habitat science and ecological relationships (understanding that specific animals live in forests because forests provide the food, shelter, and water they need), tree identification and classification (sorting trees by leaf type, size, and seasonal behavior like deciduous versus evergreen), forest layers and spatial reasoning (understanding that forests have a floor, understory, canopy, and emergent layer, each with different organisms), and seasonal forest changes (observing how forests transform across spring, summer, fall, and winter). The ecosystem thinking dimension is especially significant at the kindergarten level because understanding that living things depend on their environment and on each other is the most foundational ecological concept \u2014 and forests provide the most richly layered, visually dramatic example of interdependence that children can explore through worksheets before experiencing it in person.',
    developmentalMilestones: [
      { milestone: 'Forest animal habitats and ecosystem relationships (kindergarteners are developing the reasoning to understand why specific animals live in specific places)', howWeAddress: 'forest worksheets where children match animals to their forest habitats, explain why certain animals need trees for shelter or food, and identify simple food relationships like owls eat mice and mice eat seeds build the ecological reasoning that connects organisms to their environment and to each other, the most fundamental concept in environmental science' },
      { milestone: 'Tree identification and classification by observable features (kindergarteners are developing the observational detail and classification skills to distinguish between tree species)', howWeAddress: 'forest worksheets where children sort trees by leaf shape (broad versus needle), seasonal behavior (deciduous versus evergreen), size (tall canopy trees versus short understory trees), and bark texture build the botanical classification skills that make every forest walk a scientific investigation' },
      { milestone: 'Forest layers and seasonal changes (kindergarteners are developing the spatial reasoning and temporal awareness to understand forests as three-dimensional spaces that change over time)', howWeAddress: 'forest worksheets where children identify the forest floor, understory, canopy, and emergent layer, match organisms to the layer where they live, and describe how forests change across seasons build the spatial and temporal reasoning that supports all environmental science understanding' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five familiar forest animals (deer, squirrel, owl, bear, rabbit) and three basic tree types (pine, oak, maple) with clear photographs, simplify habitat connections to single-attribute matching (bears live in forests because forests have berries), reduce forest layers to two (ground and trees), and use forest animal figurines and leaf samples alongside worksheets for tactile exploration. For advanced kindergarteners, introduce ten or more forest organisms across animals, plants, fungi, and insects, challenge children to build simple food chains with three or more links, extend tree identification to six or more species with specific leaf and bark features, introduce the concept of forest conservation and why forests matter for clean air and water, and encourage a forest field guide project where children research, illustrate, and write about forest organisms organized by the layer where they live.',
    parentTakeaway: 'Forest worksheets give kindergarten parents the most ecologically immersive learning tool because forests are the richest natural ecosystems your child can actually visit \u2014 and a kindergartener who has learned about forest layers, tree types, and animal habitats on worksheets transforms a family nature walk from a casual stroll into a genuine scientific expedition where every tree, animal track, and fallen leaf becomes evidence to investigate. The key strategy is to pair worksheet learning with outdoor experience: after your child learns about forest layers, visit a wooded area and look up at the canopy, down at the forest floor, and in between at the understory, asking what lives at each level; after tree identification worksheets, collect leaves and match them to species; after animal habitat worksheets, look for evidence of forest animals like nests, burrows, and tracks. When your child can name ten forest animals and explain why each lives in the forest, identify five trees by their leaves or needles, describe the forest layers and what lives in each, and explain how forests change across seasons, they have built the ecological literacy that transforms nature from a backdrop into a living system they understand and appreciate.',
    classroomIntegration: 'Forest worksheets anchor the most ecologically rich science unit in kindergarten because forests provide the perfect ecosystem for teaching habitat relationships, classification, seasonal change, and environmental awareness \u2014 all concepts that align directly with kindergarten science standards. Create a classroom forest discovery center with leaf collections, bark rubbings, pinecones, and forest animal figurines that children explore alongside worksheets during science centers. Use animal habitat worksheets during science rotations where children match figurines to a layered forest display on the wall, incorporate tree identification worksheets into an outdoor observation walk where children compare real trees to worksheet diagrams, and connect seasonal change worksheets to a year-long forest observation journal where children document how trees outside the classroom window change across months. A forest layers mural that the class builds collaboratively, placing organisms at the correct layer, becomes a visual reference for ongoing ecological learning. A forest sounds listening station with recorded bird calls, animal sounds, and rustling leaves connects worksheets to sensory experience. A class forest field guide where each child contributes a page about a different forest organism builds research, writing, and illustration skills.',
    assessmentRubric: [
      { skill: 'Forest animal habitats and ecology', emerging: 'names three or four forest animals and says they live in the forest with teacher prompting', proficient: 'names ten or more forest animals, explains why each needs the forest for food or shelter, and identifies one simple food relationship like a fox eats rabbits', advanced: 'builds simple food chains with three or more links, explains how removing one organism affects others, and compares forest habitats to other ecosystems like oceans or deserts' },
      { skill: 'Tree identification and classification', emerging: 'distinguishes between a broad-leaf tree and a needle-leaf tree using pictures with teacher guidance', proficient: 'identifies five or more tree types by leaf shape and seasonal behavior, explains the difference between deciduous and evergreen trees, and sorts trees by multiple features', advanced: 'identifies trees by bark, leaf, and seed characteristics, explains why some trees lose leaves and others do not using basic science reasoning, and creates a classification key for trees observed on a nature walk' },
      { skill: 'Forest layers and seasonal changes', emerging: 'identifies the ground and the treetops as two parts of a forest with teacher support', proficient: 'names and describes four forest layers (floor, understory, canopy, emergent), matches organisms to their correct layer, and describes two or more seasonal changes in a forest', advanced: 'explains why different organisms live at different layers based on their needs, describes the complete seasonal cycle of a deciduous forest, and predicts how seasonal changes affect animal behavior like hibernation and migration' },
    ],
  },

  // ── Fruits ────────────────────────────────────────────────────────────
  {
    name: 'fruits',
    uniqueGradeAngle: 'Kindergarten is the most sensory-rich stage for fruit worksheets because five- and six-year-olds are developing the classification skills, descriptive vocabulary, and scientific observation to engage with fruits as biological objects with internal structures, growth patterns, and nutritional properties \u2014 not just as snack foods. They can cut a fruit open and identify seeds, skin, and flesh, sort fruits by multiple attributes (color, size, texture, growing location), and understand that fruits come from plants through a growth process that begins with a flower. Fruit worksheets are uniquely powerful at the kindergarten level because children can now engage with multi-attribute classification (sorting fruits by color, size, shape, texture, growing location, and whether they have seeds inside or outside), plant biology through fruit structure (identifying seeds, skin, flesh, and stem, understanding that seeds grow into new plants), sensory vocabulary and descriptive writing (describing fruits using taste, texture, color, and smell vocabulary), and nutritional science (understanding that fruits provide vitamins and energy that help bodies grow and stay healthy). The cross-sensory dimension is especially significant at the kindergarten level because fruits engage every sense \u2014 the bright colors of a strawberry, the rough texture of a pineapple, the sweet smell of a ripe peach, the sour taste of a lemon \u2014 making fruit worksheets the most multisensory science experience available in the classroom.',
    developmentalMilestones: [
      { milestone: 'Multi-attribute fruit classification and sorting (kindergarteners are developing the cognitive flexibility to sort the same objects by different criteria)', howWeAddress: 'fruit worksheets where children sort fruits by color, size, shape, whether they grow on trees or vines or bushes, and whether their seeds are inside or outside build the classification flexibility that is essential to all scientific thinking, because understanding that the same fruit can belong to different groups depending on the sorting rule teaches the fundamental concept that classification systems are tools humans create to organize knowledge' },
      { milestone: 'Fruit structure and plant biology (kindergarteners are developing the observational skills to examine internal structures and understand biological functions)', howWeAddress: 'fruit worksheets where children label the parts of a fruit (skin, flesh, seeds, stem), explain the role of seeds in growing new plants, and compare the insides of different fruits build the botanical knowledge and structural reasoning that connect observable features to biological purposes' },
      { milestone: 'Sensory vocabulary and descriptive language through fruits (kindergarteners are developing the precise vocabulary to describe objects using multiple senses)', howWeAddress: 'fruit worksheets where children describe fruits using taste words (sweet, sour, tart, juicy), texture words (smooth, bumpy, fuzzy, prickly), and appearance words (round, oval, bright, speckled) build the sensory vocabulary and descriptive writing skills that support all detailed communication across academic subjects' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on eight common fruits (apple, banana, orange, grape, strawberry, watermelon, pear, peach) with real fruit samples for handling and tasting, simplify sorting to one attribute at a time (sort by color, then by size), reduce fruit structure to three parts (skin, inside, seeds), and use picture-word matching rather than written descriptions. For advanced kindergarteners, introduce fifteen or more fruits including tropical and uncommon varieties (mango, papaya, kiwi, pomegranate, dragon fruit), challenge children to sort by three attributes simultaneously and explain overlapping categories, extend writing to multi-sentence fruit comparison reports (how an apple and an orange are alike and different), introduce the concept of where different fruits grow geographically and why climate matters, and encourage a class fruit tasting project where children taste unfamiliar fruits and write detailed sensory descriptions using vocabulary from worksheets.',
    parentTakeaway: 'Fruit worksheets give kindergarten parents the most deliciously hands-on science learning tool because fruits are affordable, available year-round, and engage every sense \u2014 and your kindergartener is at the perfect age to move from simply eating fruit to examining, classifying, and describing it with the scientific curiosity and vocabulary that transforms snack time into a biology lesson. The key strategy is to make every fruit encounter a learning moment: at the grocery store, let your child choose an unfamiliar fruit to explore at home (what does it look like inside \u2014 are the seeds big or small, what color is the flesh); at snack time, compare two fruits side by side (how are an apple and a pear alike and different); when cutting fruit, point out the seeds and explain that each seed could grow into a new plant. When your child can sort fifteen fruits by multiple attributes, identify and name the parts of a fruit, describe a fruit using taste, texture, color, and smell vocabulary, and explain how seeds connect one plant generation to the next, they have built the classification, biology, vocabulary, and observation skills that fruit worksheets teach through the most touchable, tasteable, and colorful science specimens available.',
    classroomIntegration: 'Fruit worksheets anchor the most sensory-rich science and vocabulary unit in kindergarten because fruits are the most accessible biological specimens for classroom investigation \u2014 they can be observed, touched, smelled, tasted, cut open, sorted, graphed, and described without any special equipment or safety concerns. Create a classroom fruit exploration station with a rotating selection of whole and cut fruits, magnifying glasses, and observation worksheets where children draw and describe what they see. Use classification worksheets during math and science centers where children sort real or plastic fruits by multiple attributes, incorporate fruit structure worksheets into a dissection activity where children examine real fruit cross-sections to identify seeds, skin, and flesh. Connect sensory vocabulary worksheets to a fruit tasting station where children taste and describe unfamiliar fruits using specific vocabulary. A fruit of the week display where children observe, draw, and write about a new fruit builds sustained vocabulary and observation skills. A class fruit graph project where children survey favorites and analyze the data builds mathematical skills alongside fruit knowledge. A class fruit encyclopedia where each child contributes a page with an illustration, a labeled diagram, and a sensory description creates a culminating reference book.',
    assessmentRubric: [
      { skill: 'Fruit classification and sorting', emerging: 'sorts fruits into two groups by one attribute like red fruits and yellow fruits with teacher prompting', proficient: 'sorts fifteen or more fruits by three or more attributes including color, size, shape, and growing location, explains sorting rules, and re-sorts the same fruits by a different criterion', advanced: 'sorts by multiple simultaneous attributes, identifies fruits that could belong to multiple categories with explanation, and creates original classification systems with named categories' },
      { skill: 'Fruit structure and plant biology', emerging: 'points to seeds inside a cut fruit and names one fruit part with teacher support', proficient: 'labels three or more fruit parts on a diagram (skin, flesh, seeds, stem), explains that seeds can grow into new plants, and compares the insides of two different fruits', advanced: 'explains the complete fruit development process from flower to fruit, compares seed types across multiple fruits, and describes how seeds travel to new locations using vocabulary like dispersal and germination' },
      { skill: 'Sensory vocabulary and fruit description', emerging: 'describes a fruit using one color word and one taste word like red and sweet with teacher modeling', proficient: 'describes fruits using five or more sensory words across taste, texture, color, and smell categories, and writes two or more descriptive sentences comparing two fruits', advanced: 'writes detailed multi-sentence sensory descriptions of unfamiliar fruits, uses comparative vocabulary to analyze similarities and differences, and creates vivid descriptions that would allow someone who has never seen the fruit to imagine it' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close kindergarten }, then 'first-grade':
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'first-grade':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected - look for uniqueGradeAngle between 'kindergarten': and 'first-grade':
  const kIdx = content.indexOf("'kindergarten':");
  const fgIdx = content.indexOf("'first-grade':");
  if (kIdx !== -1 && fgIdx !== -1) {
    const kindergartenSection = content.substring(kIdx, fgIdx);
    if (kindergartenSection.includes("uniqueGradeAngle:")) {
      console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in kindergarten section`);
      continue;
    }
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 kindergarten fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
