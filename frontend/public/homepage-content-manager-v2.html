<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage Content Manager - LessonCraftStudio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .language-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
            font-size: 12px;
        }

        .language-list span {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .tabs {
            display: flex;
            background: #f7fafc;
            border-bottom: 1px solid #e2e8f0;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            min-width: 120px;
            padding: 16px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: #4a5568;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab:hover {
            background: white;
            color: #667eea;
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .content {
            padding: 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 24px;
        }

        .section > p {
            color: #718096;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .language-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .lang-tab {
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .lang-tab:hover {
            background: #f7fafc;
            border-color: #cbd5e0;
        }

        .lang-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .language-content {
            display: none;
        }

        .language-content.active {
            display: block;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
        }

        .btn-secondary {
            background: #edf2f7;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .actions {
            display: flex;
            gap: 10px;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid #e2e8f0;
        }

        .message {
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
        }

        .message.show {
            display: block;
        }

        .message.success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }

        .message.error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #fc8181;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #e2e8f0;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
        }

        .card h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .card-actions {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 5px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: #2d3748;
            font-size: 20px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #a0aec0;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 30px;
            height: 30px;
        }

        .modal-close:hover {
            color: #4a5568;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .sample-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .sample-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 10px;
            background: #f7fafc;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            margin: 0 2px;
        }

        .badge-blue {
            background: #ebf8ff;
            color: #2b6cb0;
        }

        .badge-green {
            background: #f0fff4;
            color: #22543d;
        }

        .badge-yellow {
            background: #fffff0;
            color: #744210;
        }

        /* Image upload styles */
        .image-upload-area {
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f7fafc;
            margin: 20px 0;
        }

        .image-upload-area:hover {
            border-color: #667eea;
            background: #ebf8ff;
        }

        .image-upload-area.drag-highlight {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .upload-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 10px;
            color: #a0aec0;
        }

        .image-preview {
            max-width: 200px;
            max-height: 150px;
            margin: 10px auto;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .section-header-fields {
            background: #f7fafc;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .section-header-fields h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span>ðŸŽ¨</span>
                Homepage Content Manager
            </h1>
            <p>Manage all content on your LessonCraftStudio homepage in 11 languages</p>
            <div class="language-list">
                <span>ðŸ‡¬ðŸ‡§ English</span>
                <span>ðŸ‡©ðŸ‡ª German</span>
                <span>ðŸ‡«ðŸ‡· French</span>
                <span>ðŸ‡ªðŸ‡¸ Spanish</span>
                <span>ðŸ‡®ðŸ‡¹ Italian</span>
                <span>ðŸ‡µðŸ‡¹ Portuguese</span>
                <span>ðŸ‡³ðŸ‡± Dutch</span>
                <span>ðŸ‡¸ðŸ‡ª Swedish</span>
                <span>ðŸ‡©ðŸ‡° Danish</span>
                <span>ðŸ‡³ðŸ‡´ Norwegian</span>
                <span>ðŸ‡«ðŸ‡® Finnish</span>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('hero')">Hero Section</button>
            <button class="tab" onclick="switchTab('features')">Features</button>
            <button class="tab" onclick="switchTab('samples')">Worksheet Samples</button>
            <button class="tab" onclick="switchTab('pricing')">Pricing</button>
            <button class="tab" onclick="switchTab('seo')">SEO Settings</button>
        </div>

        <div class="content">
            <div id="message" class="message"></div>
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Loading content...</p>
            </div>

            <!-- Hero Section -->
            <div id="hero-section" class="section active">
                <h2>Hero Section</h2>
                <p>The main headline and call-to-action area at the top of your homepage</p>

                <div class="language-tabs">
                    <button class="lang-tab active" onclick="switchLanguage('hero', 'en')">ðŸ‡¬ðŸ‡§ EN</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'de')">ðŸ‡©ðŸ‡ª DE</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'fr')">ðŸ‡«ðŸ‡· FR</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'es')">ðŸ‡ªðŸ‡¸ ES</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'it')">ðŸ‡®ðŸ‡¹ IT</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'pt')">ðŸ‡µðŸ‡¹ PT</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'nl')">ðŸ‡³ðŸ‡± NL</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'sv')">ðŸ‡¸ðŸ‡ª SV</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'da')">ðŸ‡©ðŸ‡° DA</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'no')">ðŸ‡³ðŸ‡´ NO</button>
                    <button class="lang-tab" onclick="switchLanguage('hero', 'fi')">ðŸ‡«ðŸ‡® FI</button>
                </div>

                <div id="hero-content-en" class="language-content active">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="hero-title-en" placeholder="Main headline">
                    </div>
                    <div class="form-group">
                        <label>Subtitle</label>
                        <textarea id="hero-subtitle-en" placeholder="Supporting text"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Primary Button Text</label>
                        <input type="text" id="hero-cta-primary-text-en" placeholder="e.g., Try Free">
                    </div>
                    <div class="form-group">
                        <label>Secondary Button Text</label>
                        <input type="text" id="hero-cta-secondary-text-en" placeholder="e.g., View All Apps">
                    </div>
                </div>

                <!-- Additional language content divs will be generated dynamically -->

                <div class="actions">
                    <button class="btn btn-primary" onclick="saveHeroSection()">Save Hero Section</button>
                    <button class="btn btn-secondary" onclick="resetSection('hero')">Reset</button>
                </div>
            </div>

            <!-- Features Section -->
            <div id="features-section" class="section">
                <h2>Features</h2>
                <p>Highlight the key features of your platform</p>

                <!-- Features Section Header -->
                <div class="section-header-fields">
                    <h3>Section Header</h3>
                    <div class="language-tabs">
                        <button class="lang-tab active" onclick="switchLanguage('features-header', 'en')">ðŸ‡¬ðŸ‡§ EN</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'de')">ðŸ‡©ðŸ‡ª DE</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'fr')">ðŸ‡«ðŸ‡· FR</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'es')">ðŸ‡ªðŸ‡¸ ES</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'it')">ðŸ‡®ðŸ‡¹ IT</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'pt')">ðŸ‡µðŸ‡¹ PT</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'nl')">ðŸ‡³ðŸ‡± NL</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'sv')">ðŸ‡¸ðŸ‡ª SV</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'da')">ðŸ‡©ðŸ‡° DA</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'no')">ðŸ‡³ðŸ‡´ NO</button>
                        <button class="lang-tab" onclick="switchLanguage('features-header', 'fi')">ðŸ‡«ðŸ‡® FI</button>
                    </div>
                    <div id="features-header-content-en" class="language-content active">
                        <div class="form-group">
                            <label>Section Title</label>
                            <input type="text" id="features-section-title-en" placeholder="e.g., Everything You Need">
                        </div>
                    </div>
                    <!-- Additional languages will be added dynamically -->
                </div>

                <button class="btn btn-success" style="margin-bottom: 20px;" onclick="addNewFeature()">+ Add New Feature</button>

                <div id="features-list"></div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="saveFeaturesSection()">Save Features</button>
                    <button class="btn btn-secondary" onclick="resetSection('features')">Reset</button>
                </div>
            </div>

            <!-- Worksheet Samples Section -->
            <div id="samples-section" class="section">
                <h2>Worksheet Samples</h2>
                <p>Showcase example worksheets from your generators</p>

                <!-- Samples Section Header -->
                <div class="section-header-fields">
                    <h3>Section Headers</h3>
                    <div class="language-tabs">
                        <button class="lang-tab active" onclick="switchLanguage('samples-header', 'en')">ðŸ‡¬ðŸ‡§ EN</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'de')">ðŸ‡©ðŸ‡ª DE</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'fr')">ðŸ‡«ðŸ‡· FR</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'es')">ðŸ‡ªðŸ‡¸ ES</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'it')">ðŸ‡®ðŸ‡¹ IT</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'pt')">ðŸ‡µðŸ‡¹ PT</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'nl')">ðŸ‡³ðŸ‡± NL</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'sv')">ðŸ‡¸ðŸ‡ª SV</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'da')">ðŸ‡©ðŸ‡° DA</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'no')">ðŸ‡³ðŸ‡´ NO</button>
                        <button class="lang-tab" onclick="switchLanguage('samples-header', 'fi')">ðŸ‡«ðŸ‡® FI</button>
                    </div>
                    <div id="samples-header-content-en" class="language-content active">
                        <div class="form-group">
                            <label>Section Title</label>
                            <input type="text" id="samples-section-title-en" placeholder="e.g., Worksheet Samples Gallery">
                        </div>
                        <div class="form-group">
                            <label>Section Subtitle</label>
                            <textarea id="samples-section-subtitle-en" placeholder="e.g., Click on any worksheet to see a larger preview..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Call-to-Action Text</label>
                            <input type="text" id="samples-section-cta-en" placeholder="e.g., Explore All 33 Worksheet Generators â†’">
                        </div>
                    </div>
                    <!-- Additional languages will be added dynamically -->
                </div>

                <button class="btn btn-success" style="margin-bottom: 20px;" onclick="addNewSample()">+ Add New Sample</button>

                <div id="samples-list" class="grid"></div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="saveSamplesSection()">Save Samples</button>
                    <button class="btn btn-secondary" onclick="resetSection('samples')">Reset</button>
                </div>
            </div>

            <!-- Pricing Section -->
            <div id="pricing-section" class="section">
                <h2>Pricing Tiers</h2>
                <p>Configure your subscription plans and pricing</p>

                <!-- Pricing Section Header -->
                <div class="section-header-fields">
                    <h3>Section Header</h3>
                    <div class="language-tabs">
                        <button class="lang-tab active" onclick="switchLanguage('pricing-header', 'en')">ðŸ‡¬ðŸ‡§ EN</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'de')">ðŸ‡©ðŸ‡ª DE</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'fr')">ðŸ‡«ðŸ‡· FR</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'es')">ðŸ‡ªðŸ‡¸ ES</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'it')">ðŸ‡®ðŸ‡¹ IT</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'pt')">ðŸ‡µðŸ‡¹ PT</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'nl')">ðŸ‡³ðŸ‡± NL</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'sv')">ðŸ‡¸ðŸ‡ª SV</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'da')">ðŸ‡©ðŸ‡° DA</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'no')">ðŸ‡³ðŸ‡´ NO</button>
                        <button class="lang-tab" onclick="switchLanguage('pricing-header', 'fi')">ðŸ‡«ðŸ‡® FI</button>
                    </div>
                    <div id="pricing-header-content-en" class="language-content active">
                        <div class="form-group">
                            <label>Section Title</label>
                            <input type="text" id="pricing-section-title-en" placeholder="e.g., Simple, Transparent Pricing">
                        </div>
                    </div>
                    <!-- Additional languages will be added dynamically -->
                </div>

                <button class="btn btn-success" style="margin-bottom: 20px;" onclick="addNewPricingTier()">+ Add New Pricing Tier</button>

                <div id="pricing-list"></div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="savePricingSection()">Save Pricing</button>
                    <button class="btn btn-secondary" onclick="resetSection('pricing')">Reset</button>
                </div>
            </div>

            <!-- SEO Settings -->
            <div id="seo-section" class="section">
                <h2>SEO Settings</h2>
                <p>Optimize your homepage for search engines</p>

                <div class="language-tabs">
                    <button class="lang-tab active" onclick="switchLanguage('seo', 'en')">ðŸ‡¬ðŸ‡§ EN</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'de')">ðŸ‡©ðŸ‡ª DE</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'fr')">ðŸ‡«ðŸ‡· FR</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'es')">ðŸ‡ªðŸ‡¸ ES</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'it')">ðŸ‡®ðŸ‡¹ IT</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'pt')">ðŸ‡µðŸ‡¹ PT</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'nl')">ðŸ‡³ðŸ‡± NL</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'sv')">ðŸ‡¸ðŸ‡ª SV</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'da')">ðŸ‡©ðŸ‡° DA</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'no')">ðŸ‡³ðŸ‡´ NO</button>
                    <button class="lang-tab" onclick="switchLanguage('seo', 'fi')">ðŸ‡«ðŸ‡® FI</button>
                </div>

                <div id="seo-content-en" class="language-content active">
                    <div class="form-group">
                        <label>Page Title</label>
                        <input type="text" id="seo-title-en" placeholder="SEO page title">
                    </div>
                    <div class="form-group">
                        <label>Meta Description</label>
                        <textarea id="seo-description-en" placeholder="SEO meta description"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Keywords</label>
                        <input type="text" id="seo-keywords-en" placeholder="Comma-separated keywords">
                    </div>
                </div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="saveSEOSettings()">Save SEO Settings</button>
                    <button class="btn btn-secondary" onclick="resetSection('seo')">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sample Edit Modal -->
    <div id="sampleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="sampleModalTitle">Edit Sample</h2>
                <button class="modal-close" onclick="closeSampleModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Image upload area -->
                <div id="sample-image-upload-area"></div>

                <div class="language-tabs">
                    <button class="lang-tab active" onclick="switchModalLanguage('en')">ðŸ‡¬ðŸ‡§ EN</button>
                    <button class="lang-tab" onclick="switchModalLanguage('de')">ðŸ‡©ðŸ‡ª DE</button>
                    <button class="lang-tab" onclick="switchModalLanguage('fr')">ðŸ‡«ðŸ‡· FR</button>
                    <button class="lang-tab" onclick="switchModalLanguage('es')">ðŸ‡ªðŸ‡¸ ES</button>
                    <button class="lang-tab" onclick="switchModalLanguage('it')">ðŸ‡®ðŸ‡¹ IT</button>
                    <button class="lang-tab" onclick="switchModalLanguage('pt')">ðŸ‡µðŸ‡¹ PT</button>
                    <button class="lang-tab" onclick="switchModalLanguage('nl')">ðŸ‡³ðŸ‡± NL</button>
                    <button class="lang-tab" onclick="switchModalLanguage('sv')">ðŸ‡¸ðŸ‡ª SV</button>
                    <button class="lang-tab" onclick="switchModalLanguage('da')">ðŸ‡©ðŸ‡° DA</button>
                    <button class="lang-tab" onclick="switchModalLanguage('no')">ðŸ‡³ðŸ‡´ NO</button>
                    <button class="lang-tab" onclick="switchModalLanguage('fi')">ðŸ‡«ðŸ‡® FI</button>
                </div>

                <div id="sample-modal-content-en" class="language-content active">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="sample-name-en" placeholder="Sample name">
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="sample-description-en" placeholder="Sample description"></textarea>
                    </div>
                </div>
                <!-- Additional language divs will be generated -->

                <div class="form-group">
                    <label>Category</label>
                    <select id="sample-category">
                        <option value="math">Math</option>
                        <option value="literacy">Literacy</option>
                        <option value="puzzle">Puzzle</option>
                        <option value="logic">Logic</option>
                        <option value="creative">Creative</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Difficulty</label>
                    <select id="sample-difficulty">
                        <option value="Easy">Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Age Range</label>
                    <input type="text" id="sample-age-range" placeholder="e.g., 3-5 years">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeSampleModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveSampleFromModal()">Save Sample</button>
            </div>
        </div>
    </div>

    <script src="js/image-upload-handler.js"></script>
    <script>
        // Global variables
        let homepageContent = {};
        let currentLanguage = 'en';
        let currentSection = 'hero';
        let currentEditingSample = null;
        let imageUploadHandler = null;

        const languages = ['en', 'de', 'fr', 'es', 'it', 'pt', 'nl', 'sv', 'da', 'no', 'fi'];
        const languageNames = {
            en: 'ðŸ‡¬ðŸ‡§ EN',
            de: 'ðŸ‡©ðŸ‡ª DE',
            fr: 'ðŸ‡«ðŸ‡· FR',
            es: 'ðŸ‡ªðŸ‡¸ ES',
            it: 'ðŸ‡®ðŸ‡¹ IT',
            pt: 'ðŸ‡µðŸ‡¹ PT',
            nl: 'ðŸ‡³ðŸ‡± NL',
            sv: 'ðŸ‡¸ðŸ‡ª SV',
            da: 'ðŸ‡©ðŸ‡° DA',
            no: 'ðŸ‡³ðŸ‡´ NO',
            fi: 'ðŸ‡«ðŸ‡® FI'
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeLanguageContents();
            loadContent();
            initializeImageUpload();
        });

        // Initialize image upload
        function initializeImageUpload() {
            imageUploadHandler = new ImageUploadHandler();
        }

        // Initialize language contents for all sections
        function initializeLanguageContents() {
            // Create language content divs for all sections
            languages.forEach(lang => {
                if (lang !== 'en') {
                    createLanguageContent('hero', lang);
                    createLanguageContent('features-header', lang);
                    createLanguageContent('samples-header', lang);
                    createLanguageContent('pricing-header', lang);
                    createLanguageContent('seo', lang);
                    createLanguageContent('sample-modal', lang);
                }
            });
        }

        // Create language content div
        function createLanguageContent(section, lang) {
            const container = document.getElementById(`${section}-content-en`).parentNode;
            const div = document.createElement('div');
            div.id = `${section}-content-${lang}`;
            div.className = 'language-content';

            // Clone the English content structure
            const enContent = document.getElementById(`${section}-content-en`).innerHTML;
            div.innerHTML = enContent.replace(/-en"/g, `-${lang}"`);

            container.appendChild(div);
        }

        // Load content from API
        async function loadContent() {
            showLoading(true);
            hideMessage();

            try {
                // Request raw multilingual data for the content manager
                const response = await fetch('/api/homepage/content?raw=true&locale=' + currentLanguage);
                if (response.ok) {
                    homepageContent = await response.json();
                    console.log('Loaded content:', homepageContent);
                    updateAllSections();
                    showMessage('Content loaded successfully', 'success');
                } else {
                    showMessage('Failed to load content from API, using default content', 'error');
                    homepageContent = await response.json();
                    updateAllSections();
                }
            } catch (error) {
                console.error('Error loading content:', error);
                showMessage('Using default content', 'error');
                loadDefaultContent();
                updateAllSections();
            } finally {
                showLoading(false);
            }
        }

        // Load default content structure
        function loadDefaultContent() {
            homepageContent = {
                hero: {
                    title: {},
                    subtitle: {},
                    cta_primary_text: {},
                    cta_primary_link: '/apps/word-search',
                    cta_secondary_text: {},
                    cta_secondary_link: '/apps'
                },
                featuresSection: { title: {} },
                features: [],
                samplesSection: { title: {}, subtitle: {}, cta: {} },
                samples: [],
                pricingSection: { title: {} },
                pricing: [],
                seo: {
                    title: {},
                    description: {},
                    keywords: {}
                }
            };
        }

        // Update all sections with loaded content
        function updateAllSections() {
            updateHeroSection();
            updateFeaturesSection();
            updateSamplesSection();
            updatePricingSection();
            updateSEOSection();
        }

        // Update hero section
        function updateHeroSection() {
            if (homepageContent.hero) {
                languages.forEach(lang => {
                    document.getElementById(`hero-title-${lang}`).value = homepageContent.hero.title?.[lang] || '';
                    document.getElementById(`hero-subtitle-${lang}`).value = homepageContent.hero.subtitle?.[lang] || '';
                    document.getElementById(`hero-cta-primary-text-${lang}`).value = homepageContent.hero.cta_primary_text?.[lang] || '';
                    document.getElementById(`hero-cta-secondary-text-${lang}`).value = homepageContent.hero.cta_secondary_text?.[lang] || '';
                });
            }
        }

        // Update features section
        function updateFeaturesSection() {
            // Update section header
            if (homepageContent.featuresSection) {
                languages.forEach(lang => {
                    const input = document.getElementById(`features-section-title-${lang}`);
                    if (input) {
                        input.value = homepageContent.featuresSection.title?.[lang] || '';
                    }
                });
            }

            // Update features list
            const container = document.getElementById('features-list');
            container.innerHTML = '';

            if (homepageContent.features && homepageContent.features.length > 0) {
                homepageContent.features.forEach((feature, index) => {
                    const card = createFeatureCard(feature, index);
                    container.appendChild(card);
                });
            }
        }

        // Update samples section
        function updateSamplesSection() {
            // Update section headers
            if (homepageContent.samplesSection) {
                languages.forEach(lang => {
                    const titleInput = document.getElementById(`samples-section-title-${lang}`);
                    const subtitleInput = document.getElementById(`samples-section-subtitle-${lang}`);
                    const ctaInput = document.getElementById(`samples-section-cta-${lang}`);

                    if (titleInput) titleInput.value = homepageContent.samplesSection.title?.[lang] || '';
                    if (subtitleInput) subtitleInput.value = homepageContent.samplesSection.subtitle?.[lang] || '';
                    if (ctaInput) ctaInput.value = homepageContent.samplesSection.cta?.[lang] || '';
                });
            }

            // Update samples list
            const container = document.getElementById('samples-list');
            container.innerHTML = '';

            if (homepageContent.samples && homepageContent.samples.length > 0) {
                homepageContent.samples.forEach((sample, index) => {
                    const card = createSampleCard(sample, index);
                    container.appendChild(card);
                });
            }
        }

        // Update pricing section
        function updatePricingSection() {
            // Update section header
            if (homepageContent.pricingSection) {
                languages.forEach(lang => {
                    const input = document.getElementById(`pricing-section-title-${lang}`);
                    if (input) {
                        input.value = homepageContent.pricingSection.title?.[lang] || '';
                    }
                });
            }

            // Update pricing list
            const container = document.getElementById('pricing-list');
            container.innerHTML = '';

            if (homepageContent.pricing && homepageContent.pricing.length > 0) {
                homepageContent.pricing.forEach((tier, index) => {
                    const card = createPricingCard(tier, index);
                    container.appendChild(card);
                });
            }
        }

        // Update SEO section
        function updateSEOSection() {
            if (homepageContent.seo) {
                languages.forEach(lang => {
                    document.getElementById(`seo-title-${lang}`).value = homepageContent.seo.title?.[lang] || '';
                    document.getElementById(`seo-description-${lang}`).value = homepageContent.seo.description?.[lang] || '';
                    document.getElementById(`seo-keywords-${lang}`).value = homepageContent.seo.keywords?.[lang] || '';
                });
            }
        }

        // Create feature card
        function createFeatureCard(feature, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-actions">
                    <button class="btn btn-small btn-primary" onclick="editFeature(${index})">Edit</button>
                    <button class="btn btn-small btn-danger" onclick="deleteFeature(${index})">Delete</button>
                </div>
                <h3>${feature.title?.en || 'Untitled Feature'}</h3>
                <p>${feature.description?.en || 'No description'}</p>
                <p><strong>Icon:</strong> ${feature.icon}</p>
            `;
            return card;
        }

        // Create sample card
        function createSampleCard(sample, index) {
            const card = document.createElement('div');
            card.className = 'sample-card';
            card.innerHTML = `
                <img src="${sample.image_url || '/api/placeholder/200/150'}" alt="${sample.name?.en}" class="sample-image">
                <h3>${sample.name?.en || 'Untitled Sample'}</h3>
                <p>${sample.description?.en || 'No description'}</p>
                <div style="margin-top: 10px;">
                    <span class="badge badge-blue">${sample.category}</span>
                    <span class="badge ${sample.difficulty === 'Easy' ? 'badge-green' : sample.difficulty === 'Medium' ? 'badge-yellow' : 'badge-blue'}">${sample.difficulty}</span>
                </div>
                <div style="margin-top: 10px;">
                    <button class="btn btn-small btn-primary" onclick="editSample(${index})">Edit</button>
                    <button class="btn btn-small btn-danger" onclick="deleteSample(${index})">Delete</button>
                </div>
            `;
            return card;
        }

        // Create pricing card
        function createPricingCard(tier, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-actions">
                    <button class="btn btn-small btn-primary" onclick="editPricing(${index})">Edit</button>
                    <button class="btn btn-small btn-danger" onclick="deletePricing(${index})">Delete</button>
                </div>
                <h3>${tier.name?.en || 'Untitled Tier'}</h3>
                <p><strong>Price:</strong> ${tier.price}</p>
                <p><strong>Features:</strong></p>
                <ul>${(tier.features?.en || []).map(f => `<li>${f}</li>`).join('')}</ul>
            `;
            return card;
        }

        // Add new sample
        function addNewSample() {
            currentEditingSample = {
                name: {},
                description: {},
                category: 'math',
                difficulty: 'Easy',
                age_range: '3-5 years',
                image_url: '',
                featured: false,
                sort_order: homepageContent.samples.length
            };

            // Initialize image upload area
            const uploadArea = document.getElementById('sample-image-upload-area');
            uploadArea.innerHTML = '';

            const dropZone = imageUploadHandler.createDropZone(uploadArea, (imageData) => {
                currentEditingSample.image_url = imageData.url;

                // Show preview
                const preview = imageUploadHandler.createImagePreview(imageData);
                uploadArea.innerHTML = '';
                uploadArea.appendChild(preview);

                // Add change button
                const changeBtn = document.createElement('button');
                changeBtn.className = 'btn btn-secondary btn-small';
                changeBtn.textContent = 'Change Image';
                changeBtn.onclick = () => addNewSample();
                uploadArea.appendChild(changeBtn);
            });

            document.getElementById('sampleModalTitle').textContent = 'Add New Sample';
            document.getElementById('sampleModal').classList.add('show');
        }

        // Edit sample
        function editSample(index) {
            currentEditingSample = { ...homepageContent.samples[index], index };

            // Initialize image upload area with existing image
            const uploadArea = document.getElementById('sample-image-upload-area');
            uploadArea.innerHTML = '';

            if (currentEditingSample.image_url) {
                const preview = imageUploadHandler.createImagePreview({
                    url: currentEditingSample.image_url,
                    name: 'Current Image'
                });
                uploadArea.appendChild(preview);
            }

            // Add change button
            const changeBtn = document.createElement('button');
            changeBtn.className = 'btn btn-secondary btn-small';
            changeBtn.textContent = currentEditingSample.image_url ? 'Change Image' : 'Add Image';
            changeBtn.onclick = () => {
                uploadArea.innerHTML = '';
                const dropZone = imageUploadHandler.createDropZone(uploadArea, (imageData) => {
                    currentEditingSample.image_url = imageData.url;
                    editSample(index); // Refresh
                });
            };
            uploadArea.appendChild(changeBtn);

            // Populate modal fields
            languages.forEach(lang => {
                const nameInput = document.getElementById(`sample-name-${lang}`);
                const descInput = document.getElementById(`sample-description-${lang}`);
                if (nameInput) nameInput.value = currentEditingSample.name?.[lang] || '';
                if (descInput) descInput.value = currentEditingSample.description?.[lang] || '';
            });

            document.getElementById('sample-category').value = currentEditingSample.category;
            document.getElementById('sample-difficulty').value = currentEditingSample.difficulty;
            document.getElementById('sample-age-range').value = currentEditingSample.age_range;

            document.getElementById('sampleModalTitle').textContent = 'Edit Sample';
            document.getElementById('sampleModal').classList.add('show');
        }

        // Save sample from modal
        function saveSampleFromModal() {
            // Collect data from all languages
            languages.forEach(lang => {
                currentEditingSample.name[lang] = document.getElementById(`sample-name-${lang}`).value;
                currentEditingSample.description[lang] = document.getElementById(`sample-description-${lang}`).value;
            });

            currentEditingSample.category = document.getElementById('sample-category').value;
            currentEditingSample.difficulty = document.getElementById('sample-difficulty').value;
            currentEditingSample.age_range = document.getElementById('sample-age-range').value;

            if (currentEditingSample.index !== undefined) {
                // Update existing
                homepageContent.samples[currentEditingSample.index] = currentEditingSample;
            } else {
                // Add new
                homepageContent.samples.push(currentEditingSample);
            }

            updateSamplesSection();
            closeSampleModal();
            showMessage('Sample saved', 'success');
        }

        // Close sample modal
        function closeSampleModal() {
            document.getElementById('sampleModal').classList.remove('show');
            currentEditingSample = null;
        }

        // Delete sample
        function deleteSample(index) {
            if (confirm('Are you sure you want to delete this sample?')) {
                homepageContent.samples.splice(index, 1);
                updateSamplesSection();
                showMessage('Sample deleted', 'success');
            }
        }

        // Switch tab
        function switchTab(tab) {
            currentSection = tab;

            // Update tab buttons
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            // Update sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(`${tab}-section`).classList.add('active');
        }

        // Switch language
        function switchLanguage(section, lang) {
            // Update language tabs
            const tabs = event.target.parentNode;
            tabs.querySelectorAll('.lang-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll(`[id^="${section}-content-"]`).forEach(c => c.classList.remove('active'));
            document.getElementById(`${section}-content-${lang}`).classList.add('active');
        }

        // Switch modal language
        function switchModalLanguage(lang) {
            // Update language tabs
            const tabs = event.target.parentNode;
            tabs.querySelectorAll('.lang-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll(`[id^="sample-modal-content-"]`).forEach(c => c.classList.remove('active'));
            document.getElementById(`sample-modal-content-${lang}`).classList.add('active');
        }

        // Show/hide loading
        function showLoading(show) {
            document.getElementById('loading').classList.toggle('show', show);
        }

        // Show message
        function showMessage(text, type) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.className = `message show ${type}`;
            setTimeout(() => message.classList.remove('show'), 5000);
        }

        // Hide message
        function hideMessage() {
            document.getElementById('message').classList.remove('show');
        }

        // Save functions for each section
        async function saveHeroSection() {
            // Collect all language data
            languages.forEach(lang => {
                homepageContent.hero.title[lang] = document.getElementById(`hero-title-${lang}`).value;
                homepageContent.hero.subtitle[lang] = document.getElementById(`hero-subtitle-${lang}`).value;
                homepageContent.hero.cta_primary_text[lang] = document.getElementById(`hero-cta-primary-text-${lang}`).value;
                homepageContent.hero.cta_secondary_text[lang] = document.getElementById(`hero-cta-secondary-text-${lang}`).value;
            });

            try {
                const response = await fetch('/api/homepage/content', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        section: 'hero',
                        content: homepageContent.hero
                    })
                });

                if (response.ok) {
                    showMessage('Hero section saved successfully', 'success');
                } else {
                    showMessage('Failed to save hero section', 'error');
                }
            } catch (error) {
                console.error('Error saving hero section:', error);
                showMessage('Error saving hero section', 'error');
            }
        }

        // Reset section
        function resetSection(section) {
            if (confirm('Are you sure you want to reset this section? All unsaved changes will be lost.')) {
                loadContent();
            }
        }

        // Placeholder functions for other sections
        function addNewFeature() {
            alert('Feature editor coming soon!');
        }

        function editFeature(index) {
            alert('Feature editor coming soon!');
        }

        function deleteFeature(index) {
            if (confirm('Delete this feature?')) {
                homepageContent.features.splice(index, 1);
                updateFeaturesSection();
            }
        }

        function addNewPricingTier() {
            alert('Pricing editor coming soon!');
        }

        function editPricing(index) {
            alert('Pricing editor coming soon!');
        }

        function deletePricing(index) {
            if (confirm('Delete this pricing tier?')) {
                homepageContent.pricing.splice(index, 1);
                updatePricingSection();
            }
        }

        async function saveFeaturesSection() {
            showMessage('Saving features...', 'success');
        }

        async function saveSamplesSection() {
            showMessage('Saving samples...', 'success');
        }

        async function savePricingSection() {
            showMessage('Saving pricing...', 'success');
        }

        async function saveSEOSettings() {
            // Collect all language data
            languages.forEach(lang => {
                homepageContent.seo.title[lang] = document.getElementById(`seo-title-${lang}`).value;
                homepageContent.seo.description[lang] = document.getElementById(`seo-description-${lang}`).value;
                homepageContent.seo.keywords[lang] = document.getElementById(`seo-keywords-${lang}`).value;
            });

            showMessage('SEO settings saved', 'success');
        }
    </script>
</body>
</html>