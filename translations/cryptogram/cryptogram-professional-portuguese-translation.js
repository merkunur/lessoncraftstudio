/**
 * CRYPTOGRAM APP - Professional Portuguese Translation
 * Version: 1.0.0
 * Last Updated: December 2024
 * Total Keys: 194
 * Language: Portuguese (pt)
 *
 * Professional translation with 20+ years of UI/UX localization experience.
 * Focused on natural, idiomatic Portuguese as if originally developed in Portuguese-speaking countries.
 * Compatible with both Brazilian Portuguese and European Portuguese.
 */

const CRYPTOGRAM_TRANSLATIONS_PT = {
  "pt": {
    // ============= 1. Language Names (11 keys) =============
    "language.english": "English (Inglês)",
    "language.german.full": "Deutsch (Alemão)",
    "language.french.full": "Français (Francês)",
    "language.spanish.full": "Español (Espanhol)",
    "language.portuguese.full": "Português",
    "language.italian.full": "Italiano",
    "language.dutch.full": "Nederlands (Holandês)",
    "language.swedish.full": "Svenska (Sueco)",
    "language.danish.full": "Dansk (Dinamarquês)",
    "language.norwegian.full": "Norsk (Norueguês)",
    "language.finnish.full": "Suomi (Finlandês)",

    // ============= 2. Core UI (6 keys) =============
    "title": "Configurações do criptograma",
    "imageCryptogram": "Criptograma ilustrado",
    "selectLanguage": "Selecionar idioma",
    "language": "Idioma:",
    "pageSize": "Tamanho da página:",
    "pageSetup": "Configurar página",

    // ============= 3. Puzzle Rules (7 keys) =============
    "cryptogram.puzzle.rules": "Regras do desafio",
    "cryptogram.phrases.label": "Frases (uma por linha):",
    "cryptogram.phrases.placeholder": "A rápida raposa marrom...",
    "cryptogram.letters.reveal": "Letras para revelar:",
    "cryptogram.max.lines": "Máximo de linhas por desafio:",
    "cryptogram.auto.assign": "Atribuir imagens automaticamente",
    "cryptogram.language.description": "Os nomes e imagens serão exibidos no idioma selecionado.",

    // ============= 4. Image Assignment (9 keys) =============
    "cryptogram.image.assignment": "Atribuição de imagens",
    "cryptogram.image.theme": "Tema das imagens:",
    "cryptogram.select.letter": "Selecione uma letra para atribuir uma imagem:",
    "cryptogram.search.label": "Pesquisar imagens:",
    "cryptogram.search.placeholder": "ex: maçã, carro",
    "cryptogram.available.images": "Imagens disponíveis (clique para atribuir):",
    "cryptogram.select.letter.above": "Selecione uma letra acima.",
    "cryptogram.assigned.images": "Imagens atribuídas:",
    "cryptogram.msg.type.search": "Digite para pesquisar em todas as imagens.",

    // ============= 5. Upload Section (4 keys) =============
    "cryptogram.upload.title": "Carregar imagens próprias",
    "cryptogram.upload.select": "Selecionar imagem(ns) para carregar:",
    "cryptogram.uploaded.label": "Suas imagens carregadas:",
    "cryptogram.uploaded.placeholder": "Suas imagens carregadas aparecerão aqui.",

    // ============= 6. Page Setup (19 keys) =============
    "cryptogram.page.setup": "Configurar página",
    "page.size.letter.portrait": "Carta Retrato (8,5×11\")",
    "page.size.letter.landscape": "Carta Paisagem (11×8,5\")",
    "page.size.a4.portrait": "A4 Retrato (210×297mm)",
    "page.size.a4.landscape": "A4 Paisagem (297×210mm)",
    "page.size.square": "Quadrado (1200×1200)",
    "page.size.custom": "Personalizado",
    "cryptogram.width.label": "Largura (px):",
    "cryptogram.height.label": "Altura (px):",
    "cryptogram.page.color": "Cor da página:",
    "cryptogram.apply.size.color": "Aplicar tamanho e cor",
    "cryptogram.background.title": "Fundo",
    "cryptogram.background.theme": "Tema de fundo:",
    "cryptogram.background.message": "Selecione um tema para os fundos.",
    "cryptogram.background.opacity": "Opacidade do fundo:",
    "cryptogram.border.title": "Moldura",
    "cryptogram.border.theme": "Tema da moldura:",
    "cryptogram.border.message": "Selecione um tema para as molduras.",
    "cryptogram.border.opacity": "Opacidade da moldura:",

    // ============= 7. Text Tools (15 keys) =============
    "cryptogram.text.tools": "Ferramentas de texto",
    "cryptogram.text.add.new": "Adicionar novo texto",
    "cryptogram.text.content.label": "Conteúdo:",
    "cryptogram.text.placeholder": "Olá!",
    "cryptogram.text.add.button": "Adicionar texto",
    "cryptogram.text.properties": "Propriedades do texto selecionado",
    "cryptogram.text.color": "Cor:",
    "cryptogram.text.size": "Tamanho:",
    "cryptogram.text.font": "Fonte:",
    "cryptogram.text.outline.color": "Cor do contorno:",
    "cryptogram.text.outline.width": "Contorno (0-10):",
    "cryptogram.text.default": "Novo texto",
    "cryptogram.page.title": "Gerador de criptogramas ilustrados",
    "cryptogram.msg.text.added": "Texto adicionado à tela.",
    "cryptogram.msg.text.updated": "Propriedades do texto atualizadas.",

    // ============= 8. Font Options (7 keys) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Toolbar Actions (20 keys) =============
    "toolbar.layers": "Camadas",
    "toolbar.bring.forward": "Trazer para frente",
    "toolbar.send.backward": "Enviar para trás",
    "toolbar.align": "Alinhar",
    "toolbar.align.selected": "Alinhar seleção:",
    "toolbar.align.left": "Alinhar à esquerda",
    "toolbar.center.h": "Centralizar horizontalmente",
    "toolbar.align.right": "Alinhar à direita",
    "toolbar.align.top": "Alinhar ao topo",
    "toolbar.center.v": "Centralizar verticalmente",
    "toolbar.align.bottom": "Alinhar à base",
    "toolbar.align.to.page": "Alinhar à página:",
    "toolbar.center.page.h": "Centralizar horizontalmente na página",
    "toolbar.center.page.v": "Centralizar verticalmente na página",
    "toolbar.delete": "Excluir seleção",
    "toolbar.msg.aligned": "Objetos alinhados.",
    "toolbar.msg.layer.changed": "Ordem das camadas alterada.",
    "toolbar.msg.deleted": "Objetos selecionados excluídos.",
    "toolbar.msg.select.first": "Por favor, selecione um objeto primeiro.",
    "toolbar.msg.nothing.selected": "Nenhum objeto selecionado.",

    // ============= 10. Action Buttons (10 keys) =============
    "cryptogram.generate": "Gerar",
    "cryptogram.download": "Baixar",
    "cryptogram.download.worksheet.jpeg": "Folha de atividades (JPEG)",
    "cryptogram.download.answer.jpeg": "Gabarito (JPEG)",
    "cryptogram.download.worksheet.pdf": "Folha de atividades (PDF)",
    "cryptogram.download.answer.pdf": "Gabarito (PDF)",
    "common.grayscale": "Escala de cinza",
    "cryptogram.clear.all": "Limpar tudo",
    "cryptogram.msg.generate.complete": "Criptograma gerado com sucesso!",
    "cryptogram.msg.cleared": "Todo o conteúdo foi apagado.",

    // ============= 11. Tab Labels (2 keys) =============
    "cryptogram.tab.worksheet": "Folha de atividades",
    "cryptogram.tab.answer": "Gabarito",

    // ============= 12. Generation Messages (6 keys) =============
    "cryptogram.msg.generating": "Gerando dados do desafio...",
    "cryptogram.msg.worksheet.generated": "Folha de atividades gerada com sucesso!",
    "cryptogram.msg.error": "Erro: {error}",
    "cryptogram.msg.enter.phrase": "Por favor, insira pelo menos uma frase.",
    "cryptogram.msg.missing.images": "Faltam imagens para as letras: {letters}. Por favor, atribua ou use a atribuição automática.",
    "cryptogram.msg.generate.first": "Por favor, gere o conteúdo primeiro.",

    // ============= 13. Theme Loading Messages (6 keys) =============
    "cryptogram.themes.all": "Todos os temas",
    "cryptogram.msg.themes.error": "Não foi possível carregar os temas.",
    "cryptogram.msg.loading.default": "Carregando tema padrão...",
    "cryptogram.msg.loading.theme": "Carregando {theme}...",
    "cryptogram.msg.theme.failed": "Falha ao carregar o tema \"{theme}\"",
    "cryptogram.msg.theme.loaded": "Tema carregado com sucesso.",

    // ============= 14. Auto-Assign Messages (6 keys) =============
    "cryptogram.msg.fetching.images": "Buscando todas as imagens para atribuição automática...",
    "cryptogram.msg.fetch.failed": "Falha ao buscar a lista de imagens do servidor.",
    "cryptogram.msg.no.images.server": "Não é possível atribuir automaticamente. Nenhuma imagem encontrada no servidor.",
    "cryptogram.msg.auto.assigned": "As imagens foram atribuídas automaticamente.",
    "cryptogram.msg.select.letter.first": "Por favor, selecione uma letra primeiro.",
    "cryptogram.msg.auto.assigning": "Atribuindo imagens às letras automaticamente...",

    // ============= 15. Search Messages (5 keys) =============
    "cryptogram.msg.searching": "Pesquisando...",
    "cryptogram.msg.search.failed": "Falha ao pesquisar \"{query}\"",
    "cryptogram.msg.no.images": "Nenhuma imagem encontrada{query}",
    "cryptogram.msg.uploads.available": "{count} imagem(ns) personalizada(s) disponível(is).",
    "cryptogram.msg.search.complete": "Pesquisa concluída.",

    // ============= 16. Clear & Download Messages (15 keys) =============
    "cryptogram.msg.form.cleared": "Formulário limpo.",
    "cryptogram.msg.canvas.unavailable": "Tela não disponível.",
    "cryptogram.msg.preparing.file": "Preparando {fileName}...",
    "cryptogram.msg.jpeg.initiated": "Download de JPEG iniciado!",
    "cryptogram.msg.jpeg.error": "Erro ao preparar JPEG: {error}",
    "cryptogram.watermark.main": "VERSÃO GRATUITA - LessonCraftStudio.com",
    "cryptogram.watermark.text": "VERSÃO GRATUITA",
    "cryptogram.msg.preparing.pdf": "Preparando PDF...",
    "cryptogram.msg.pdf.downloaded": "PDF baixado!",
    "cryptogram.msg.pdf.error": "Erro ao criar PDF.",
    "cryptogram.msg.generate.worksheet.first": "Por favor, gere uma folha de atividades primeiro.",
    "cryptogram.msg.preparing.jpeg": "Preparando JPEG...",
    "cryptogram.msg.jpeg.error.simple": "Erro ao preparar JPEG.",
    "cryptogram.msg.pdf.error.detailed": "Erro ao criar PDF: {error}",
    "cryptogram.msg.download.ready": "Download pronto.",

    // ============= 17. Asset Loading Messages (5 keys) =============
    "cryptogram.asset.select": "Selecione um tema para ver {type}.",
    "cryptogram.asset.loading": "Carregando {type} de {theme}...",
    "cryptogram.asset.none": "Sem {type} neste tema.",
    "cryptogram.asset.error": "Erro ao carregar {type}.",
    "cryptogram.asset.loaded": "{type} carregado(s) com sucesso.",

    // ============= 18. Common Terms (3 keys) =============
    "common.none": "Nenhum",
    "common.loading": "Carregando...",
    "common.error": "Erro",

    // ============= 19. Placeholders (5 keys) =============
    "placeholder.search": "Pesquisar...",
    "placeholder.enter.text": "Digite o texto aqui",
    "placeholder.custom.width": "Largura",
    "placeholder.custom.height": "Altura",
    "placeholder.reveal.count": "0",

    // ============= 20. Page Title (1 key) =============
    "cryptogram.page.title": "Gerador de criptogramas ilustrados",

    // ============= 21. Error Messages (32 keys) =============
    "error.invalid.dimensions": "Dimensões inválidas. Por favor, verifique a largura e altura.",
    "error.no.theme.selected": "Por favor, selecione um tema primeiro.",
    "error.no.images.theme": "Nenhuma imagem disponível no tema selecionado.",
    "error.upload.failed": "Falha no carregamento. Por favor, tente novamente.",
    "error.file.too.large": "Arquivo muito grande. O tamanho máximo é 5MB.",
    "error.invalid.file.type": "Tipo de arquivo inválido. Por favor, carregue apenas arquivos de imagem.",
    "error.canvas.creation": "Erro ao criar a tela.",
    "error.export.failed": "Falha na exportação. Por favor, tente novamente.",
    "error.network": "Erro de rede. Por favor, verifique sua conexão.",
    "error.theme.empty": "O tema selecionado não contém imagens.",
    "error.puzzle.generation": "Não foi possível gerar o desafio. Por favor, tente com frases diferentes.",
    "error.insufficient.images": "Imagens insuficientes para todas as letras. Por favor, adicione mais imagens ou reduza as letras únicas.",
    "error.no.intersections": "Não foi possível encontrar interseções suficientes para as palavras. Tente com imagens diferentes.",
    "error.invalid.phrase": "Frase inválida. Por favor, insira um texto válido.",
    "error.letter.assignment": "Erro ao atribuir imagem à letra.",
    "error.image.loading": "Erro ao carregar imagem.",
    "error.border.loading": "Erro ao carregar moldura.",
    "error.background.loading": "Erro ao carregar fundo.",
    "error.text.empty": "Por favor, insira conteúdo de texto.",
    "error.object.selection": "Por favor, selecione um objeto para modificar.",
    "error.alignment": "Erro ao alinhar objetos.",
    "error.layer.operation": "Erro ao alterar ordem das camadas.",
    "error.delete.operation": "Erro ao excluir objetos.",
    "error.color.invalid": "Valor de cor inválido.",
    "error.size.invalid": "Valor de tamanho inválido.",
    "error.outline.invalid": "Largura de contorno inválida.",
    "error.opacity.invalid": "Valor de opacidade inválido.",
    "error.theme.not.found": "Tema não encontrado.",
    "error.api.connection": "Não foi possível conectar ao servidor.",
    "error.session.expired": "Sessão expirada. Por favor, recarregue a página.",
    "error.browser.unsupported": "Seu navegador não é suportado. Por favor, use um navegador moderno.",
    "error.feature.unavailable": "Este recurso não está disponível na versão gratuita."
  }
};

// ==========================================
// HELPER FUNCTIONS FOR PORTUGUESE TRANSLATION
// ==========================================

/**
 * Get Portuguese translation for a key
 * @param {string} key - Translation key
 * @param {object} params - Parameters for interpolation
 * @returns {string} Translated text in Portuguese
 */
function getPortugueseCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_PT.pt[key] ||
                     CRYPTOGRAM_TRANSLATIONS_PT.en?.[key] ||
                     key;

  return formatPortugueseCryptogramTranslation(translation, params);
}

/**
 * Format Portuguese translation with parameters
 * @param {string} text - Text with placeholders
 * @param {object} params - Parameters to replace
 * @returns {string} Formatted text
 */
function formatPortugueseCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validate Portuguese translations
 * @returns {object} Validation result
 */
function validatePortugueseCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_PT.pt);
  const totalExpected = 194;

  return {
    valid: keys.length === totalExpected,
    coverage: `${((keys.length / totalExpected) * 100).toFixed(1)}%`,
    missing: totalExpected - keys.length,
    total: keys.length,
    expected: totalExpected
  };
}

/**
 * Portuguese alphabet for cryptogram
 * Includes standard letters plus Portuguese special characters
 */
const PORTUGUESE_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZÁÀÂÃÇÉÊÍÓÔÕÚ';

/**
 * Get Portuguese-specific cryptogram settings
 */
function getPortugueseCryptogramSettings() {
  return {
    alphabet: PORTUGUESE_CRYPTOGRAM_ALPHABET,
    defaultRevealCount: 2,
    maxLinesPerPuzzle: 8,
    supportedFonts: [
      'Arial',
      'Verdana',
      'Lexend Deca',
      'Baloo 2',
      'Nunito',
      'Quicksand',
      'Fredoka'
    ],
    paperSizes: {
      'a4': 'A4 (Padrão no Brasil e Portugal)',
      'letter': 'Carta (Formato americano)',
      'square': 'Quadrado'
    }
  };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_PT,
    getPortugueseCryptogramTranslation,
    formatPortugueseCryptogramTranslation,
    validatePortugueseCryptogramTranslations,
    PORTUGUESE_CRYPTOGRAM_ALPHABET,
    getPortugueseCryptogramSettings
  };
}

// Make available globally in browser
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_PT = CRYPTOGRAM_TRANSLATIONS_PT;
  window.getPortugueseCryptogramTranslation = getPortugueseCryptogramTranslation;
  window.formatPortugueseCryptogramTranslation = formatPortugueseCryptogramTranslation;
  window.validatePortugueseCryptogramTranslations = validatePortugueseCryptogramTranslations;
  window.PORTUGUESE_CRYPTOGRAM_ALPHABET = PORTUGUESE_CRYPTOGRAM_ALPHABET;
  window.getPortugueseCryptogramSettings = getPortugueseCryptogramSettings;
}