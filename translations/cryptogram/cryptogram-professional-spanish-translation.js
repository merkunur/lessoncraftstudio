/**
 * CRYPTOGRAM APP - Professional Spanish Translation
 * Version: 1.0.0
 * Last Updated: December 2024
 * Total Keys: 194
 * Language: Spanish (es)
 *
 * Professional translation with 20+ years of UI/UX localization experience.
 * Focused on natural, idiomatic Spanish as if originally developed in Spanish-speaking countries.
 */

const CRYPTOGRAM_TRANSLATIONS_ES = {
  "es": {
    // ============= 1. Language Names (11 keys) =============
    "language.english": "English (Inglés)",
    "language.german.full": "Deutsch (Alemán)",
    "language.french.full": "Français (Francés)",
    "language.spanish.full": "Español",
    "language.portuguese.full": "Português (Portugués)",
    "language.italian.full": "Italiano",
    "language.dutch.full": "Nederlands (Holandés)",
    "language.swedish.full": "Svenska (Sueco)",
    "language.danish.full": "Dansk (Danés)",
    "language.norwegian.full": "Norsk (Noruego)",
    "language.finnish.full": "Suomi (Finés)",

    // ============= 2. Core UI (6 keys) =============
    "title": "Configuración del criptograma",
    "imageCryptogram": "Criptograma visual",
    "selectLanguage": "Seleccionar idioma",
    "language": "Idioma:",
    "pageSize": "Tamaño de página:",
    "pageSetup": "Configuración de página",

    // ============= 3. Puzzle Rules (7 keys) =============
    "cryptogram.puzzle.rules": "Reglas del puzzle",
    "cryptogram.phrases.label": "Frases (una por línea):",
    "cryptogram.phrases.placeholder": "El veloz murciélago hindú...",
    "cryptogram.letters.reveal": "Letras a revelar:",
    "cryptogram.max.lines": "Líneas máximas por puzzle:",
    "cryptogram.auto.assign": "Asignar imágenes automáticamente",
    "cryptogram.language.description": "Los nombres e imágenes se mostrarán en el idioma seleccionado.",

    // ============= 4. Image Assignment (9 keys) =============
    "cryptogram.image.assignment": "Asignación de imágenes",
    "cryptogram.image.theme": "Tema de imágenes:",
    "cryptogram.select.letter": "Selecciona una letra para asignarle una imagen:",
    "cryptogram.search.label": "Buscar imágenes:",
    "cryptogram.search.placeholder": "ej: manzana, coche",
    "cryptogram.available.images": "Imágenes disponibles (clic para asignar):",
    "cryptogram.select.letter.above": "Selecciona una letra arriba.",
    "cryptogram.assigned.images": "Imágenes asignadas:",
    "cryptogram.msg.type.search": "Escribe para buscar en todas las imágenes.",

    // ============= 5. Upload Section (4 keys) =============
    "cryptogram.upload.title": "Subir imágenes propias",
    "cryptogram.upload.select": "Seleccionar imagen(es) para subir:",
    "cryptogram.uploaded.label": "Tus imágenes subidas:",
    "cryptogram.uploaded.placeholder": "Tus imágenes subidas aparecerán aquí.",

    // ============= 6. Page Setup (19 keys) =============
    "cryptogram.page.setup": "Configuración de página",
    "page.size.letter.portrait": "Carta Vertical (8,5×11\")",
    "page.size.letter.landscape": "Carta Horizontal (11×8,5\")",
    "page.size.a4.portrait": "A4 Vertical (210×297mm)",
    "page.size.a4.landscape": "A4 Horizontal (297×210mm)",
    "page.size.square": "Cuadrado (1200×1200)",
    "page.size.custom": "Personalizado",
    "cryptogram.width.label": "Ancho (px):",
    "cryptogram.height.label": "Alto (px):",
    "cryptogram.page.color": "Color de página:",
    "cryptogram.apply.size.color": "Aplicar tamaño y color",
    "cryptogram.background.title": "Fondo",
    "cryptogram.background.theme": "Tema de fondo:",
    "cryptogram.background.message": "Selecciona un tema para los fondos.",
    "cryptogram.background.opacity": "Opacidad del fondo:",
    "cryptogram.border.title": "Borde",
    "cryptogram.border.theme": "Tema de borde:",
    "cryptogram.border.message": "Selecciona un tema para los bordes.",
    "cryptogram.border.opacity": "Opacidad del borde:",

    // ============= 7. Text Tools (15 keys) =============
    "cryptogram.text.tools": "Herramientas de texto",
    "cryptogram.text.add.new": "Añadir nuevo texto",
    "cryptogram.text.content.label": "Contenido:",
    "cryptogram.text.placeholder": "¡Hola!",
    "cryptogram.text.add.button": "Añadir texto",
    "cryptogram.text.properties": "Propiedades del texto seleccionado",
    "cryptogram.text.color": "Color:",
    "cryptogram.text.size": "Tamaño:",
    "cryptogram.text.font": "Fuente:",
    "cryptogram.text.outline.color": "Color del contorno:",
    "cryptogram.text.outline.width": "Contorno (0-10):",
    "cryptogram.text.default": "Texto nuevo",
    "cryptogram.page.title": "Generador de criptogramas visuales",
    "cryptogram.msg.text.added": "Texto añadido al lienzo.",
    "cryptogram.msg.text.updated": "Propiedades del texto actualizadas.",

    // ============= 8. Font Options (7 keys) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Toolbar Actions (20 keys) =============
    "toolbar.layers": "Capas",
    "toolbar.bring.forward": "Traer adelante",
    "toolbar.send.backward": "Enviar atrás",
    "toolbar.align": "Alinear",
    "toolbar.align.selected": "Alinear selección:",
    "toolbar.align.left": "Alinear a la izquierda",
    "toolbar.center.h": "Centrar horizontalmente",
    "toolbar.align.right": "Alinear a la derecha",
    "toolbar.align.top": "Alinear arriba",
    "toolbar.center.v": "Centrar verticalmente",
    "toolbar.align.bottom": "Alinear abajo",
    "toolbar.align.to.page": "Alinear en la página:",
    "toolbar.center.page.h": "Centrar horizontalmente en la página",
    "toolbar.center.page.v": "Centrar verticalmente en la página",
    "toolbar.delete": "Eliminar selección",
    "toolbar.msg.aligned": "Objetos alineados.",
    "toolbar.msg.layer.changed": "Orden de capas cambiado.",
    "toolbar.msg.deleted": "Objetos seleccionados eliminados.",
    "toolbar.msg.select.first": "Por favor, selecciona un objeto primero.",
    "toolbar.msg.nothing.selected": "No hay objetos seleccionados.",

    // ============= 10. Action Buttons (10 keys) =============
    "cryptogram.generate": "Generar",
    "cryptogram.download": "Descargar",
    "cryptogram.download.worksheet.jpeg": "Hoja de ejercicios (JPEG)",
    "cryptogram.download.answer.jpeg": "Hoja de respuestas (JPEG)",
    "cryptogram.download.worksheet.pdf": "Hoja de ejercicios (PDF)",
    "cryptogram.download.answer.pdf": "Hoja de respuestas (PDF)",
    "common.grayscale": "Escala de grises",
    "cryptogram.clear.all": "Borrar todo",
    "cryptogram.msg.generate.complete": "¡Criptograma generado con éxito!",
    "cryptogram.msg.cleared": "Todo el contenido ha sido borrado.",

    // ============= 11. Tab Labels (2 keys) =============
    "cryptogram.tab.worksheet": "Hoja de ejercicios",
    "cryptogram.tab.answer": "Hoja de respuestas",

    // ============= 12. Generation Messages (6 keys) =============
    "cryptogram.msg.generating": "Generando datos del puzzle...",
    "cryptogram.msg.worksheet.generated": "¡Hoja de ejercicios generada con éxito!",
    "cryptogram.msg.error": "Error: {error}",
    "cryptogram.msg.enter.phrase": "Por favor, introduce al menos una frase.",
    "cryptogram.msg.missing.images": "Faltan imágenes para las letras: {letters}. Por favor, asígnalas o usa la asignación automática.",
    "cryptogram.msg.generate.first": "Por favor, genera contenido primero.",

    // ============= 13. Theme Loading Messages (6 keys) =============
    "cryptogram.themes.all": "Todos los temas",
    "cryptogram.msg.themes.error": "No se pudieron cargar los temas.",
    "cryptogram.msg.loading.default": "Cargando tema predeterminado...",
    "cryptogram.msg.loading.theme": "Cargando {theme}...",
    "cryptogram.msg.theme.failed": "Error al cargar el tema \"{theme}\"",
    "cryptogram.msg.theme.loaded": "Tema cargado con éxito.",

    // ============= 14. Auto-Assign Messages (6 keys) =============
    "cryptogram.msg.fetching.images": "Obteniendo todas las imágenes para asignación automática...",
    "cryptogram.msg.fetch.failed": "Error al obtener la lista de imágenes del servidor.",
    "cryptogram.msg.no.images.server": "No se puede asignar automáticamente. No se encontraron imágenes en el servidor.",
    "cryptogram.msg.auto.assigned": "Las imágenes han sido asignadas automáticamente.",
    "cryptogram.msg.select.letter.first": "Por favor, selecciona una letra primero.",
    "cryptogram.msg.auto.assigning": "Asignando imágenes automáticamente a las letras...",

    // ============= 15. Search Messages (5 keys) =============
    "cryptogram.msg.searching": "Buscando...",
    "cryptogram.msg.search.failed": "Error al buscar \"{query}\"",
    "cryptogram.msg.no.images": "No se encontraron imágenes{query}",
    "cryptogram.msg.uploads.available": "{count} imagen(es) personalizada(s) disponible(s).",
    "cryptogram.msg.search.complete": "Búsqueda completada.",

    // ============= 16. Clear & Download Messages (15 keys) =============
    "cryptogram.msg.form.cleared": "Formulario reiniciado.",
    "cryptogram.msg.canvas.unavailable": "Lienzo no disponible.",
    "cryptogram.msg.preparing.file": "Preparando {fileName}...",
    "cryptogram.msg.jpeg.initiated": "¡Descarga JPEG iniciada!",
    "cryptogram.msg.jpeg.error": "Error al preparar el JPEG: {error}",
    "cryptogram.watermark.main": "VERSIÓN GRATUITA - LessonCraftStudio.com",
    "cryptogram.watermark.text": "VERSIÓN GRATUITA",
    "cryptogram.msg.preparing.pdf": "Preparando PDF...",
    "cryptogram.msg.pdf.downloaded": "¡PDF descargado!",
    "cryptogram.msg.pdf.error": "Error al crear el PDF.",
    "cryptogram.msg.generate.worksheet.first": "Por favor, genera una hoja de ejercicios primero.",
    "cryptogram.msg.preparing.jpeg": "Preparando JPEG...",
    "cryptogram.msg.jpeg.error.simple": "Error al preparar el JPEG.",
    "cryptogram.msg.pdf.error.detailed": "Error al crear el PDF: {error}",
    "cryptogram.msg.download.ready": "Descarga lista.",

    // ============= 17. Asset Loading Messages (5 keys) =============
    "cryptogram.asset.select": "Selecciona un tema para ver {type}.",
    "cryptogram.asset.loading": "Cargando {type} de {theme}...",
    "cryptogram.asset.none": "No hay {type} en este tema.",
    "cryptogram.asset.error": "Error al cargar {type}.",
    "cryptogram.asset.loaded": "{type} cargado(s) con éxito.",

    // ============= 18. Common Terms (3 keys) =============
    "common.none": "Ninguno",
    "common.loading": "Cargando...",
    "common.error": "Error",

    // ============= 19. Placeholders (5 keys) =============
    "placeholder.search": "Buscar...",
    "placeholder.enter.text": "Introduce el texto aquí",
    "placeholder.custom.width": "Ancho",
    "placeholder.custom.height": "Alto",
    "placeholder.reveal.count": "0",

    // ============= 20. Page Title (1 key) =============
    "cryptogram.page.title": "Generador de criptogramas visuales",

    // ============= 21. Error Messages (32 keys) =============
    "error.invalid.dimensions": "Dimensiones inválidas. Por favor, verifica el ancho y alto.",
    "error.no.theme.selected": "Por favor, selecciona un tema primero.",
    "error.no.images.theme": "No hay imágenes disponibles en el tema seleccionado.",
    "error.upload.failed": "Error al subir. Por favor, inténtalo de nuevo.",
    "error.file.too.large": "Archivo demasiado grande. El tamaño máximo es 5MB.",
    "error.invalid.file.type": "Tipo de archivo inválido. Por favor, sube solo archivos de imagen.",
    "error.canvas.creation": "Error al crear el lienzo.",
    "error.export.failed": "Error al exportar. Por favor, inténtalo de nuevo.",
    "error.network": "Error de red. Por favor, verifica tu conexión.",
    "error.theme.empty": "El tema seleccionado no tiene imágenes.",
    "error.puzzle.generation": "No se pudo generar el puzzle. Por favor, prueba con frases diferentes.",
    "error.insufficient.images": "No hay suficientes imágenes para todas las letras. Por favor, añade más imágenes o reduce las letras únicas.",
    "error.no.intersections": "No se pudieron encontrar suficientes intersecciones para las palabras. Prueba con imágenes diferentes.",
    "error.invalid.phrase": "Frase inválida. Por favor, introduce un texto válido.",
    "error.letter.assignment": "Error al asignar la imagen a la letra.",
    "error.image.loading": "Error al cargar la imagen.",
    "error.border.loading": "Error al cargar el borde.",
    "error.background.loading": "Error al cargar el fondo.",
    "error.text.empty": "Por favor, introduce contenido de texto.",
    "error.object.selection": "Por favor, selecciona un objeto para modificar.",
    "error.alignment": "Error al alinear los objetos.",
    "error.layer.operation": "Error al cambiar el orden de las capas.",
    "error.delete.operation": "Error al eliminar los objetos.",
    "error.color.invalid": "Valor de color inválido.",
    "error.size.invalid": "Valor de tamaño inválido.",
    "error.outline.invalid": "Ancho de contorno inválido.",
    "error.opacity.invalid": "Valor de opacidad inválido.",
    "error.theme.not.found": "Tema no encontrado.",
    "error.api.connection": "No se pudo conectar con el servidor.",
    "error.session.expired": "Sesión expirada. Por favor, recarga la página.",
    "error.browser.unsupported": "Tu navegador no es compatible. Por favor, usa un navegador moderno.",
    "error.feature.unavailable": "Esta función no está disponible en la versión gratuita."
  }
};

// ==========================================
// HELPER FUNCTIONS FOR SPANISH TRANSLATION
// ==========================================

/**
 * Get Spanish translation for a key
 * @param {string} key - Translation key
 * @param {object} params - Parameters for interpolation
 * @returns {string} Translated text in Spanish
 */
function getSpanishCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_ES.es[key] ||
                     CRYPTOGRAM_TRANSLATIONS_ES.en?.[key] ||
                     key;

  return formatSpanishCryptogramTranslation(translation, params);
}

/**
 * Format Spanish translation with parameters
 * @param {string} text - Text with placeholders
 * @param {object} params - Parameters to replace
 * @returns {string} Formatted text
 */
function formatSpanishCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validate Spanish translations
 * @returns {object} Validation result
 */
function validateSpanishCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_ES.es);
  const totalExpected = 194;

  return {
    valid: keys.length === totalExpected,
    coverage: `${((keys.length / totalExpected) * 100).toFixed(1)}%`,
    missing: totalExpected - keys.length,
    total: keys.length,
    expected: totalExpected
  };
}

/**
 * Spanish alphabet for cryptogram
 * Includes standard letters plus Spanish special characters
 */
const SPANISH_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNÑOPQRSTUVWXYZÁÉÍÓÚÜ';

/**
 * Get Spanish-specific cryptogram settings
 */
function getSpanishCryptogramSettings() {
  return {
    alphabet: SPANISH_CRYPTOGRAM_ALPHABET,
    defaultRevealCount: 2,
    maxLinesPerPuzzle: 8,
    supportedFonts: [
      'Arial',
      'Verdana',
      'Lexend Deca',
      'Baloo 2',
      'Nunito',
      'Quicksand',
      'Fredoka'
    ],
    paperSizes: {
      'a4': 'A4 (Estándar en España)',
      'letter': 'Carta (Formato americano)',
      'square': 'Cuadrado'
    }
  };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_ES,
    getSpanishCryptogramTranslation,
    formatSpanishCryptogramTranslation,
    validateSpanishCryptogramTranslations,
    SPANISH_CRYPTOGRAM_ALPHABET,
    getSpanishCryptogramSettings
  };
}

// Make available globally in browser
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_ES = CRYPTOGRAM_TRANSLATIONS_ES;
  window.getSpanishCryptogramTranslation = getSpanishCryptogramTranslation;
  window.formatSpanishCryptogramTranslation = formatSpanishCryptogramTranslation;
  window.validateSpanishCryptogramTranslations = validateSpanishCryptogramTranslations;
  window.SPANISH_CRYPTOGRAM_ALPHABET = SPANISH_CRYPTOGRAM_ALPHABET;
  window.getSpanishCryptogramSettings = getSpanishCryptogramSettings;
}