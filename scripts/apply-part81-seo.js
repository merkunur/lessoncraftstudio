/**
 * SEO Part 81: Enrich first-grade for birthday, numbers, alphabet, shapes, colors
 * Adds 6 grade-level enrichment fields to gradeContent['first-grade'] for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  {
    name: 'birthday',
    uniqueGradeAngle: `First grade is the most mathematically meaningful and socially developmental stage for birthday worksheets because six- and seven-year-olds are developing the calendar literacy, numerical reasoning, and social-emotional awareness to engage with birthdays not just as exciting days with cake and presents but as mathematically rich events connected to calendar systems, age calculation, time measurement, and cultural traditions \u2014 understanding that birthdays mark the completion of one full orbit of the Earth around the Sun, that age can be calculated and compared using subtraction, that birthday celebrations vary dramatically across cultures, and that planning a birthday party involves real-world math including budgeting, measuring ingredients, counting guests, and dividing treats equally. Birthday worksheets are uniquely powerful at the first-grade level because children can now engage with calendar math and time measurement (understanding months, dates, and the yearly cycle, calculating how many days or months until their next birthday, comparing birth dates, and understanding that a birthday marks exactly one more trip around the Sun), age arithmetic and number operations (using addition and subtraction to calculate ages, compare ages between family members and friends, figure out what year someone was born, and solve word problems involving age), party planning math (applying measurement, counting, money, and division to real party scenarios like doubling a recipe, calculating how many slices of pizza to order for a group, figuring out equal portions of cake, and budgeting for party supplies), and birthday traditions around the world (comparing how different cultures celebrate birthdays, understanding that some cultures calculate age differently, and learning about unique birthday customs from various countries).`,
    developmentalMilestones: [
      { milestone: `Calendar literacy and time measurement (first graders are developing the temporal reasoning to understand how birthdays connect to calendar systems and Earth\u2019s orbital cycle)`, howWeAddress: `birthday worksheets where children identify their birth month and date on a calendar, calculate the number of days or months until their next birthday, understand that one year equals one complete orbit of Earth around the Sun, and sequence birth dates of classmates in chronological order build the calendar literacy and time measurement skills that connect personal milestones to mathematical and astronomical concepts` },
      { milestone: `Age arithmetic and number operations (first graders are developing the computational fluency to use addition and subtraction in meaningful age-related contexts)`, howWeAddress: `birthday worksheets where children calculate current ages from birth years, determine the age difference between siblings or family members, solve word problems like how old will you be in five years or how old were you three years ago, and create number lines showing ages of family members build the arithmetic fluency and problem-solving abilities that make birthday math personally relevant and engaging` },
      { milestone: `Party planning and real-world math applications (first graders are developing the practical math skills to apply measurement, division, and budgeting to authentic party-planning scenarios)`, howWeAddress: `birthday worksheets where children calculate how many slices of pizza to order for a given number of guests, figure out equal portions of cake or treats, measure ingredients for a birthday recipe, and create a simple party budget with addition of costs build the applied mathematics, measurement skills, and problem-solving reasoning that connect classroom math to real-world celebration planning` },
    ],
    differentiationNotes: `For struggling first graders, focus on three birthday math concepts (identifying their birth month on a calendar, calculating age using a number line, and counting party items in groups) with visual supports and manipulatives, simplify age arithmetic to addition within ten, reduce party planning to counting equal groups with concrete objects, and provide picture-based calendar activities. For advanced first graders, introduce multi-step age word problems involving birth years and future ages requiring two or more operations, challenge children to plan a complete birthday party with a fixed budget requiring addition, subtraction, and comparison of costs, extend calendar work to calculating exact days between two dates and understanding leap years, introduce birthday traditions from ten or more cultures with mathematical comparisons (age calculation differences in Korean versus Western systems), and encourage a birthday statistics project where children survey classmates about birth months, create bar graphs, and analyze which months have the most birthdays.`,
    parentTakeaway: `Birthday worksheets give first-grade parents the most personally exciting and mathematically authentic learning tool because every child is deeply invested in their own birthday \u2014 and your first grader is at the perfect age to discover that birthdays are packed with real math that matters. The key strategy is to turn birthday excitement into math exploration: count down the days to their birthday together on a calendar and calculate how many weeks that is, discuss ages using subtraction (Grandma is sixty-five and you are seven \u2014 how many years older is Grandma), involve your child in party planning math (we have twelve guests and each pizza has eight slices \u2014 how many pizzas do we need), measure ingredients together for a birthday cake, create a simple budget for party supplies. When your child can find their birthday on a calendar and calculate days until it arrives, use addition and subtraction to solve age comparison problems, apply measurement and division to real party planning scenarios, and describe how at least two different cultures celebrate birthdays, they have built the calendar literacy, arithmetic fluency, and applied math skills that birthday worksheets develop through the most personally anticipated event of every child\u2019s year.`,
    classroomIntegration: `Birthday worksheets anchor the most personally motivating and mathematically authentic unit in first grade because every child cares deeply about birthdays, creating natural engagement with calendar math, arithmetic operations, and real-world problem solving. Create a classroom birthday timeline where children place their birthdays in order on a year-long display, practicing sequencing and calendar skills. Use age arithmetic worksheets alongside a family math investigation where children collect ages of family members and solve comparison problems. Connect party planning worksheets to a collaborative classroom party design project where children work in groups to plan a celebration within a budget, calculating food quantities, equal portions, and total costs. Incorporate cultural tradition worksheets into a birthday around the world research center where children investigate and present how different countries celebrate. A birthday vocabulary wall with terms like calendar, calculate, budget, portion, and tradition builds mathematical and social studies language. A birthday statistics project where children survey the class about birth months and create graphs builds data analysis skills. A birthday recipe math center where children practice measurement by scaling recipes up or down connects math to practical life skills.`,
    assessmentRubric: [
      { skill: `Calendar literacy and time measurement`, emerging: `identifies their birth month with teacher prompting`, proficient: `locates their birthday on a calendar, calculates months until their next birthday, sequences multiple dates in chronological order, and explains that a birthday marks one Earth orbit around the Sun`, advanced: `calculates exact days between dates, understands leap years and their effect on birthdays, and creates a comprehensive timeline plotting multiple events with accurate time intervals` },
      { skill: `Age arithmetic and number operations`, emerging: `states their age with teacher support`, proficient: `calculates age differences between family members using subtraction, solves two-step age word problems, and uses a number line to represent and compare ages`, advanced: `solves multi-step age problems involving birth years and future projections, compares age calculation systems across cultures, and creates original age word problems for classmates to solve` },
      { skill: `Party planning and applied math`, emerging: `counts party items in a group with teacher guidance`, proficient: `calculates food quantities for a given number of guests, divides treats into equal portions, measures recipe ingredients, and creates a simple budget with accurate addition`, advanced: `plans a complete party within a fixed budget making cost comparisons and trade-off decisions, scales recipes for different group sizes using multiplication, and presents a detailed party plan with mathematical justification for each decision` },
    ],
  },
  {
    name: 'numbers',
    uniqueGradeAngle: `First grade is the most computationally transformative and place-value foundational stage for number worksheets because six- and seven-year-olds are making the critical leap from counting individual objects to understanding the base-ten number system \u2014 grasping that the digit two in twenty-three means two tens (twenty) while the digit two in thirty-two means just two ones, that numbers can be decomposed and recomposed in multiple ways (fifteen is one ten and five ones, but also seven and eight, or nine and six), that addition and subtraction are inverse operations connected by fact families, and that these operations extend beyond basic facts to two-digit numbers using place value understanding. Number worksheets are uniquely powerful at the first-grade level because children can now engage with place value and the base-ten system (understanding that our number system groups quantities in tens and ones, that the position of a digit determines its value, and that this structure extends predictably to larger numbers), addition and subtraction fluency within twenty (developing automatic recall of basic facts while understanding the strategies behind them \u2014 counting on, making ten, using doubles, decomposing numbers \u2014 rather than relying solely on counting), two-digit number operations (extending single-digit understanding to adding and subtracting two-digit numbers using place value, understanding that adding tens to tens and ones to ones is the foundation of multi-digit arithmetic), and number patterns and relationships (recognizing patterns in the number system like skip counting by twos, fives, and tens, understanding odd and even numbers, and using number relationships to solve problems more efficiently).`,
    developmentalMilestones: [
      { milestone: `Place value and base-ten understanding (first graders are making the foundational conceptual leap from seeing numbers as sequences of counting words to understanding them as composed of tens and ones with positional meaning)`, howWeAddress: `number worksheets where children represent two-digit numbers using tens and ones blocks, decompose numbers in multiple ways (forty-seven is four tens and seven ones, or three tens and seventeen ones), compare two-digit numbers using place value reasoning rather than just counting, and extend patterns in the base-ten system (what comes after twenty-nine, after thirty-nine, after ninety-nine) build the place value understanding that is the single most important mathematical concept in first grade and the foundation of all future arithmetic` },
      { milestone: `Addition and subtraction fluency and strategy development (first graders are developing both automatic recall of basic facts and deep understanding of the strategies that make arithmetic efficient and flexible)`, howWeAddress: `number worksheets where children practice addition and subtraction facts within twenty using strategies like making ten (eight plus five equals eight plus two plus three equals thirteen), using doubles (six plus seven equals six plus six plus one equals thirteen), counting on from the larger number, and understanding fact families (if seven plus eight equals fifteen, then fifteen minus eight equals seven) build the computational fluency and strategic thinking that transform arithmetic from slow counting to efficient mathematical reasoning` },
      { milestone: `Two-digit operations and number relationships (first graders are extending their single-digit understanding to larger numbers and discovering patterns that make the number system predictable and powerful)`, howWeAddress: `number worksheets where children add and subtract multiples of ten (thirty plus forty equals seventy), add a two-digit and single-digit number with and without regrouping, skip count by twos, fives, and tens to build multiplication readiness, and identify odd and even numbers with understanding of why they alternate build the extended arithmetic and pattern recognition skills that prepare first graders for the multi-digit operations and multiplicative thinking of second grade` },
    ],
    differentiationNotes: `For struggling first graders, focus on numbers within twenty using concrete manipulatives (connecting cubes, ten frames, number lines), simplify place value to understanding teen numbers as one ten and some ones, practice addition and subtraction facts within ten with visual supports before extending to twenty, and provide structured number lines and hundred charts for reference. For advanced first graders, introduce three-digit numbers with hundreds, tens, and ones place value, challenge children to add and subtract two-digit numbers with regrouping using multiple strategies, extend skip counting to threes and fours building multiplication foundations, introduce the concept of number properties (commutative \u2014 three plus five equals five plus three, associative \u2014 grouping numbers differently gives the same sum), and encourage a number investigation project where children explore patterns like the sum of consecutive numbers, triangular numbers, or square numbers, discovering that mathematics is full of beautiful and predictable patterns.`,
    parentTakeaway: `Number worksheets give first-grade parents the most mathematically foundational and future-determining learning tool because first grade is the year when your child either builds a deep understanding of how numbers work \u2014 or memorizes procedures without understanding, a gap that widens every year. The key insight is that place value understanding matters more than speed: when your child understands that forty-seven means four groups of ten plus seven more (not just the number that comes after forty-six), they have the conceptual foundation for all future math. The key strategy is to make numbers visible and concrete: use objects around the house to build tens and ones (group forty-seven pennies into four groups of ten and seven extra), play with a hundred chart pointing out patterns (look at the tens column \u2014 ten, twenty, thirty \u2014 it is just counting by tens), practice fact strategies rather than flashcard drilling (if you know six plus six is twelve, then six plus seven must be thirteen because it is just one more). When your child can explain what each digit in a two-digit number means, use at least two strategies for addition and subtraction facts within twenty, add and subtract two-digit numbers using place value reasoning, and identify patterns like skip counting and odd-even in the number system, they have built the number sense and place value understanding that number worksheets develop through the most important mathematical foundation of elementary school.`,
    classroomIntegration: `Number worksheets anchor the most mathematically essential and strategically rich unit in first grade because first-grade number work establishes the conceptual foundations that every future math topic depends on \u2014 making this the year when deep understanding matters most. Create a classroom number center with base-ten blocks, ten frames, hundred charts, and number lines where children represent numbers in multiple ways using their worksheets as guides. Use fact strategy worksheets alongside a strategy wall where children share and compare different approaches to the same problem (we all got thirteen for eight plus five, but we used three different strategies \u2014 who can explain each one). Connect place value worksheets to daily routines like counting the days of school using a tens-and-ones display. Incorporate pattern worksheets into a number detective investigation where children search for and describe patterns in the hundred chart. A number vocabulary wall with terms like place value, tens, ones, decompose, fact family, and strategy builds mathematical language. A daily number talk routine where children solve problems mentally and share their thinking builds fluency and flexibility. A math journal where children explain their strategies in writing connects mathematical reasoning to literacy.`,
    assessmentRubric: [
      { skill: `Place value and base-ten understanding`, emerging: `counts to fifty with teacher support and identifies written numerals`, proficient: `represents two-digit numbers using tens and ones in multiple ways, explains what each digit means using place value language, compares two-digit numbers using place value reasoning, and extends base-ten patterns beyond one hundred`, advanced: `works with three-digit numbers understanding hundreds place, decomposes numbers flexibly for strategic computation, and explains why our base-ten system works the way it does using grouping concepts` },
      { skill: `Addition and subtraction fluency`, emerging: `solves addition facts within ten using counting with teacher prompting`, proficient: `demonstrates automatic recall of most facts within twenty, explains and uses at least three addition strategies and two subtraction strategies, and identifies fact family relationships connecting addition and subtraction`, advanced: `applies strategies flexibly choosing the most efficient approach for each problem, extends fact knowledge to solve unfamiliar problems, and creates and solves original word problems requiring multiple operations` },
      { skill: `Two-digit operations and number patterns`, emerging: `skip counts by tens from ten to one hundred with teacher support`, proficient: `adds and subtracts multiples of ten mentally, adds a two-digit and one-digit number with regrouping, skip counts by twos, fives, and tens fluently, and identifies odd and even numbers`, advanced: `adds and subtracts two-digit numbers using multiple strategies including regrouping, identifies and extends complex number patterns, and explains mathematical properties like commutativity using examples and reasoning` },
    ],
  },
  {
    name: 'alphabet',
    uniqueGradeAngle: `First grade is the most linguistically transformative and literacy-foundational stage for alphabet worksheets because six- and seven-year-olds are making the critical transition from learning individual letter names and sounds to using the alphabetic principle as a tool for independent reading and writing \u2014 understanding that letters combine into predictable patterns (consonant blends like bl, cr, st; digraphs like sh, ch, th; vowel teams like ea, ai, oa), that the same letter can make different sounds in different contexts (the letter a in cat, cake, and car), that English spelling follows rules and patterns even when it seems irregular, and that mastery of the alphabetic code unlocks the ability to decode unfamiliar words independently. Alphabet worksheets are uniquely powerful at the first-grade level because children can now engage with advanced phonics patterns (moving beyond single letter-sound correspondence to understanding consonant blends, digraphs, vowel teams, silent letters, and the effect of final e on vowel sounds), encoding and spelling (applying alphabetic knowledge to write words independently by segmenting sounds and selecting the correct letters or letter combinations to represent each sound), alphabetical order and reference skills (using alphabetical order fluently to look up words in dictionaries, find information in indexes, and organize lists \u2014 turning the alphabet from a memorized song into a practical organizational tool), and word building and morphology (understanding how words are constructed from letters, how adding prefixes and suffixes changes word meaning, and how root words connect word families).`,
    developmentalMilestones: [
      { milestone: `Advanced phonics and the alphabetic code (first graders are mastering the complex relationships between letters and sounds that enable independent decoding of unfamiliar words)`, howWeAddress: `alphabet worksheets where children learn consonant blends (bl, br, cl, cr, dr, fl, fr, gl, gr, pl, pr, sl, sm, sn, sp, st, sw, tr), digraphs (sh, ch, th, wh, ph, ck), vowel teams (ea, ee, ai, ay, oa, ow, oo, ou), silent e patterns, and r-controlled vowels (ar, er, ir, or, ur), applying these patterns to decode new words independently build the advanced phonics knowledge that transforms the alphabet from twenty-six individual letters into a powerful code for reading any word` },
      { milestone: `Encoding and independent spelling (first graders are developing the ability to reverse the decoding process, segmenting spoken words into sounds and selecting appropriate letters to represent each sound in writing)`, howWeAddress: `alphabet worksheets where children segment words into individual phonemes, select the correct letter or letter combination for each sound, apply spelling rules like doubling consonants before adding suffixes and changing y to i, and use word walls and personal dictionaries to check their spelling build the encoding skills that transform the alphabet from a reading tool into a writing tool, enabling independent written expression` },
      { milestone: `Alphabetical order and word building (first graders are developing the practical application skills to use alphabetical order as an organizational system and understand how words are constructed from meaningful parts)`, howWeAddress: `alphabet worksheets where children arrange words in alphabetical order using first, second, and third letter comparison, use alphabetical order to locate words in a dictionary and information in an index, build new words by adding common prefixes (un-, re-, pre-) and suffixes (-ed, -ing, -er, -est, -ly) to base words, and identify word families that share common letter patterns build the reference skills and morphological awareness that connect alphabetic knowledge to independent learning and vocabulary expansion` },
    ],
    differentiationNotes: `For struggling first graders, reinforce single letter-sound correspondences with multisensory activities (tracing in sand, forming with clay, air writing), introduce blends and digraphs one at a time with extensive practice before adding new patterns, focus alphabetical order on first-letter sorting only, and provide letter-sound reference cards for encoding support. For advanced first graders, introduce advanced spelling patterns including diphthongs (oi, oy, ou, ow), variant vowel patterns (aw, au, ew), and less common digraphs (kn, wr, gn), challenge children to identify the etymology of English words explaining why some spellings seem irregular (knight has a silent k because it was pronounced in Old English), extend word building to understanding Latin and Greek roots that appear in academic vocabulary, introduce the concept of homophones and homographs with spelling strategies for commonly confused words, and encourage a personal dictionary project where children collect interesting words, categorize them by spelling pattern, and write definitions and example sentences.`,
    parentTakeaway: `Alphabet worksheets give first-grade parents the most literacy-transforming and independence-building learning tool because first grade is the year your child cracks the reading code \u2014 moving from laboriously sounding out c-a-t to fluently reading sentences, paragraphs, and eventually entire books. The key insight is that the alphabet is not just twenty-six letters but a complex code with patterns: once your child learns that sh makes one sound, that a silent e at the end of a word changes the vowel from short to long (cap becomes cape), and that ea usually says the long e sound, they can decode thousands of words they have never seen before. The key strategy is to make letter patterns visible everywhere: when reading together, point out patterns (look, this word has the sh sound just like ship and shell), when your child writes, help them listen for sounds and choose letters (what sounds do you hear in the word train \u2014 t-r-ai-n \u2014 the ai makes the long a sound), play word building games where changing one letter creates a new word (cat, hat, hot, hop, hope). When your child can decode unfamiliar words by recognizing blends, digraphs, and vowel patterns, spell words independently by segmenting sounds and selecting appropriate letters, use alphabetical order to find words in a dictionary, and build new words using prefixes and suffixes, they have built the phonics mastery, encoding skills, and alphabetic fluency that alphabet worksheets develop through the most powerful code your child will ever learn.`,
    classroomIntegration: `Alphabet worksheets anchor the most literacy-critical and skill-building unit in first grade because mastery of the alphabetic code is the gateway to independent reading and writing \u2014 the skills that unlock every other area of academic learning. Create a classroom word study center where children sort words by spelling pattern using letter tiles and their worksheets, discovering rules like when two vowels go walking the first one does the talking. Use phonics pattern worksheets alongside a daily word building routine where children use magnetic letters to construct, deconstruct, and transform words by changing individual letters. Connect encoding worksheets to daily journal writing where children apply their spelling knowledge to express ideas independently. Incorporate alphabetical order worksheets into a classroom library organization project where children help arrange books and create alphabetized reading lists. An alphabet pattern wall organized by phonics rules rather than just letters (all the ways to spell the long a sound: a-e, ai, ay, eigh) builds pattern awareness. A word family center where children discover how changing one letter creates related words builds decoding fluency. A class dictionary project where children contribute words they have learned, alphabetize entries, and write definitions builds reference skills and vocabulary.`,
    assessmentRubric: [
      { skill: `Advanced phonics and decoding`, emerging: `identifies single letter sounds and reads CVC words with teacher prompting`, proficient: `reads words containing consonant blends, digraphs, and common vowel teams, applies silent e rule and r-controlled vowel patterns, and decodes unfamiliar words using phonics knowledge independently`, advanced: `decodes multisyllabic words by breaking them into syllables and applying phonics patterns, identifies less common spelling patterns and their origins, and reads grade-level text fluently applying phonics knowledge automatically` },
      { skill: `Encoding and spelling`, emerging: `writes initial and final consonant sounds in words with teacher support`, proficient: `segments words into phonemes and selects appropriate letters for each sound, applies common spelling rules for adding suffixes, and uses word walls and personal dictionaries to verify spelling`, advanced: `spells words with complex patterns including diphthongs and variant vowels, applies advanced spelling rules consistently in independent writing, and identifies and corrects spelling errors using phonics reasoning` },
      { skill: `Alphabetical order and word building`, emerging: `recites the alphabet and identifies the first letter of words with teacher guidance`, proficient: `arranges words in alphabetical order using second and third letters, locates words in a beginning dictionary, and builds new words by adding common prefixes and suffixes to base words`, advanced: `uses alphabetical order fluently for reference tasks, analyzes word structure identifying roots, prefixes, and suffixes, and explains how morphological knowledge helps determine the meaning of unfamiliar words` },
    ],
  },
  {
    name: 'shapes',
    uniqueGradeAngle: `First grade is the most geometrically analytical and spatially reasoning stage for shape worksheets because six- and seven-year-olds are transitioning from recognizing shapes by overall appearance to analyzing them by their defining attributes \u2014 understanding that a triangle is a triangle not because it looks like one but because it is a closed figure with exactly three straight sides and three vertices, that shapes can be classified and compared by their number of sides, angles, and symmetry, that two-dimensional shapes and three-dimensional solids are related but fundamentally different, and that shapes combine, decompose, and transform in predictable ways that follow geometric rules. Shape worksheets are uniquely powerful at the first-grade level because children can now engage with defining attributes and classification (understanding that shapes are defined by specific geometric properties \u2014 number of sides, number of vertices, types of angles \u2014 rather than by how they look in a particular orientation or size), composing and decomposing shapes (understanding that shapes can be combined to make new shapes and that complex shapes can be broken into simpler components \u2014 two triangles make a rectangle, a hexagon can be divided into six triangles), three-dimensional solids and their properties (identifying cubes, rectangular prisms, cylinders, cones, and spheres by their faces, edges, and vertices, and understanding the relationship between two-dimensional shapes and three-dimensional solids), and symmetry and spatial reasoning (identifying lines of symmetry in shapes and figures, understanding rotational symmetry, and developing spatial visualization skills through mental rotation and transformation).`,
    developmentalMilestones: [
      { milestone: `Defining attributes and shape classification (first graders are making the critical transition from recognizing shapes visually to analyzing them by measurable geometric properties)`, howWeAddress: `shape worksheets where children identify and count sides, vertices, and angles of two-dimensional shapes, classify shapes by attributes (all shapes with four sides are quadrilaterals, shapes with four equal sides and four right angles are squares), recognize that orientation and size do not change a shape\u2019s classification (a triangle rotated or enlarged is still a triangle), and distinguish between defining attributes (number of sides) and non-defining attributes (color, size, orientation) build the analytical geometry skills that form the foundation of mathematical reasoning about space and form` },
      { milestone: `Composing and decomposing shapes (first graders are developing the spatial reasoning to understand that shapes can be combined and separated in predictable ways)`, howWeAddress: `shape worksheets where children combine two or more shapes to create new shapes (two squares make a rectangle, six triangles make a hexagon), decompose complex shapes into simpler components, use tangrams and pattern blocks to fill outlines exploring multiple solutions, and predict what shape will result from combining specific shapes build the spatial composition skills that connect basic geometry to problem-solving, design thinking, and early fraction understanding` },
      { milestone: `Three-dimensional solids and symmetry (first graders are developing the spatial visualization skills to analyze three-dimensional objects and identify symmetry in shapes and the world around them)`, howWeAddress: `shape worksheets where children identify and name three-dimensional solids (cube, rectangular prism, cylinder, cone, sphere), count faces, edges, and vertices of each solid, connect three-dimensional solids to their two-dimensional face shapes (a cube has square faces, a cylinder has circular faces), and identify lines of symmetry in two-dimensional shapes and real-world objects build the spatial visualization and symmetry awareness that connect geometric understanding to art, architecture, and the physical world` },
    ],
    differentiationNotes: `For struggling first graders, focus on four basic shapes (triangle, rectangle, square, circle) with hands-on manipulatives for sorting and comparing, simplify attribute analysis to counting sides and corners only, reduce composition to combining two shapes with physical pattern blocks, and provide real-world shape hunts where children find shapes in the classroom environment. For advanced first graders, introduce additional polygons (pentagon, hexagon, octagon) with detailed attribute analysis including angle types (right, acute, obtuse), challenge children to find all possible ways to decompose a hexagon into smaller shapes and prove they found every combination, extend three-dimensional work to nets (flat patterns that fold into solids) and cross-sections (what shape do you see if you slice a cylinder), introduce coordinate geometry at a basic level using a grid to describe shape positions, and encourage an architecture investigation where children analyze buildings and structures identifying geometric shapes and solids, evaluating how shape properties contribute to structural strength and aesthetic design.`,
    parentTakeaway: `Shape worksheets give first-grade parents the most visually engaging and spatially developing learning tool because shapes are literally everywhere \u2014 and your first grader is at the perfect age to move beyond just naming shapes to understanding why a shape is what it is and how shapes work together. The key insight is that first-grade geometry is about attributes, not appearance: a long, thin triangle is still a triangle because it has three straight sides and three corners, and understanding this builds the logical thinking your child needs for all future math. The key strategy is to analyze shapes everywhere you go: point out shapes in buildings, signs, and objects (that stop sign is an octagon \u2014 how many sides does it have), discuss what makes a shape its shape (what makes this a rectangle instead of a triangle \u2014 it has four sides and four corners), build with blocks and discuss the three-dimensional shapes (this block is a rectangular prism \u2014 how many flat faces does it have, what shape are they), fold paper to discover symmetry. When your child can classify shapes by their attributes rather than just their appearance, combine and decompose shapes in multiple ways, identify three-dimensional solids and their properties, and find lines of symmetry in shapes and everyday objects, they have built the geometric reasoning, spatial visualization, and analytical thinking that shape worksheets develop through the visual language of mathematics.`,
    classroomIntegration: `Shape worksheets anchor the most visually rich and hands-on geometry unit in first grade because shapes provide concrete, touchable mathematics that develops spatial reasoning \u2014 a skill that predicts success in mathematics, science, engineering, and technology. Create a classroom geometry center with pattern blocks, tangrams, geoboards, and three-dimensional solid models where children explore shape composition, decomposition, and attributes using their worksheets as guides. Use attribute worksheets alongside a shape sorting station where children classify shapes by multiple criteria and discover that the same shape can belong to different categories (a square is also a rectangle and also a quadrilateral). Connect composition worksheets to tangram challenges where children find multiple ways to fill the same outline. Incorporate three-dimensional worksheets into a solid scavenger hunt where children match classroom objects to geometric solid names and describe their faces, edges, and vertices. A shape vocabulary wall with terms like vertex, edge, face, symmetry, attribute, and polygon builds geometric language. A symmetry art project where children create designs using lines of symmetry connects geometry to creative expression. A classroom architecture challenge where children design structures using specific geometric requirements connects shapes to engineering.`,
    assessmentRubric: [
      { skill: `Defining attributes and classification`, emerging: `names basic shapes by sight with teacher prompting`, proficient: `identifies and counts sides and vertices of two-dimensional shapes, classifies shapes by defining attributes, explains why a shape belongs to a category using attribute language, and recognizes shapes regardless of size or orientation`, advanced: `classifies shapes using hierarchical categories, identifies angle types within shapes, and creates and defends a classification system for a mixed set of shapes using multiple geometric criteria` },
      { skill: `Composing and decomposing shapes`, emerging: `combines two pattern blocks to fill a simple outline with teacher support`, proficient: `combines multiple shapes to create specified new shapes, decomposes complex shapes into simpler components, and uses tangrams to fill outlines exploring multiple solutions`, advanced: `finds all possible decompositions of a given shape and explains their reasoning, predicts results of combining specific shapes before testing, and uses composition and decomposition to solve complex spatial puzzles` },
      { skill: `Three-dimensional solids and symmetry`, emerging: `identifies a sphere and a cube with teacher guidance`, proficient: `names five three-dimensional solids and describes their faces, edges, and vertices, connects solids to their two-dimensional face shapes, and identifies lines of symmetry in basic shapes`, advanced: `analyzes nets to predict which solid they form, identifies multiple lines of symmetry in complex figures, and evaluates real-world structures for their use of geometric properties` },
    ],
  },
  {
    name: 'colors',
    uniqueGradeAngle: `First grade is the most scientifically explanatory and artistically analytical stage for color worksheets because six- and seven-year-olds are developing the physical science understanding, color theory knowledge, and observational precision to engage with colors not just as names to identify but as a phenomenon of light and perception \u2014 understanding that white light contains all colors and can be separated by a prism into a spectrum, that the three primary colors (red, yellow, blue in pigment; red, green, blue in light) combine to create all other colors, that warm and cool color groups create different visual effects, and that colors in nature serve specific biological purposes from camouflage to pollinator attraction to warning signals. Color worksheets are uniquely powerful at the first-grade level because children can now engage with color science and the physics of light (understanding that color is a property of light, that objects appear colored because they reflect certain wavelengths and absorb others, and that prisms and rainbows demonstrate the spectrum hidden within white light), color theory and mixing (mastering the relationships between primary, secondary, and tertiary colors through systematic mixing experiments, understanding complementary colors and how they interact, and creating intentional color palettes using color wheel knowledge), colors in nature and biology (understanding that animal coloration serves survival functions including camouflage, warning signals, mate attraction, and species identification, and that flower and fruit colors evolved to attract specific pollinators and seed dispersers), and color and emotion in art and design (understanding how artists and designers use color deliberately to create mood, direct attention, and communicate meaning, and that different cultures associate different meanings with the same colors).`,
    developmentalMilestones: [
      { milestone: `Color science and the physics of light (first graders are developing the physical science reasoning to understand that color is a property of light rather than an inherent quality of objects)`, howWeAddress: `color worksheets where children learn that white light contains all colors of the visible spectrum, observe how prisms separate white light into a rainbow of colors, understand at a basic level that objects appear colored because they reflect some light wavelengths and absorb others (a red apple reflects red light and absorbs other colors), and investigate how colors appear different under different lighting conditions build the physical science knowledge and observational skills that transform color from a simple label into a fascinating light phenomenon` },
      { milestone: `Color theory and systematic mixing (first graders are developing the analytical skills and experimental methodology to understand predictable color relationships through hands-on mixing)`, howWeAddress: `color worksheets where children identify the three primary colors and explain why they cannot be made by mixing other colors, systematically mix primaries to create secondary colors (red plus yellow equals orange, yellow plus blue equals green, blue plus red equals purple), explore tertiary colors by mixing primary and secondary colors, and discover complementary color pairs and their visual effects build the color theory knowledge and experimental skills that connect art to systematic scientific investigation` },
      { milestone: `Colors in nature and artistic expression (first graders are developing the biological awareness and aesthetic reasoning to understand how colors function in the natural world and in human creative expression)`, howWeAddress: `color worksheets where children investigate why animals have specific coloration (camouflage, warning colors, mate attraction), understand how flower colors evolved to attract specific pollinators (bees see ultraviolet patterns, hummingbirds prefer red), explore how artists use warm colors (red, orange, yellow) and cool colors (blue, green, purple) to create mood and emotion in artwork, and discover that different cultures associate different meanings with the same colors build the biological knowledge and aesthetic awareness that connect color science to the natural world and human creativity` },
    ],
    differentiationNotes: `For struggling first graders, focus on the six basic colors (red, orange, yellow, green, blue, purple) with hands-on paint mixing of the three primary-to-secondary combinations, simplify color science to one concept (a rainbow shows all the colors hiding inside white light), reduce nature connections to three examples of animal camouflage with picture matching, and provide pre-mixed color samples for comparison activities. For advanced first graders, introduce the electromagnetic spectrum explaining that visible light is one small portion of energy waves, challenge children to create a complete color wheel including twelve tertiary colors with precise mixing ratios and documentation, extend nature color investigation to understanding structural coloration (butterfly wings and peacock feathers create color through light interference rather than pigment), introduce the difference between additive color mixing (light \u2014 red plus green plus blue equals white) and subtractive color mixing (pigment \u2014 red plus yellow plus blue equals black), and encourage a color in culture investigation where children research how the same color carries different meanings in different cultures and create a presentation comparing cultural color symbolism.`,
    parentTakeaway: `Color worksheets give first-grade parents the most visually vibrant and scientifically surprising learning tool because color is everywhere \u2014 and your first grader is at the perfect age to discover that there is real science behind every rainbow, every sunset, and every color they mix with paint. The key insight is that color is not just a label but a phenomenon of light: when your child understands that a red ball appears red because it reflects red light and absorbs all other colors, they are learning physics through everyday observation. The key strategy is to explore color scientifically: mix paints together systematically (what happens when we mix exactly equal amounts of red and yellow \u2014 what about more red than yellow), look for rainbows and discuss what is happening (sunlight is white light that contains all the colors \u2014 the water droplets separate them like a prism), discuss why animals are colored the way they are (why is that green frog green \u2014 so predators cannot see it on the leaves, why is that ladybug red with black spots \u2014 to warn birds that it tastes bad). When your child can explain that white light contains all colors, predict the result of mixing specific primary colors, identify at least three ways animals use color for survival, and describe how warm and cool colors create different feelings in artwork, they have built the light science knowledge, color theory understanding, and observational skills that color worksheets develop through the most visually stunning science in first grade.`,
    classroomIntegration: `Color worksheets anchor the most visually engaging and cross-curricular science unit in first grade because color connects physics, biology, art, and cultural studies in ways that make every lesson visually memorable. Create a classroom color laboratory with paint mixing stations where children systematically combine primary colors in measured amounts, recording results on their worksheets and building a complete color chart. Use light science worksheets alongside prism exploration stations where children observe white light separating into spectrum colors and discuss what this reveals about the nature of light. Connect nature color worksheets to an animal coloration investigation where children research and present how specific animals use color for camouflage, warning, or attraction. Incorporate art and emotion worksheets into a color mood painting project where children create two versions of the same scene \u2014 one using warm colors and one using cool colors \u2014 and discuss the different feelings each creates. A color vocabulary wall with terms like primary, secondary, spectrum, camouflage, and complementary builds scientific and artistic language. A color in our world photo journal where children photograph and classify colors they find in nature, architecture, and design builds observational skills. A color mixing recipe book where children document precise mixing ratios for creating specific colors connects art to measurement and scientific methodology.`,
    assessmentRubric: [
      { skill: `Color science and light`, emerging: `names the colors of the rainbow with teacher prompting`, proficient: `explains that white light contains all colors and can be separated by a prism, describes at a basic level why objects appear colored based on reflected light, and investigates how colors appear different under different lighting`, advanced: `explains the relationship between light wavelengths and visible color, compares additive and subtractive color mixing, and designs experiments to investigate how lighting conditions affect color perception` },
      { skill: `Color theory and mixing`, emerging: `identifies the three primary colors with teacher support`, proficient: `predicts and creates all three secondary colors from primary pairs, mixes tertiary colors with reasonable accuracy, identifies complementary color pairs, and explains why primary colors cannot be created through mixing`, advanced: `creates a complete twelve-step color wheel with precise mixing ratios, explains the mathematical relationships between color combinations, and designs intentional color palettes for specific artistic purposes using color theory principles` },
      { skill: `Colors in nature and art`, emerging: `identifies an animal that is green for camouflage with teacher guidance`, proficient: `describes three ways animals use color for survival, explains how warm and cool colors create different moods in artwork, and identifies one example of cultural color symbolism`, advanced: `compares coloration strategies across multiple animal species evaluating their effectiveness, analyzes how professional artists and designers use color theory to achieve specific effects, and researches color symbolism across three or more cultures presenting findings with examples` },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close first-grade }, then 'second-grade':
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'second-grade':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected (look within first-grade section)
  const fgIdx = content.indexOf("'first-grade':");
  const sgIdx = content.indexOf("'second-grade':");
  if (fgIdx !== -1 && sgIdx !== -1) {
    const firstGradeSection = content.substring(fgIdx, sgIdx);
    if (firstGradeSection.includes("uniqueGradeAngle:")) {
      console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in first-grade section`);
      continue;
    }
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 first-grade fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
