/**
 * CRYPTOGRAM APP - Professional French Translation
 * Version: 1.0.0
 * Last Updated: December 2024
 * Total Keys: 194
 * Language: French (fr)
 *
 * Professional translation with 20+ years of UI/UX localization experience.
 * Focused on natural, idiomatic French as if originally developed in France.
 */

const CRYPTOGRAM_TRANSLATIONS_FR = {
  "fr": {
    // ============= 1. Language Names (11 keys) =============
    "language.english": "English (Anglais)",
    "language.german.full": "Deutsch (Allemand)",
    "language.french.full": "Français",
    "language.spanish.full": "Español (Espagnol)",
    "language.portuguese.full": "Português (Portugais)",
    "language.italian.full": "Italiano (Italien)",
    "language.dutch.full": "Nederlands (Néerlandais)",
    "language.swedish.full": "Svenska (Suédois)",
    "language.danish.full": "Dansk (Danois)",
    "language.norwegian.full": "Norsk (Norvégien)",
    "language.finnish.full": "Suomi (Finnois)",

    // ============= 2. Core UI (6 keys) =============
    "title": "Paramètres du cryptogramme",
    "imageCryptogram": "Cryptogramme illustré",
    "selectLanguage": "Sélectionner la langue",
    "language": "Langue :",
    "pageSize": "Format de page :",
    "pageSetup": "Mise en page",

    // ============= 3. Puzzle Rules (7 keys) =============
    "cryptogram.puzzle.rules": "Règles du puzzle",
    "cryptogram.phrases.label": "Phrases (une par ligne) :",
    "cryptogram.phrases.placeholder": "Le renard brun rapide...",
    "cryptogram.letters.reveal": "Lettres à révéler :",
    "cryptogram.max.lines": "Nombre max de lignes par puzzle :",
    "cryptogram.auto.assign": "Attribution automatique des images",
    "cryptogram.language.description": "Les noms et thèmes d'images s'afficheront dans la langue sélectionnée.",

    // ============= 4. Image Assignment (9 keys) =============
    "cryptogram.image.assignment": "Attribution des images",
    "cryptogram.image.theme": "Thème d'images :",
    "cryptogram.select.letter": "Sélectionnez une lettre pour lui attribuer une image :",
    "cryptogram.search.label": "Rechercher des images :",
    "cryptogram.search.placeholder": "ex : pomme, voiture",
    "cryptogram.available.images": "Images disponibles (cliquez pour attribuer) :",
    "cryptogram.select.letter.above": "Sélectionnez une lettre ci-dessus.",
    "cryptogram.assigned.images": "Images attribuées :",
    "cryptogram.msg.type.search": "Tapez pour rechercher dans toutes les images.",

    // ============= 5. Upload Section (4 keys) =============
    "cryptogram.upload.title": "Téléverser vos images",
    "cryptogram.upload.select": "Sélectionner image(s) à téléverser :",
    "cryptogram.uploaded.label": "Vos images téléversées :",
    "cryptogram.uploaded.placeholder": "Vos images téléversées apparaîtront ici.",

    // ============= 6. Page Setup (19 keys) =============
    "cryptogram.page.setup": "Mise en page",
    "page.size.letter.portrait": "Letter Portrait (8,5×11\")",
    "page.size.letter.landscape": "Letter Paysage (11×8,5\")",
    "page.size.a4.portrait": "A4 Portrait (210×297mm)",
    "page.size.a4.landscape": "A4 Paysage (297×210mm)",
    "page.size.square": "Carré (1200×1200)",
    "page.size.custom": "Personnalisé",
    "cryptogram.width.label": "Largeur (px) :",
    "cryptogram.height.label": "Hauteur (px) :",
    "cryptogram.page.color": "Couleur de page :",
    "cryptogram.apply.size.color": "Appliquer taille et couleur",
    "cryptogram.background.title": "Arrière-plan",
    "cryptogram.background.theme": "Thème d'arrière-plan :",
    "cryptogram.background.message": "Sélectionnez un thème pour les arrière-plans.",
    "cryptogram.background.opacity": "Opacité de l'arrière-plan :",
    "cryptogram.border.title": "Bordure",
    "cryptogram.border.theme": "Thème de bordure :",
    "cryptogram.border.message": "Sélectionnez un thème pour les bordures.",
    "cryptogram.border.opacity": "Opacité de la bordure :",

    // ============= 7. Text Tools (15 keys) =============
    "cryptogram.text.tools": "Outils de texte",
    "cryptogram.text.add.new": "Ajouter un nouveau texte",
    "cryptogram.text.content.label": "Contenu :",
    "cryptogram.text.placeholder": "Bonjour !",
    "cryptogram.text.add.button": "Ajouter le texte",
    "cryptogram.text.properties": "Propriétés du texte sélectionné",
    "cryptogram.text.color": "Couleur :",
    "cryptogram.text.size": "Taille :",
    "cryptogram.text.font": "Police :",
    "cryptogram.text.outline.color": "Couleur du contour :",
    "cryptogram.text.outline.width": "Contour (0-10) :",
    "cryptogram.text.default": "Nouveau texte",
    "cryptogram.page.title": "Générateur de cryptogrammes illustrés",
    "cryptogram.msg.text.added": "Texte ajouté au canevas.",
    "cryptogram.msg.text.updated": "Propriétés du texte mises à jour.",

    // ============= 8. Font Options (7 keys) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Toolbar Actions (20 keys) =============
    "toolbar.layers": "Calques",
    "toolbar.bring.forward": "Avancer",
    "toolbar.send.backward": "Reculer",
    "toolbar.align": "Aligner",
    "toolbar.align.selected": "Aligner la sélection :",
    "toolbar.align.left": "Aligner à gauche",
    "toolbar.center.h": "Centrer horizontalement",
    "toolbar.align.right": "Aligner à droite",
    "toolbar.align.top": "Aligner en haut",
    "toolbar.center.v": "Centrer verticalement",
    "toolbar.align.bottom": "Aligner en bas",
    "toolbar.align.to.page": "Aligner sur la page :",
    "toolbar.center.page.h": "Centrer horizontalement sur la page",
    "toolbar.center.page.v": "Centrer verticalement sur la page",
    "toolbar.delete": "Supprimer la sélection",
    "toolbar.msg.aligned": "Objets alignés.",
    "toolbar.msg.layer.changed": "Ordre des calques modifié.",
    "toolbar.msg.deleted": "Objets sélectionnés supprimés.",
    "toolbar.msg.select.first": "Veuillez d'abord sélectionner un objet.",
    "toolbar.msg.nothing.selected": "Aucun objet sélectionné.",

    // ============= 10. Action Buttons (10 keys) =============
    "cryptogram.generate": "Générer",
    "cryptogram.download": "Télécharger",
    "cryptogram.download.worksheet.jpeg": "Feuille d'exercices (JPEG)",
    "cryptogram.download.answer.jpeg": "Corrigé (JPEG)",
    "cryptogram.download.worksheet.pdf": "Feuille d'exercices (PDF)",
    "cryptogram.download.answer.pdf": "Corrigé (PDF)",
    "common.grayscale": "Niveaux de gris",
    "cryptogram.clear.all": "Tout effacer",
    "cryptogram.msg.generate.complete": "Cryptogramme généré avec succès !",
    "cryptogram.msg.cleared": "Tout le contenu a été effacé.",

    // ============= 11. Tab Labels (2 keys) =============
    "cryptogram.tab.worksheet": "Feuille d'exercices",
    "cryptogram.tab.answer": "Corrigé",

    // ============= 12. Generation Messages (6 keys) =============
    "cryptogram.msg.generating": "Génération des données du puzzle...",
    "cryptogram.msg.worksheet.generated": "Feuille d'exercices générée avec succès !",
    "cryptogram.msg.error": "Erreur : {error}",
    "cryptogram.msg.enter.phrase": "Veuillez entrer au moins une phrase.",
    "cryptogram.msg.missing.images": "Images manquantes pour les lettres : {letters}. Veuillez attribuer ou utiliser l'attribution automatique.",
    "cryptogram.msg.generate.first": "Veuillez d'abord générer du contenu.",

    // ============= 13. Theme Loading Messages (6 keys) =============
    "cryptogram.themes.all": "Tous les thèmes",
    "cryptogram.msg.themes.error": "Impossible de charger les thèmes.",
    "cryptogram.msg.loading.default": "Chargement du thème par défaut...",
    "cryptogram.msg.loading.theme": "Chargement de {theme}...",
    "cryptogram.msg.theme.failed": "Échec du chargement du thème \"{theme}\"",
    "cryptogram.msg.theme.loaded": "Thème chargé avec succès.",

    // ============= 14. Auto-Assign Messages (6 keys) =============
    "cryptogram.msg.fetching.images": "Récupération de toutes les images pour l'attribution automatique...",
    "cryptogram.msg.fetch.failed": "Échec de la récupération de la liste d'images depuis le serveur.",
    "cryptogram.msg.no.images.server": "Attribution automatique impossible. Aucune image trouvée sur le serveur.",
    "cryptogram.msg.auto.assigned": "Les images ont été attribuées automatiquement.",
    "cryptogram.msg.select.letter.first": "Veuillez d'abord sélectionner une lettre.",
    "cryptogram.msg.auto.assigning": "Attribution automatique des images aux lettres...",

    // ============= 15. Search Messages (5 keys) =============
    "cryptogram.msg.searching": "Recherche en cours...",
    "cryptogram.msg.search.failed": "Échec de la recherche pour \"{query}\"",
    "cryptogram.msg.no.images": "Aucune image trouvée{query}",
    "cryptogram.msg.uploads.available": "{count} image(s) personnalisée(s) disponible(s).",
    "cryptogram.msg.search.complete": "Recherche terminée.",

    // ============= 16. Clear & Download Messages (15 keys) =============
    "cryptogram.msg.form.cleared": "Formulaire réinitialisé.",
    "cryptogram.msg.canvas.unavailable": "Canevas non disponible.",
    "cryptogram.msg.preparing.file": "Préparation de {fileName}...",
    "cryptogram.msg.jpeg.initiated": "Téléchargement JPEG lancé !",
    "cryptogram.msg.jpeg.error": "Erreur lors de la préparation du JPEG : {error}",
    "cryptogram.watermark.main": "VERSION GRATUITE - LessonCraftStudio.com",
    "cryptogram.watermark.text": "VERSION GRATUITE",
    "cryptogram.msg.preparing.pdf": "Préparation du PDF...",
    "cryptogram.msg.pdf.downloaded": "PDF téléchargé !",
    "cryptogram.msg.pdf.error": "Erreur lors de la création du PDF.",
    "cryptogram.msg.generate.worksheet.first": "Veuillez d'abord générer une feuille d'exercices.",
    "cryptogram.msg.preparing.jpeg": "Préparation du JPEG...",
    "cryptogram.msg.jpeg.error.simple": "Erreur lors de la préparation du JPEG.",
    "cryptogram.msg.pdf.error.detailed": "Erreur lors de la création du PDF : {error}",
    "cryptogram.msg.download.ready": "Téléchargement prêt.",

    // ============= 17. Asset Loading Messages (5 keys) =============
    "cryptogram.asset.select": "Sélectionnez un thème pour voir les {type}.",
    "cryptogram.asset.loading": "Chargement des {type} {theme}...",
    "cryptogram.asset.none": "Aucun(e) {type} dans ce thème.",
    "cryptogram.asset.error": "Erreur lors du chargement des {type}.",
    "cryptogram.asset.loaded": "{type} chargé(e)s avec succès.",

    // ============= 18. Common Terms (3 keys) =============
    "common.none": "Aucun",
    "common.loading": "Chargement...",
    "common.error": "Erreur",

    // ============= 19. Placeholders (5 keys) =============
    "placeholder.search": "Rechercher...",
    "placeholder.enter.text": "Entrez le texte ici",
    "placeholder.custom.width": "Largeur",
    "placeholder.custom.height": "Hauteur",
    "placeholder.reveal.count": "0",

    // ============= 20. Page Title (1 key) =============
    "cryptogram.page.title": "Générateur de cryptogrammes illustrés",

    // ============= 21. Error Messages (32 keys) =============
    "error.invalid.dimensions": "Dimensions invalides. Veuillez vérifier la largeur et la hauteur.",
    "error.no.theme.selected": "Veuillez d'abord sélectionner un thème.",
    "error.no.images.theme": "Aucune image disponible dans le thème sélectionné.",
    "error.upload.failed": "Échec du téléversement. Veuillez réessayer.",
    "error.file.too.large": "Fichier trop volumineux. La taille maximale est de 5MB.",
    "error.invalid.file.type": "Type de fichier invalide. Veuillez téléverser uniquement des fichiers image.",
    "error.canvas.creation": "Erreur lors de la création du canevas.",
    "error.export.failed": "Échec de l'exportation. Veuillez réessayer.",
    "error.network": "Erreur réseau. Veuillez vérifier votre connexion.",
    "error.theme.empty": "Le thème sélectionné ne contient aucune image.",
    "error.puzzle.generation": "Impossible de générer le puzzle. Veuillez essayer avec d'autres phrases.",
    "error.insufficient.images": "Pas assez d'images pour toutes les lettres. Veuillez ajouter plus d'images ou réduire les lettres uniques.",
    "error.no.intersections": "Impossible de trouver suffisamment d'intersections pour les mots. Essayez d'autres images.",
    "error.invalid.phrase": "Phrase invalide. Veuillez entrer un texte valide.",
    "error.letter.assignment": "Erreur lors de l'attribution de l'image à la lettre.",
    "error.image.loading": "Erreur lors du chargement de l'image.",
    "error.border.loading": "Erreur lors du chargement de la bordure.",
    "error.background.loading": "Erreur lors du chargement de l'arrière-plan.",
    "error.text.empty": "Veuillez entrer du contenu textuel.",
    "error.object.selection": "Veuillez sélectionner un objet à modifier.",
    "error.alignment": "Erreur lors de l'alignement des objets.",
    "error.layer.operation": "Erreur lors du changement d'ordre des calques.",
    "error.delete.operation": "Erreur lors de la suppression des objets.",
    "error.color.invalid": "Valeur de couleur invalide.",
    "error.size.invalid": "Valeur de taille invalide.",
    "error.outline.invalid": "Largeur de contour invalide.",
    "error.opacity.invalid": "Valeur d'opacité invalide.",
    "error.theme.not.found": "Thème introuvable.",
    "error.api.connection": "Impossible de se connecter au serveur.",
    "error.session.expired": "Session expirée. Veuillez rafraîchir la page.",
    "error.browser.unsupported": "Votre navigateur n'est pas pris en charge. Veuillez utiliser un navigateur moderne.",
    "error.feature.unavailable": "Cette fonctionnalité n'est pas disponible dans la version gratuite."
  }
};

// ==========================================
// HELPER FUNCTIONS FOR FRENCH TRANSLATION
// ==========================================

/**
 * Get French translation for a key
 * @param {string} key - Translation key
 * @param {object} params - Parameters for interpolation
 * @returns {string} Translated text in French
 */
function getFrenchCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_FR.fr[key] ||
                     CRYPTOGRAM_TRANSLATIONS_FR.en?.[key] ||
                     key;

  return formatFrenchCryptogramTranslation(translation, params);
}

/**
 * Format French translation with parameters
 * @param {string} text - Text with placeholders
 * @param {object} params - Parameters to replace
 * @returns {string} Formatted text
 */
function formatFrenchCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validate French translations
 * @returns {object} Validation result
 */
function validateFrenchCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_FR.fr);
  const totalExpected = 194;

  return {
    valid: keys.length === totalExpected,
    coverage: `${((keys.length / totalExpected) * 100).toFixed(1)}%`,
    missing: totalExpected - keys.length,
    total: keys.length,
    expected: totalExpected
  };
}

/**
 * French alphabet for cryptogram
 * Includes standard letters plus French accented characters
 */
const FRENCH_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZÀÂÉÈÊËÎÏÔÙÛÇ';

/**
 * Get French-specific cryptogram settings
 */
function getFrenchCryptogramSettings() {
  return {
    alphabet: FRENCH_CRYPTOGRAM_ALPHABET,
    defaultRevealCount: 2,
    maxLinesPerPuzzle: 8,
    supportedFonts: [
      'Arial',
      'Verdana',
      'Lexend Deca',
      'Baloo 2',
      'Nunito',
      'Quicksand',
      'Fredoka'
    ],
    paperSizes: {
      'a4': 'A4 (Standard en France)',
      'letter': 'Letter (Format américain)',
      'square': 'Carré'
    }
  };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_FR,
    getFrenchCryptogramTranslation,
    formatFrenchCryptogramTranslation,
    validateFrenchCryptogramTranslations,
    FRENCH_CRYPTOGRAM_ALPHABET,
    getFrenchCryptogramSettings
  };
}

// Make available globally in browser
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_FR = CRYPTOGRAM_TRANSLATIONS_FR;
  window.getFrenchCryptogramTranslation = getFrenchCryptogramTranslation;
  window.formatFrenchCryptogramTranslation = formatFrenchCryptogramTranslation;
  window.validateFrenchCryptogramTranslations = validateFrenchCryptogramTranslations;
  window.FRENCH_CRYPTOGRAM_ALPHABET = FRENCH_CRYPTOGRAM_ALPHABET;
  window.getFrenchCryptogramSettings = getFrenchCryptogramSettings;
}