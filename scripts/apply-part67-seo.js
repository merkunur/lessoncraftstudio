/**
 * SEO Part 67: Enrich kindergarten grade for camping, circus, clothing, colors, construction
 * Adds 6 grade-level enrichment fields to gradeContent.kindergarten for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Camping ─────────────────────────────────────────────────────────
  {
    name: 'camping',
    uniqueGradeAngle: 'Kindergarten is the most adventure-ready stage for camping worksheets because five- and six-year-olds are developing the independence, curiosity, and problem-solving skills that make outdoor exploration genuinely meaningful rather than merely supervised play \u2014 they can follow multi-step instructions for setting up a tent, identify plants and animals they encounter on a trail, and understand safety rules well enough to participate responsibly in outdoor activities. Camping worksheets are uniquely powerful at the kindergarten level because children can now engage with real-world survival concepts (what do we need to stay warm, dry, and fed outdoors), nature science (identifying trees, rocks, insects, and animal tracks), spatial reasoning (reading simple trail maps, understanding directions like north and south), and collaborative planning (making a packing list, planning meals, assigning camp jobs) that go far beyond the preschool ability to simply name camping items. The self-reliance dimension is especially significant at the kindergarten level because children are developing the confidence to attempt tasks independently \u2014 tying a knot, building a campfire structure with sticks, filtering observations through scientific vocabulary \u2014 and camping worksheets channel this emerging independence into structured outdoor skills that build both competence and confidence.',
    developmentalMilestones: [
      { milestone: 'Outdoor survival vocabulary and planning skills (kindergarteners are developing the ability to anticipate needs and plan ahead for unfamiliar situations)', howWeAddress: 'camping worksheets where children create packing lists, identify essential gear like tents, sleeping bags, flashlights, and water bottles, and explain why each item is needed build the planning and reasoning skills that connect preparation to outcome, teaching children that successful adventures require thoughtful preparation' },
      { milestone: 'Nature observation and identification (kindergarteners are developing scientific observation skills sophisticated enough to classify natural objects)', howWeAddress: 'camping worksheets where children identify types of trees, rocks, insects, animal tracks, and weather patterns build the observational science vocabulary that transforms a walk in the woods from a casual stroll into a genuine field investigation, connecting outdoor experience to scientific classification' },
      { milestone: 'Map reading and spatial orientation (kindergarteners are developing the spatial reasoning to understand simple representations of physical space)', howWeAddress: 'camping worksheets where children follow simple trail maps, identify landmarks, and use directional vocabulary like north, south, left, and right build the spatial literacy that connects abstract symbols on paper to real locations in the environment, a foundational geographic skill' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five essential camping items (tent, sleeping bag, flashlight, water bottle, backpack) with real props or photographs, simplify nature identification to three categories (trees, rocks, bugs), replace map-reading with simple directional following (walk forward, turn left), and use picture-based packing checklists rather than written lists. For advanced kindergarteners, introduce compass directions and simple coordinate grids, challenge children to plan a complete two-day camping trip including meals, activities, and safety rules, extend nature identification to specific species (oak versus pine, granite versus sandstone), encourage journal writing where children describe an outdoor observation using scientific vocabulary, and introduce Leave No Trace principles as environmental responsibility concepts.',
    parentTakeaway: 'Camping worksheets give kindergarten parents the most independence-building outdoor learning tool because your child is at the perfect age to move from being carried through nature to actively participating in the adventure \u2014 and every camping skill practiced on a worksheet becomes a real capability when you actually go outside together. The key strategy is to make camping concepts real even without a campground: set up a tent in the backyard, go on a nature walk and identify three trees and five insects, make a packing list together for a day hike, and use a simple map to navigate a local trail. When your child can name ten pieces of camping equipment and explain what each is for, identify common plants and animals on a trail, follow directional instructions to navigate a simple path, and help plan and pack for an outdoor excursion, they have built the planning, observation, and self-reliance skills that make outdoor adventures both safe and genuinely educational.',
    classroomIntegration: 'Camping worksheets anchor the most experientially rich outdoor education unit in kindergarten because every camping concept can be practiced through classroom simulations and schoolyard explorations. Create a classroom campsite corner with a small tent, sleeping bags, a pretend campfire made from paper logs, and nature field guides that children use during dramatic play to practice camping vocabulary and routines. Use camping gear identification worksheets during a vocabulary rotation where children match items to their functions, incorporate nature identification worksheets into schoolyard science walks where children observe and classify real plants, insects, and rocks, and connect map-reading worksheets to a schoolyard treasure hunt where children follow simple directional maps to find hidden objects. A camping skills rotation where children practice tying simple knots, identifying weather clues, and sorting natural objects builds hands-on outdoor competence. A class camping journal where children draw and describe nature observations from schoolyard walks creates an ongoing documentation project that connects literacy to science.',
    assessmentRubric: [
      { skill: 'Camping vocabulary and planning', emerging: 'names three or four camping items like tent and flashlight and identifies one reason to bring them with teacher prompting', proficient: 'names ten or more camping items, explains the purpose of each, and creates a packing list for a specific type of trip with appropriate items selected', advanced: 'plans a complete camping trip including gear, meals, activities, and safety rules, explains why different conditions require different equipment, and uses planning vocabulary like prepare, essential, and priority' },
      { skill: 'Nature observation and identification', emerging: 'names two or three natural objects like tree and rock during an outdoor walk with teacher guidance', proficient: 'identifies and classifies ten or more natural objects into categories like trees, rocks, insects, and animal signs, describes observations using scientific vocabulary, and records findings through drawing and labeling', advanced: 'identifies specific species or types within categories, explains relationships between organisms and their habitat, and maintains a nature observation journal with detailed descriptions and classifications' },
      { skill: 'Map reading and spatial orientation', emerging: 'follows one-step directional instructions like walk to the big tree with teacher guidance', proficient: 'follows a simple pictorial map with three or more landmarks to reach a destination, uses directional vocabulary like left, right, forward, and backward accurately, and describes a route using sequential directions', advanced: 'reads maps with simple symbols and a basic legend, uses cardinal directions, creates original maps of familiar spaces like the classroom or schoolyard, and explains how map symbols represent real objects' },
    ],
  },

  // ── Circus ──────────────────────────────────────────────────────────
  {
    name: 'circus',
    uniqueGradeAngle: 'Kindergarten is the most spectacularly engaging stage for circus worksheets because five- and six-year-olds are developing the imagination, vocabulary, and mathematical reasoning to engage with the circus not just as entertainment but as a rich learning context \u2014 they can count juggling balls and audience members, identify patterns in costume designs, describe acrobatic acts using sequencing vocabulary, and understand the cooperative teamwork that makes a circus performance possible. Circus worksheets are uniquely powerful at the kindergarten level because children can now engage with estimation and counting using visually exciting groups (rows of audience seats, clusters of juggling balls, lines of performing animals), pattern recognition through bold circus designs (striped tents, costume sequences, repeating border patterns), creative vocabulary development (spectacular, dazzling, balance, perform, applause), and social-emotional learning through performance themes (courage on the tightrope, teamwork among acrobats, practice and persistence for jugglers). The performance dimension is especially significant at the kindergarten level because children are developing the confidence to present their work to others \u2014 and the circus provides the most celebratory, encouraging metaphor for stepping into the spotlight, taking risks, and earning applause for effort.',
    developmentalMilestones: [
      { milestone: 'Counting, estimation, and arithmetic with circus scenes (kindergarteners are applying number skills to visually rich, large-group contexts)', howWeAddress: 'circus worksheets where children count juggling balls, audience members, performing animals, and circus acts build counting fluency and estimation skills through the most visually exciting contexts available, because circus scenes naturally contain large, interesting groups that motivate children to count carefully and compare quantities' },
      { milestone: 'Pattern recognition and creation using circus designs (kindergarteners are developing the ability to identify, extend, and create repeating patterns)', howWeAddress: 'circus worksheets where children identify stripe patterns on tents, sequence repeating costume designs, and create their own circus parade patterns build the pattern recognition skills that underlie all mathematical thinking, practiced through the boldest, most colorful visual context available' },
      { milestone: 'Performance vocabulary and descriptive language (kindergarteners are developing vivid, expressive vocabulary through emotionally engaging contexts)', howWeAddress: 'circus worksheets where children learn and use words like acrobat, spectacular, balance, applause, ringmaster, and trapeze build the rich descriptive vocabulary that supports all creative and informational writing, anchored in the multi-sensory excitement that makes circus words unforgettable' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five core circus vocabulary words (clown, tent, juggler, acrobat, ringmaster) with photograph support, simplify counting tasks to groups of five or fewer circus objects, reduce pattern work to simple AB patterns using two alternating circus characters, and pair every worksheet with a physical activity like tossing scarves to practice counting through movement. For advanced kindergarteners, extend counting to two-digit numbers using circus audience and ticket scenarios, challenge children to create complex ABC and AABB patterns with circus performers, introduce descriptive paragraph writing where children describe a circus act using five or more vocabulary words, encourage poster design projects that integrate writing, number use, and artistic layout, and introduce the concept of teamwork and collaboration through discussions of how acrobats and performers depend on each other.',
    parentTakeaway: 'Circus worksheets give kindergarten parents the most entertainingly educational learning tool because the circus transforms every academic skill into a performance \u2014 counting becomes tallying juggling balls, pattern recognition becomes designing tent stripes, and vocabulary building becomes learning words like spectacular, acrobat, and trapeze that children love to say and remember instantly. The key strategy is to bring circus energy into learning at home: after a counting worksheet, let your child juggle soft scarves and count each toss; after a coloring activity, have them put on a mini circus show for the family; after learning circus vocabulary, watch a short video of real circus performers and ask observation questions like how many jugglers are there and what colors are the costumes. When your child can count circus objects to twenty, identify and extend patterns in circus designs, use ten or more circus vocabulary words in conversation, and describe a performance sequence from beginning to end, they have practiced arithmetic, pattern recognition, vocabulary, and sequencing through the most thrilling theme available.',
    classroomIntegration: 'Circus worksheets anchor the most celebratory and performance-rich thematic unit in kindergarten because the circus naturally integrates math (counting, patterns, estimation), literacy (vocabulary, descriptive writing, sequencing), art (costume design, poster creation, coloring), and social-emotional learning (courage, teamwork, practice). Host a classroom circus day where students rotate through act stations: math at the ticket booth where children practice counting and making change, word searches and vocabulary at the program stand, coloring and design at the costume table, and puzzles at the ringmaster\u2019s challenge. Create a circus vocabulary tent on the bulletin board where new words from worksheets are added with illustrations throughout the unit. Use circus counting worksheets during math centers with circus-themed manipulatives, incorporate pattern worksheets into a circus parade activity where children create and extend performer sequences, and connect descriptive writing to a poster design project where children create advertisements for imaginary circus shows. A classroom circus performance where each child presents a skill they have practiced \u2014 reading a passage aloud, solving a math problem at the board, or presenting a poster \u2014 builds public speaking confidence through the encouraging metaphor of stepping into the ring.',
    assessmentRubric: [
      { skill: 'Circus counting and estimation', emerging: 'counts five or six circus objects with one-to-one correspondence and recognizes numbers on circus tickets with teacher prompting', proficient: 'counts circus objects to 20+, estimates quantities in circus scenes before counting to verify, and solves simple addition and subtraction problems within 10 using circus contexts like juggling balls added or audience members leaving', advanced: 'works with two-digit numbers in circus ticket and seating scenarios, solves multi-step circus problems, and explains estimation strategies using vocabulary like about, more than, and close to' },
      { skill: 'Pattern recognition with circus designs', emerging: 'identifies a simple AB pattern in circus tent stripes or costume colors with teacher modeling', proficient: 'identifies, extends, and creates AB, ABC, and AABB patterns using circus performers and decorations, explains the pattern rule, and finds patterns in real circus images', advanced: 'creates complex multi-element patterns, translates patterns between representations like clown-acrobat-clown-acrobat becomes red-blue-red-blue, and identifies pattern errors and corrects them with explanation' },
      { skill: 'Circus vocabulary and descriptive language', emerging: 'names four or five circus performers and objects like clown and tent from pictures with teacher support', proficient: 'uses twelve or more circus vocabulary words accurately in conversation, describes a circus act using sequencing words like first, then, and finally, and writes simple sentences about circus performers', advanced: 'uses vivid descriptive vocabulary like spectacular, dazzling, and graceful in oral and written descriptions, writes multi-sentence circus narratives, and uses circus vocabulary in creative writing and presentations' },
    ],
  },

  // ── Clothing ───────────────────────────────────────────────────────
  {
    name: 'clothing',
    uniqueGradeAngle: 'Kindergarten is the most practically independent stage for clothing worksheets because five- and six-year-olds are taking responsibility for dressing themselves every morning \u2014 choosing outfits, fastening buttons and zippers, tying shoes, and making weather-appropriate decisions about what to wear, turning clothing from a passive experience managed by parents into an active daily decision that requires vocabulary, classification, and reasoning skills. Clothing worksheets are uniquely powerful at the kindergarten level because children can now engage with weather-based clothing selection (matching outfits to seasons and weather conditions using cause-and-effect reasoning), classification by multiple attributes (sorting clothes by type, season, material, and occasion), reading and labeling (reading clothing words, labeling diagram parts like sleeve, collar, and hem), and functional math (counting buttons, measuring with non-standard units, comparing sizes). The self-care independence dimension is especially significant at the kindergarten level because children who understand clothing categories, weather-appropriate choices, and dressing sequences develop the executive function and self-sufficiency that reduce morning battles and build the confidence that comes from managing their own daily routines.',
    developmentalMilestones: [
      { milestone: 'Weather-appropriate clothing selection with reasoning (kindergarteners are developing cause-and-effect thinking about environmental conditions and personal comfort)', howWeAddress: 'clothing worksheets where children match outfits to weather conditions, explain why raincoats are needed when it rains and mittens are needed when it snows, and plan outfits for different seasons build the causal reasoning that connects environmental observation to practical decision-making, a skill that transfers to all areas of independent living' },
      { milestone: 'Multi-attribute clothing classification (kindergarteners are developing the cognitive flexibility to sort objects by multiple criteria simultaneously)', howWeAddress: 'clothing worksheets where children sort garments by type (tops, bottoms, outerwear, accessories), season (summer clothes versus winter clothes), material (cotton, wool, waterproof), and occasion (school, sports, formal) build the classification thinking that underlies all scientific categorization, practiced through the most personally relevant objects children interact with every single day' },
      { milestone: 'Clothing vocabulary, reading, and labeling (kindergarteners are applying literacy skills to everyday functional contexts)', howWeAddress: 'clothing worksheets where children read clothing names, label parts of garments like sleeves, buttons, collar, and zipper, and write about what they are wearing build the functional vocabulary and labeling skills that connect literacy to daily life, making reading and writing feel immediately practical' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on eight basic clothing items (shirt, pants, shoes, socks, jacket, hat, mittens, boots) and two weather categories (hot and cold), use real clothing items or dress-up clothes alongside worksheets for tactile reinforcement, simplify classification to one attribute at a time, and provide picture-word matching cards for vocabulary building. For advanced kindergarteners, introduce twenty or more clothing items including less common vocabulary like vest, cardigan, raincoat, and scarf, challenge children to classify by three attributes simultaneously (winter outerwear made of wool), extend writing to describing complete outfits in sentences explaining why each item was chosen for the weather, introduce cultural clothing from around the world to build global awareness, and encourage a clothing design project where children draw an original outfit for a specific occasion and label all parts.',
    parentTakeaway: 'Clothing worksheets give kindergarten parents the most practically useful daily learning tool because getting dressed happens every single morning \u2014 and your kindergartener is ready to take charge of this routine in a way that builds independence, decision-making, and weather awareness simultaneously. The key strategy is to make the morning clothing choice a structured decision rather than a battle: check the weather together, discuss what the temperature and conditions mean for clothing choices (it is cold and rainy, so we need long sleeves, a waterproof jacket, and boots), and let your child select their outfit within those parameters. This daily practice mirrors the weather-clothing matching from worksheets and builds the reasoning skills that transfer to all decision-making. When your child can name twenty clothing items, sort them by season and occasion, explain why specific weather requires specific clothing using cause-and-effect reasoning, and dress themselves independently with weather-appropriate choices, they have mastered vocabulary, classification, causal reasoning, and self-care through the most practical daily routine available.',
    classroomIntegration: 'Clothing worksheets anchor the most practically applicable life-skills unit in kindergarten because getting dressed is a daily activity that every child performs and every classroom references through weather discussions, outdoor recess preparation, and seasonal transitions. Connect clothing worksheets to the daily morning weather check by having children recommend outfit choices based on the day\u2019s forecast and explain their reasoning. Create a classroom dress-up station with seasonal clothing sorted into labeled bins that children use during dramatic play to practice vocabulary and classification from worksheets. Use clothing sorting worksheets during math centers where children classify real or picture clothing by multiple attributes, incorporate clothing vocabulary worksheets into literacy centers alongside a clothing catalog where children circle and label items, and connect weather-clothing matching worksheets to a seasonal display that changes as the weather shifts. A clothing around the world exploration where children learn about traditional garments from different cultures builds global awareness and vocabulary. A class fashion show where children describe what they are wearing using clothing vocabulary and explain their choices builds public speaking and descriptive language skills.',
    assessmentRubric: [
      { skill: 'Weather-appropriate clothing selection', emerging: 'matches clothing to two weather types like hot and cold with teacher prompting, selecting one appropriate item for each', proficient: 'selects complete weather-appropriate outfits for four seasons, explains why each item is needed using cause-and-effect reasoning like I chose boots because it is raining and boots keep my feet dry, and identifies inappropriate clothing choices in scenarios', advanced: 'plans outfits for complex weather conditions like cold and windy or warm but rainy, explains how clothing materials relate to weather protection, and advises others on clothing choices using detailed reasoning' },
      { skill: 'Clothing classification by multiple attributes', emerging: 'sorts clothing into two groups by one attribute like tops and bottoms with teacher modeling', proficient: 'independently sorts clothing by three or more attributes including type, season, and occasion, explains sorting criteria, and identifies items that could fit multiple categories like a raincoat is outerwear and waterproof', advanced: 'classifies by multiple simultaneous attributes, creates original sorting systems, compares clothing across cultures and seasons, and uses classification vocabulary like category, attribute, and criteria' },
      { skill: 'Clothing vocabulary and literacy', emerging: 'names five or six basic clothing items from pictures and copies one clothing label with teacher support', proficient: 'reads and writes fifteen or more clothing words, labels parts of garments on diagrams including sleeve, collar, button, and zipper, and describes outfits using color, type, and purpose vocabulary', advanced: 'reads clothing-related passages, writes multi-sentence descriptions of outfits with reasons for each choice, and uses clothing vocabulary in creative writing or oral presentations' },
    ],
  },

  // ── Colors ─────────────────────────────────────────────────────────
  {
    name: 'colors',
    uniqueGradeAngle: 'Kindergarten is the most chromatically sophisticated stage for color worksheets because five- and six-year-olds are moving beyond basic color naming into genuine color theory \u2014 understanding that red and yellow make orange, that colors can be lighter or darker versions of themselves, that warm colors and cool colors create different feelings, and that color choices in art are intentional decisions rather than random selections. Color worksheets are uniquely powerful at the kindergarten level because children can now engage with color mixing and prediction (what will happen when I combine these two colors), color categorization using art vocabulary (primary, secondary, warm, cool, light, dark), descriptive writing using precise color language (not just blue but sky blue, navy blue, and turquoise), and scientific observation of color in nature (why leaves change color, why the sky looks different at sunrise and sunset). The artistic intentionality dimension is especially significant at the kindergarten level because children are transitioning from coloring randomly to making deliberate color choices in their artwork \u2014 and understanding color relationships gives them the vocabulary and knowledge to explain why they chose specific colors, transforming art from impulsive mark-making into thoughtful creative expression.',
    developmentalMilestones: [
      { milestone: 'Color mixing and basic color theory (kindergarteners are developing the scientific reasoning to predict outcomes of combining materials)', howWeAddress: 'color worksheets where children predict what color two primary colors will make when mixed, identify primary and secondary colors, and experiment with creating lighter and darker shades build both scientific prediction skills and artistic knowledge, teaching children that colors follow rules they can learn and apply' },
      { milestone: 'Precise color vocabulary and descriptive language (kindergarteners are developing the nuanced language to describe visual experiences with specificity)', howWeAddress: 'color worksheets where children distinguish between shades like light blue and dark blue, name colors found in nature like forest green and sunset orange, and describe objects using precise color vocabulary build the descriptive language skills that support all detailed writing and observation, giving children the words to express exactly what they see' },
      { milestone: 'Color observation in nature and art (kindergarteners are developing the observational skills to notice how color functions in the real world)', howWeAddress: 'color worksheets where children identify colors in seasonal landscapes, explain why artists choose specific colors to create moods, and match colors to natural objects like the brown of tree bark or the white of snow build the visual literacy that connects scientific observation to artistic appreciation' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on six primary and secondary colors with clear, saturated examples, use hands-on paint mixing rather than abstract worksheet predictions, simplify categorization to two groups (warm colors that remind you of fire versus cool colors that remind you of water), and pair every worksheet with a physical color-matching activity using colored blocks, crayons, or fabric swatches. For advanced kindergarteners, introduce tertiary colors and color vocabulary like tint, shade, and hue, challenge children to create a specific color by mixing multiple paints and describing the process in writing, extend color observation to art appreciation where children describe the color choices in famous paintings, introduce the concept of complementary colors and how artists use them for contrast, and encourage a personal color journal where children collect color samples from nature and label them with precise descriptive names they invent themselves.',
    parentTakeaway: 'Color worksheets give kindergarten parents the most visually enriching learning tool because your child is at the age where colors are not just labels but a language \u2014 and a child who understands that mixing red and blue makes purple, that colors can be warm or cool, and that artists choose colors intentionally sees the entire visual world with more depth, vocabulary, and appreciation than a child who simply names the basic rainbow. The key strategy is to make color conversations specific: instead of saying that is a pretty flower, say that flower is a deep magenta, almost purple but with more pink in it \u2014 this kind of precise color language builds both vocabulary and observational skill. Let your child mix paints, watercolors, or even food coloring in water to discover color combinations themselves \u2014 the hands-on prediction and experimentation mirrors scientific thinking and is deeply satisfying at this age. When your child can name primary and secondary colors, predict the result of mixing two colors, describe objects using precise color vocabulary, and explain why an artist or nature uses specific colors, they have developed the visual literacy that enriches every aesthetic experience for life.',
    classroomIntegration: 'Color worksheets anchor the most visually dynamic cross-curricular unit in kindergarten because color connects naturally to art (mixing, painting, design), science (light, rainbows, seasonal change), literacy (descriptive writing, color words), and math (sorting, graphing, patterns). Integrate color worksheets into a daily art rotation where each week explores a different color concept \u2014 primary colors one week, color mixing the next, then warm and cool colors, then colors in nature \u2014 with hands-on painting activities that bring worksheet concepts to life. Use color vocabulary worksheets during literacy centers where children write descriptive sentences using precise color words, incorporate color sorting worksheets into math centers where children graph objects by color and analyze the data, and connect nature observation worksheets to outdoor walks where children collect leaves, flowers, and rocks and classify them by color. A classroom color-mixing station with paints, droppers, and prediction worksheets creates a permanent science and art center. A color of the week display where children bring objects of that color from home builds vocabulary, observation, and community participation.',
    assessmentRubric: [
      { skill: 'Color mixing and color theory', emerging: 'names three primary colors and identifies one or two secondary colors with teacher prompting', proficient: 'names all primary and secondary colors, accurately predicts the result of mixing two primary colors, and distinguishes between lighter and darker versions of the same color', advanced: 'explains color mixing using primary and secondary terminology, creates specific target colors through mixing, identifies warm and cool color groups, and explains how adding white or black changes a color' },
      { skill: 'Precise color vocabulary and description', emerging: 'uses five or six basic color names to describe objects', proficient: 'uses twelve or more color names including shades like light green and dark red, describes objects using precise color vocabulary, and distinguishes between similar colors like pink versus magenta or teal versus turquoise', advanced: 'invents descriptive color names based on associations like sunset orange or ocean blue, uses color vocabulary in detailed written descriptions, and explains how colors create different moods or feelings in art' },
      { skill: 'Color observation in nature and art', emerging: 'identifies the main color of three or four natural objects with teacher guidance', proficient: 'identifies and names colors in seasonal landscapes, explains why some natural objects are specific colors like leaves are green because of chlorophyll, and describes the color choices in a piece of artwork', advanced: 'compares color palettes across seasons, artworks, or cultures, explains how artists use color intentionally to create effects, and records detailed color observations in a nature journal with precise vocabulary' },
    ],
  },

  // ── Construction ───────────────────────────────────────────────────
  {
    name: 'construction',
    uniqueGradeAngle: 'Kindergarten is the most structurally ambitious stage for construction worksheets because five- and six-year-olds are developing the spatial reasoning, fine motor precision, and planning ability to build structures that actually work \u2014 they can follow building plans, understand that foundations support walls and walls support roofs, and troubleshoot when a structure wobbles or collapses, moving well beyond the preschool stage of simply stacking blocks into genuine engineering thinking. Construction worksheets are uniquely powerful at the kindergarten level because children can now engage with structural engineering concepts (why triangles are strong, why wide bases prevent tipping), tool identification and safety (naming tools like hammer, saw, drill, and wrench, and understanding what each does), measurement using non-standard and standard units (how tall, how wide, how many blocks long), and multi-step building sequences (reading simple blueprints, following step-by-step construction plans). The problem-solving dimension is especially significant at the kindergarten level because construction is inherently iterative \u2014 structures fail and must be redesigned \u2014 and kindergarteners are developing the emotional resilience and cognitive flexibility to treat failure as information rather than defeat, making construction worksheets the most powerful vehicle for teaching the growth mindset that supports all later learning.',
    developmentalMilestones: [
      { milestone: 'Structural engineering concepts and building vocabulary (kindergarteners are developing understanding of why structures stand up or fall down)', howWeAddress: 'construction worksheets where children identify foundations, walls, roofs, and supports, explain why wide bases are more stable than narrow ones, and predict which structures will be strongest build the engineering reasoning that connects physical properties to structural outcomes, teaching children that buildings are not random but follow rules of physics they can learn' },
      { milestone: 'Tool identification, function, and safety (kindergarteners are developing the vocabulary and reasoning to understand how tools extend human capability)', howWeAddress: 'construction worksheets where children name tools like hammer, saw, drill, screwdriver, wrench, and measuring tape, match each tool to its function, and identify safety rules for each build the tool literacy that connects objects to purposes and develops the safety awareness that makes hands-on building experiences possible and productive' },
      { milestone: 'Measurement and blueprint reading (kindergarteners are developing the spatial and mathematical skills to translate between two-dimensional plans and three-dimensional structures)', howWeAddress: 'construction worksheets where children measure lengths using non-standard units, compare heights and widths, and follow simple step-by-step building diagrams build the measurement and spatial reasoning skills that connect mathematical thinking to real-world construction, teaching children that plans on paper become structures in space' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five basic construction concepts (building up, building wide, stacking, connecting, and balancing) with physical block-building alongside every worksheet, simplify tool identification to five tools with clear photographs and real examples to hold, reduce measurement to simple comparison (taller versus shorter, wider versus narrower), and provide pre-built model structures for children to observe and describe before attempting to build their own. For advanced kindergarteners, introduce the engineering design process (imagine, plan, build, test, improve), challenge children to build structures that meet specific requirements (a bridge that holds ten blocks, a tower taller than the table), extend measurement to standard units using rulers and tape measures, introduce simple machine concepts like levers, ramps, and pulleys as construction tools, and encourage documentation where children draw blueprints before building and write evaluation reports after testing their structures.',
    parentTakeaway: 'Construction worksheets give kindergarten parents the most engineering-rich learning tool because your child is at the perfect age to understand that buildings, bridges, and roads do not just appear \u2014 they are designed, planned, measured, and built by people who understand how structures work, and your kindergartener can begin developing that same engineering thinking through every block tower, cardboard fort, and LEGO creation. The key strategy is to narrate construction thinking: when your child builds, ask questions like why did it fall over (the base was too narrow), how could you make it stronger (add more blocks at the bottom), and how tall do you think it is (let us measure with a ruler). When you pass a construction site, talk about what the workers are doing and what tools they are using. When your child can name ten construction tools and explain what each does, build a structure that meets specific requirements, measure objects using a ruler, and explain why a building needs a strong foundation, they have developed the engineering vocabulary, spatial reasoning, and problem-solving persistence that construction worksheets teach through the most hands-on, build-it-yourself context available.',
    classroomIntegration: 'Construction worksheets anchor the most engineering-rich STEM unit in kindergarten because building is inherently hands-on, collaborative, and iterative \u2014 every structure that falls down teaches more than one that stays up. Create a classroom construction center with blocks, cardboard, tape, craft sticks, and connectors where children apply concepts from worksheets to actual building challenges. Use tool identification worksheets during a STEM vocabulary rotation where children match tool names to photographs and real examples, incorporate measurement worksheets into math centers where children measure classroom objects and compare heights and lengths, and connect blueprint-reading worksheets to a building challenge where children follow a simple plan to construct a specific structure. A weekly engineering challenge where children must build a structure that meets specific criteria (a tower taller than 30 centimeters that stands for 10 seconds, a bridge that spans a 20-centimeter gap) creates authentic problem-solving opportunities. A construction journal where children draw their designs, record measurements, and write about what worked and what they would change builds documentation and reflective thinking skills. A class construction site dramatic play area with hard hats, vests, and tool belts integrates vocabulary, safety awareness, and collaborative building.',
    assessmentRubric: [
      { skill: 'Structural understanding and building concepts', emerging: 'stacks blocks vertically and identifies that a wider bottom makes a tower more stable with teacher demonstration', proficient: 'explains why foundations matter, builds structures with deliberate design choices including a base, walls, and a roof, and predicts which of two structures will be more stable and explains why', advanced: 'applies engineering principles like triangular bracing and wide foundations intentionally, designs structures to meet specific requirements, and explains failures using structural vocabulary like the base was too narrow or the weight was not distributed evenly' },
      { skill: 'Tool identification and function', emerging: 'names three or four common tools like hammer and saw from photographs with teacher prompting', proficient: 'names ten or more construction tools, explains what each tool does and when to use it, and identifies basic safety rules like wearing goggles and measuring before cutting', advanced: 'explains how different tools work together in a construction sequence, describes how simple machines like levers and ramps make construction easier, and recommends specific tools for specific construction tasks with reasoning' },
      { skill: 'Measurement and blueprint reading', emerging: 'compares two objects as taller or shorter and identifies big and small in building illustrations', proficient: 'measures objects using non-standard units like blocks or hand spans, reads simple building diagrams with three or more steps, and records measurements using numbers', advanced: 'measures using standard units with a ruler, creates original blueprints with labeled dimensions before building, compares planned measurements to actual results, and explains discrepancies between plans and finished structures' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close kindergarten }, then 'first-grade':
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'first-grade':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected - look for uniqueGradeAngle between 'kindergarten': and 'first-grade':
  const kIdx = content.indexOf("'kindergarten':");
  const fgIdx = content.indexOf("'first-grade':");
  if (kIdx !== -1 && fgIdx !== -1) {
    const kindergartenSection = content.substring(kIdx, fgIdx);
    if (kindergartenSection.includes("uniqueGradeAngle:")) {
      console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in kindergarten section`);
      continue;
    }
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 kindergarten fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
