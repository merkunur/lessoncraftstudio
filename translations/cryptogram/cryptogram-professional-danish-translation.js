/**
 * CRYPTOGRAM APP - Professional Danish Translation
 * Version: 1.0.0
 * Last Updated: December 2024
 * Total Keys: 194
 * Language: Danish (da)
 *
 * Professional translation with 20+ years of UI/UX localization experience.
 * Focused on natural, idiomatic Danish as if originally developed in Denmark.
 */

const CRYPTOGRAM_TRANSLATIONS_DA = {
  "da": {
    // ============= 1. Language Names (11 keys) =============
    "language.english": "English (Engelsk)",
    "language.german.full": "Deutsch (Tysk)",
    "language.french.full": "Français (Fransk)",
    "language.spanish.full": "Español (Spansk)",
    "language.portuguese.full": "Português (Portugisisk)",
    "language.italian.full": "Italiano (Italiensk)",
    "language.dutch.full": "Nederlands (Hollandsk)",
    "language.swedish.full": "Svenska (Svensk)",
    "language.danish.full": "Dansk",
    "language.norwegian.full": "Norsk",
    "language.finnish.full": "Suomi (Finsk)",

    // ============= 2. Core UI (6 keys) =============
    "title": "Kryptogramindstillinger",
    "imageCryptogram": "Billedkryptogram",
    "selectLanguage": "Vælg sprog",
    "language": "Sprog:",
    "pageSize": "Sidestørrelse:",
    "pageSetup": "Sideopsætning",

    // ============= 3. Puzzle Rules (7 keys) =============
    "cryptogram.puzzle.rules": "Opgaveregler",
    "cryptogram.phrases.label": "Sætninger (én per linje):",
    "cryptogram.phrases.placeholder": "Den hurtige brune ræv...",
    "cryptogram.letters.reveal": "Bogstaver der skal afsløres:",
    "cryptogram.max.lines": "Maks. linjer per opgave:",
    "cryptogram.auto.assign": "Tildel billeder automatisk",
    "cryptogram.language.description": "Billednavne og temaer vises på det valgte sprog.",

    // ============= 4. Image Assignment (9 keys) =============
    "cryptogram.image.assignment": "Billedtildeling",
    "cryptogram.image.theme": "Billedtema:",
    "cryptogram.select.letter": "Vælg et bogstav for at tildele et billede:",
    "cryptogram.search.label": "Søg billeder:",
    "cryptogram.search.placeholder": "f.eks. æble, bil",
    "cryptogram.available.images": "Tilgængelige billeder (klik for at tildele):",
    "cryptogram.select.letter.above": "Vælg et bogstav ovenfor.",
    "cryptogram.assigned.images": "Tildelte billeder:",
    "cryptogram.msg.type.search": "Skriv for at søge i alle billeder.",

    // ============= 5. Upload Section (4 keys) =============
    "cryptogram.upload.title": "Upload egne billeder",
    "cryptogram.upload.select": "Vælg billede(r) til upload:",
    "cryptogram.uploaded.label": "Dine uploadede billeder:",
    "cryptogram.uploaded.placeholder": "Dine uploadede billeder vises her.",

    // ============= 6. Page Setup (19 keys) =============
    "cryptogram.page.setup": "Sideopsætning",
    "page.size.letter.portrait": "Letter Stående (8,5×11\")",
    "page.size.letter.landscape": "Letter Liggende (11×8,5\")",
    "page.size.a4.portrait": "A4 Stående (210×297mm)",
    "page.size.a4.landscape": "A4 Liggende (297×210mm)",
    "page.size.square": "Kvadrat (1200×1200)",
    "page.size.custom": "Tilpasset",
    "cryptogram.width.label": "Bredde (px):",
    "cryptogram.height.label": "Højde (px):",
    "cryptogram.page.color": "Sidefarve:",
    "cryptogram.apply.size.color": "Anvend størrelse & farve",
    "cryptogram.background.title": "Baggrund",
    "cryptogram.background.theme": "Baggrundstema:",
    "cryptogram.background.message": "Vælg et tema for baggrunde.",
    "cryptogram.background.opacity": "Baggrundsgennemsigtighed:",
    "cryptogram.border.title": "Ramme",
    "cryptogram.border.theme": "Rammetema:",
    "cryptogram.border.message": "Vælg et tema for rammer.",
    "cryptogram.border.opacity": "Rammegennemsigtighed:",

    // ============= 7. Text Tools (15 keys) =============
    "cryptogram.text.tools": "Tekstværktøjer",
    "cryptogram.text.add.new": "Tilføj ny tekst",
    "cryptogram.text.content.label": "Indhold:",
    "cryptogram.text.placeholder": "Hej!",
    "cryptogram.text.add.button": "Tilføj tekst",
    "cryptogram.text.properties": "Egenskaber for valgt tekst",
    "cryptogram.text.color": "Farve:",
    "cryptogram.text.size": "Størrelse:",
    "cryptogram.text.font": "Skrifttype:",
    "cryptogram.text.outline.color": "Konturfarve:",
    "cryptogram.text.outline.width": "Kontur (0-10):",
    "cryptogram.text.default": "Ny tekst",
    "cryptogram.page.title": "Billedkryptogram-generator",
    "cryptogram.msg.text.added": "Tekst tilføjet til arbejdsområdet.",
    "cryptogram.msg.text.updated": "Tekstegenskaber opdateret.",

    // ============= 8. Font Options (7 keys) =============
    "font.lexend": "Lexend Deca",
    "font.baloo": "Baloo 2",
    "font.nunito": "Nunito",
    "font.quicksand": "Quicksand",
    "font.fredoka": "Fredoka",
    "font.arial": "Arial",
    "font.verdana": "Verdana",

    // ============= 9. Toolbar Actions (20 keys) =============
    "toolbar.layers": "Lag",
    "toolbar.bring.forward": "Flyt fremad",
    "toolbar.send.backward": "Flyt bagud",
    "toolbar.align": "Juster",
    "toolbar.align.selected": "Juster markering:",
    "toolbar.align.left": "Venstrejuster",
    "toolbar.center.h": "Centrer vandret",
    "toolbar.align.right": "Højrejuster",
    "toolbar.align.top": "Juster øverst",
    "toolbar.center.v": "Centrer lodret",
    "toolbar.align.bottom": "Juster nederst",
    "toolbar.align.to.page": "Juster på siden:",
    "toolbar.center.page.h": "Centrer vandret på siden",
    "toolbar.center.page.v": "Centrer lodret på siden",
    "toolbar.delete": "Slet markering",
    "toolbar.msg.aligned": "Objekter justeret.",
    "toolbar.msg.layer.changed": "Lagrækkefølge ændret.",
    "toolbar.msg.deleted": "Markerede objekter slettet.",
    "toolbar.msg.select.first": "Vælg et objekt først.",
    "toolbar.msg.nothing.selected": "Ingen objekter markeret.",

    // ============= 10. Action Buttons (10 keys) =============
    "cryptogram.generate": "Opret",
    "cryptogram.download": "Download",
    "cryptogram.download.worksheet.jpeg": "Arbejdsark (JPEG)",
    "cryptogram.download.answer.jpeg": "Facit (JPEG)",
    "cryptogram.download.worksheet.pdf": "Arbejdsark (PDF)",
    "cryptogram.download.answer.pdf": "Facit (PDF)",
    "common.grayscale": "Gråtoner",
    "cryptogram.clear.all": "Ryd alt",
    "cryptogram.msg.generate.complete": "Kryptogram oprettet!",
    "cryptogram.msg.cleared": "Alt indhold er slettet.",

    // ============= 11. Tab Labels (2 keys) =============
    "cryptogram.tab.worksheet": "Arbejdsark",
    "cryptogram.tab.answer": "Facit",

    // ============= 12. Generation Messages (6 keys) =============
    "cryptogram.msg.generating": "Opretter opgavedata...",
    "cryptogram.msg.worksheet.generated": "Arbejdsark oprettet!",
    "cryptogram.msg.error": "Fejl: {error}",
    "cryptogram.msg.enter.phrase": "Indtast mindst én sætning.",
    "cryptogram.msg.missing.images": "Manglende billeder for bogstaverne: {letters}. Tildel eller brug automatisk tildeling.",
    "cryptogram.msg.generate.first": "Opret indhold først.",

    // ============= 13. Theme Loading Messages (6 keys) =============
    "cryptogram.themes.all": "Alle temaer",
    "cryptogram.msg.themes.error": "Kunne ikke indlæse temaer.",
    "cryptogram.msg.loading.default": "Indlæser standardtema...",
    "cryptogram.msg.loading.theme": "Indlæser {theme}...",
    "cryptogram.msg.theme.failed": "Kunne ikke indlæse tema \"{theme}\"",
    "cryptogram.msg.theme.loaded": "Tema indlæst.",

    // ============= 14. Auto-Assign Messages (6 keys) =============
    "cryptogram.msg.fetching.images": "Henter alle billeder til automatisk tildeling...",
    "cryptogram.msg.fetch.failed": "Kunne ikke hente billedliste fra serveren.",
    "cryptogram.msg.no.images.server": "Kan ikke tildele automatisk. Ingen billeder fundet på serveren.",
    "cryptogram.msg.auto.assigned": "Billeder er tildelt automatisk.",
    "cryptogram.msg.select.letter.first": "Vælg et bogstav først.",
    "cryptogram.msg.auto.assigning": "Tildeler billeder til bogstaver automatisk...",

    // ============= 15. Search Messages (5 keys) =============
    "cryptogram.msg.searching": "Søger...",
    "cryptogram.msg.search.failed": "Søgning efter \"{query}\" mislykkedes",
    "cryptogram.msg.no.images": "Ingen billeder fundet{query}",
    "cryptogram.msg.uploads.available": "{count} egne billede(r) tilgængelig(e).",
    "cryptogram.msg.search.complete": "Søgning færdig.",

    // ============= 16. Clear & Download Messages (15 keys) =============
    "cryptogram.msg.form.cleared": "Formular ryddet.",
    "cryptogram.msg.canvas.unavailable": "Arbejdsområde ikke tilgængeligt.",
    "cryptogram.msg.preparing.file": "Forbereder {fileName}...",
    "cryptogram.msg.jpeg.initiated": "JPEG-download startet!",
    "cryptogram.msg.jpeg.error": "Fejl ved forberedelse af JPEG: {error}",
    "cryptogram.watermark.main": "GRATIS VERSION - LessonCraftStudio.com",
    "cryptogram.watermark.text": "GRATIS VERSION",
    "cryptogram.msg.preparing.pdf": "Forbereder PDF...",
    "cryptogram.msg.pdf.downloaded": "PDF downloadet!",
    "cryptogram.msg.pdf.error": "Fejl ved oprettelse af PDF.",
    "cryptogram.msg.generate.worksheet.first": "Opret et arbejdsark først.",
    "cryptogram.msg.preparing.jpeg": "Forbereder JPEG...",
    "cryptogram.msg.jpeg.error.simple": "Fejl ved forberedelse af JPEG.",
    "cryptogram.msg.pdf.error.detailed": "Fejl ved oprettelse af PDF: {error}",
    "cryptogram.msg.download.ready": "Download klar.",

    // ============= 17. Asset Loading Messages (5 keys) =============
    "cryptogram.asset.select": "Vælg et tema for at se {type}.",
    "cryptogram.asset.loading": "Indlæser {type} for {theme}...",
    "cryptogram.asset.none": "Ingen {type} i dette tema.",
    "cryptogram.asset.error": "Fejl ved indlæsning af {type}.",
    "cryptogram.asset.loaded": "{type} indlæst.",

    // ============= 18. Common Terms (3 keys) =============
    "common.none": "Ingen",
    "common.loading": "Indlæser...",
    "common.error": "Fejl",

    // ============= 19. Placeholders (5 keys) =============
    "placeholder.search": "Søg...",
    "placeholder.enter.text": "Indtast tekst her",
    "placeholder.custom.width": "Bredde",
    "placeholder.custom.height": "Højde",
    "placeholder.reveal.count": "0",

    // ============= 20. Page Title (1 key) =============
    "cryptogram.page.title": "Billedkryptogram-generator",

    // ============= 21. Error Messages (32 keys) =============
    "error.invalid.dimensions": "Ugyldige dimensioner. Kontrollér bredde og højde.",
    "error.no.theme.selected": "Vælg et tema først.",
    "error.no.images.theme": "Ingen billeder tilgængelige i det valgte tema.",
    "error.upload.failed": "Upload mislykkedes. Prøv igen.",
    "error.file.too.large": "Filen er for stor. Maksimal størrelse er 5MB.",
    "error.invalid.file.type": "Ugyldig filtype. Upload kun billedfiler.",
    "error.canvas.creation": "Fejl ved oprettelse af arbejdsområde.",
    "error.export.failed": "Eksport mislykkedes. Prøv igen.",
    "error.network": "Netværksfejl. Kontrollér din forbindelse.",
    "error.theme.empty": "Det valgte tema indeholder ingen billeder.",
    "error.puzzle.generation": "Kunne ikke oprette opgaven. Prøv med andre sætninger.",
    "error.insufficient.images": "Ikke nok billeder til alle bogstaver. Tilføj flere billeder eller reducer antallet af unikke bogstaver.",
    "error.no.intersections": "Kunne ikke finde nok krydsninger til ordene. Prøv andre billeder.",
    "error.invalid.phrase": "Ugyldig sætning. Indtast gyldig tekst.",
    "error.letter.assignment": "Fejl ved tildeling af billede til bogstav.",
    "error.image.loading": "Fejl ved indlæsning af billede.",
    "error.border.loading": "Fejl ved indlæsning af ramme.",
    "error.background.loading": "Fejl ved indlæsning af baggrund.",
    "error.text.empty": "Indtast tekstindhold.",
    "error.object.selection": "Vælg et objekt at ændre.",
    "error.alignment": "Fejl ved justering af objekter.",
    "error.layer.operation": "Fejl ved ændring af lagrækkefølge.",
    "error.delete.operation": "Fejl ved sletning af objekter.",
    "error.color.invalid": "Ugyldig farveværdi.",
    "error.size.invalid": "Ugyldig størrelsesværdi.",
    "error.outline.invalid": "Ugyldig konturbredde.",
    "error.opacity.invalid": "Ugyldig gennemsigtighedsværdi.",
    "error.theme.not.found": "Tema ikke fundet.",
    "error.api.connection": "Kunne ikke oprette forbindelse til serveren.",
    "error.session.expired": "Sessionen er udløbet. Genindlæs siden.",
    "error.browser.unsupported": "Din browser understøttes ikke. Brug en moderne browser.",
    "error.feature.unavailable": "Denne funktion er ikke tilgængelig i gratisversionen."
  }
};

// ==========================================
// HELPER FUNCTIONS FOR DANISH TRANSLATION
// ==========================================

/**
 * Get Danish translation for a key
 * @param {string} key - Translation key
 * @param {object} params - Parameters for interpolation
 * @returns {string} Translated text in Danish
 */
function getDanishCryptogramTranslation(key, params = {}) {
  const translation = CRYPTOGRAM_TRANSLATIONS_DA.da[key] ||
                     CRYPTOGRAM_TRANSLATIONS_DA.en?.[key] ||
                     key;

  return formatDanishCryptogramTranslation(translation, params);
}

/**
 * Format Danish translation with parameters
 * @param {string} text - Text with placeholders
 * @param {object} params - Parameters to replace
 * @returns {string} Formatted text
 */
function formatDanishCryptogramTranslation(text, params) {
  let formattedText = text;
  for (const [key, value] of Object.entries(params)) {
    formattedText = formattedText.replace(new RegExp(`\\{${key}\\}`, 'g'), value);
  }
  return formattedText;
}

/**
 * Validate Danish translations
 * @returns {object} Validation result
 */
function validateDanishCryptogramTranslations() {
  const keys = Object.keys(CRYPTOGRAM_TRANSLATIONS_DA.da);
  const totalExpected = 194;

  return {
    valid: keys.length === totalExpected,
    coverage: `${((keys.length / totalExpected) * 100).toFixed(1)}%`,
    missing: totalExpected - keys.length,
    total: keys.length,
    expected: totalExpected
  };
}

/**
 * Danish alphabet for cryptogram
 * Includes standard letters plus Danish special characters
 */
const DANISH_CRYPTOGRAM_ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ';

/**
 * Get Danish-specific cryptogram settings
 */
function getDanishCryptogramSettings() {
  return {
    alphabet: DANISH_CRYPTOGRAM_ALPHABET,
    defaultRevealCount: 2,
    maxLinesPerPuzzle: 8,
    supportedFonts: [
      'Arial',
      'Verdana',
      'Lexend Deca',
      'Baloo 2',
      'Nunito',
      'Quicksand',
      'Fredoka'
    ],
    paperSizes: {
      'a4': 'A4 (Standard i Danmark)',
      'letter': 'Letter (Amerikansk format)',
      'square': 'Kvadrat'
    }
  };
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    CRYPTOGRAM_TRANSLATIONS_DA,
    getDanishCryptogramTranslation,
    formatDanishCryptogramTranslation,
    validateDanishCryptogramTranslations,
    DANISH_CRYPTOGRAM_ALPHABET,
    getDanishCryptogramSettings
  };
}

// Make available globally in browser
if (typeof window !== 'undefined') {
  window.CRYPTOGRAM_TRANSLATIONS_DA = CRYPTOGRAM_TRANSLATIONS_DA;
  window.getDanishCryptogramTranslation = getDanishCryptogramTranslation;
  window.formatDanishCryptogramTranslation = formatDanishCryptogramTranslation;
  window.validateDanishCryptogramTranslations = validateDanishCryptogramTranslations;
  window.DANISH_CRYPTOGRAM_ALPHABET = DANISH_CRYPTOGRAM_ALPHABET;
  window.getDanishCryptogramSettings = getDanishCryptogramSettings;
}