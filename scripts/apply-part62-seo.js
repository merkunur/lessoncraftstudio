/**
 * SEO Part 62: Enrich preschool grade for fairy-tales, flowers, food, fruits, furniture
 * Adds 6 grade-level enrichment fields to gradeContent.preschool for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Fairy-Tales ─────────────────────────────────────────────────────
  {
    name: 'fairy-tales',
    uniqueGradeAngle: 'Preschool is the most imaginatively fertile stage for fairy tale worksheets because three- and four-year-olds are in the golden age of magical thinking \u2014 they genuinely believe that wolves can talk, pumpkins can become carriages, and beanstalks can grow to the sky, and this sincere belief transforms fairy tale worksheets from fictional exercises into lived adventures where every character is real, every danger is felt, and every happy ending delivers genuine emotional relief. Fairy tale worksheets are uniquely powerful at the preschool level because they provide the most structurally predictable narrative framework available \u2014 events happen in threes, good triumphs over evil, and familiar phrases repeat throughout \u2014 giving children their first experience of story structure through patterns they can anticipate, remember, and eventually retell. The character archetypes in fairy tales (the brave hero, the wicked villain, the magical helper) give preschoolers their earliest vocabulary for understanding human motivations and moral reasoning, building the social comprehension that supports both literacy and friendship.',
    developmentalMilestones: [
      { milestone: 'Narrative structure comprehension through predictable story patterns (preschoolers are developing the ability to understand that stories have a beginning, middle, and end)', howWeAddress: 'fairy tale worksheets that illustrate story sequences with three or four key events build the narrative comprehension that is the single strongest predictor of later reading success, and the predictable structure of fairy tales makes this comprehension accessible even to children who cannot yet read' },
      { milestone: 'Character identification and moral reasoning through archetypal roles (preschoolers are developing the ability to distinguish good from bad behavior and understand character motivations)', howWeAddress: 'fairy tale worksheets where children identify heroes, villains, and helpers build the earliest forms of moral reasoning and perspective-taking, teaching children that characters act based on intentions and that actions have consequences' },
      { milestone: 'Vocabulary expansion through rich, memorable language (preschoolers are in the rapid vocabulary acquisition phase and learn words fastest when they carry emotional weight)', howWeAddress: 'fairy tale vocabulary like castle, dragon, prince, princess, enchanted, brave, and wicked is both novel and emotionally charged, making these words memorable after fewer exposures than everyday vocabulary' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on one well-known fairy tale at a time (The Three Bears is ideal because it features counting to three, size comparison, and a clear narrative sequence), use real props like three different-sized bowls alongside worksheets so children can physically act out the story while learning, and simplify sequencing activities to two events (beginning and end) before introducing middle events. For advanced preschoolers, introduce fairy tale comparison activities where children identify similarities across stories (both Cinderella and Snow White have a wicked stepmother), challenge children to predict what will happen next in an unfamiliar fairy tale based on patterns they know, and encourage original fairy tale creation where children design their own character, setting, and simple plot.',
    parentTakeaway: 'Fairy tale worksheets give preschool parents the most powerful bedtime-to-learning bridge because reading fairy tales is already something most families do, and worksheets extend that beloved routine into structured learning. The key insight is that fairy tales are not just entertainment \u2014 they are your child\u2019s first experience of narrative structure, and understanding how stories work is the single strongest predictor of reading success. After reading a fairy tale together, use the worksheet to retell the story: ask your child to point to what happened first, what happened next, and how it ended. When your child can retell a three-part story sequence, they have mastered the foundational comprehension skill that all later reading builds upon. Let your child act out the stories with stuffed animals or dress-up clothes \u2014 dramatic retelling strengthens memory, vocabulary, and sequencing simultaneously. The magic of fairy tales at this age is that your child truly believes the stories are real, and this emotional investment makes every learning moment deeper.',
    classroomIntegration: 'Fairy tale worksheets anchor the most narratively rich thematic unit in preschool because fairy tales provide the structural framework for teaching story comprehension, character analysis, and sequential reasoning across every learning domain. Create a fairy tale dramatic play area with costumes (crowns, capes, wands), a cardboard castle, and character puppets that children use to act out stories from worksheets. Use fairy tale coloring pages as morning arrival activities, incorporate sequencing worksheets into a small-group literacy rotation where children order story events using picture cards, and connect character identification worksheets to a classroom character traits wall where children add illustrations of brave, kind, and clever characters throughout the unit. A fairy tale retelling circle where each child tells one part of a familiar story builds oral language, sequencing, and public speaking skills. A weekly fairy tale rotation (Three Bears one week, Three Little Pigs the next, Cinderella after that) keeps content fresh while reinforcing the same story structure patterns across multiple narratives.',
    assessmentRubric: [
      { skill: 'Fairy tale narrative sequencing', emerging: 'identifies one event from a familiar fairy tale illustration with teacher prompting like the bear is angry', proficient: 'orders three story events in correct sequence for a familiar fairy tale and uses the words first, then, and last', advanced: 'sequences four or more events, retells a complete fairy tale independently, and identifies the story pattern like things always happen three times' },
      { skill: 'Fairy tale character identification', emerging: 'points to the main character in a fairy tale illustration with teacher prompting', proficient: 'identifies heroes and villains in familiar fairy tales and describes one trait of each like the wolf is mean because he blows down houses', advanced: 'compares characters across fairy tales, explains character motivations, and creates their own fairy tale character with described traits' },
      { skill: 'Fairy tale vocabulary', emerging: 'names two fairy tale items like crown and castle from illustrations with teacher prompting', proficient: 'independently uses six or more fairy tale vocabulary words in context and connects words to story events', advanced: 'uses 10+ fairy tale words, describes settings and characters using rich vocabulary, and applies fairy tale language in original storytelling' },
    ],
  },

  // ── Flowers ─────────────────────────────────────────────────────────
  {
    name: 'flowers',
    uniqueGradeAngle: 'Preschool is the most sensory-awakening stage for flower worksheets because three- and four-year-olds are in the peak period of sensory exploration \u2014 they instinctively stop to smell every flower they pass, pick dandelions from every crack in the sidewalk, and present wilted bouquets as treasured gifts, meaning flowers are already the most naturally cherished objects in a preschooler\u2019s outdoor world before any worksheet is introduced. Flower worksheets are uniquely powerful at the preschool level because they combine color learning (flowers come in every color), counting (petals are naturally countable), fine motor development (coloring intricate petal shapes builds precision), and science vocabulary (stem, petal, leaf, seed, soil, sun, water) into one visually beautiful context. The life cycle dimension adds a temporal learning opportunity that no static theme can match \u2014 preschoolers can plant a real seed and watch it grow, connecting worksheet illustrations of seeds, sprouts, and blooms to observable, day-by-day changes that make abstract concepts like growth and time concrete and unforgettable.',
    developmentalMilestones: [
      { milestone: 'Color identification through the most vivid natural palette (preschoolers are mastering color naming and visual discrimination)', howWeAddress: 'flower worksheets feature every color in nature\u2019s most beautiful context \u2014 red roses, yellow sunflowers, purple violets, orange marigolds, pink tulips \u2014 providing more color-naming opportunities per page than any other natural theme and connecting color vocabulary to real objects children can find outdoors' },
      { milestone: 'Plant part identification and basic science vocabulary (preschoolers are developing the ability to name and describe parts of living things)', howWeAddress: 'flower worksheets that label stems, petals, leaves, and roots introduce the foundational science vocabulary and observational skills that support all later biological learning, taught through the most visually appealing living thing available' },
      { milestone: 'Life cycle understanding through seed-to-flower sequencing (preschoolers are beginning to understand that living things change over time)', howWeAddress: 'flower growth sequence worksheets where children order seed, sprout, bud, and bloom build temporal reasoning and scientific observation skills, especially when paired with a real classroom planting activity' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on three easily recognizable flowers (sunflower, rose, daisy) and three basic plant parts (flower, stem, leaf) before introducing roots, petals, or seeds; use real flowers alongside every worksheet so children can touch, smell, and examine the actual structures they see illustrated, and simplify counting to petals on a daisy (start with five). For advanced preschoolers, introduce the full seed-to-flower life cycle as a four-step sequence, challenge children to compare flowers by color, size, and petal count, extend vocabulary to include pollination concepts like bees visit flowers, and encourage nature journaling where children draw a classroom plant at different growth stages.',
    parentTakeaway: 'Flower worksheets give preschool parents the most naturally beautiful outdoor learning opportunity because flowers are everywhere \u2014 in gardens, parks, sidewalk cracks, and grocery store bouquets \u2014 and every flower your child notices is a vocabulary, counting, and science learning moment. The key strategy is to plant something together: even a single bean seed in a paper cup on a windowsill gives your child a real-life connection to the seed-sprout-bloom sequence from worksheets. Count petals on real flowers, name the colors of every bloom you pass on walks, and introduce the words stem, petal, and leaf by pointing to them on actual plants. When your child brings you a dandelion from the yard, you are not just receiving a weed \u2014 you are receiving evidence that your child is noticing, selecting, and presenting a natural object, which is the foundation of scientific observation. Flower pressing (placing flowers between book pages) creates a keepsake that extends learning into art.',
    classroomIntegration: 'Flower worksheets anchor the most visually stunning and scientifically authentic thematic unit in preschool because flowers provide hands-on learning opportunities that no other theme can match \u2014 children can plant real seeds, observe daily growth, and compare their observations to worksheet illustrations in real time. Create a classroom garden station with planted seeds, a watering schedule chart, and a growth observation journal where children draw what they see each day. Use flower coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count real flower petals, seeds, and leaves, and connect life cycle sequencing worksheets to the classroom garden observations. A flower sensory table with real and silk flowers, magnifying glasses, and tweezers for examining petals develops fine motor skills alongside science vocabulary. A color sorting activity where children organize flowers by color reinforces both classification skills and color vocabulary. The classroom garden provides the most authentic long-term observation project available in preschool, teaching patience, responsibility, and scientific documentation.',
    assessmentRubric: [
      { skill: 'Flower identification and vocabulary', emerging: 'names one flower and one color from a flower illustration with teacher prompting', proficient: 'independently names three or more flowers and identifies stem, petal, and leaf on real flowers and illustrations', advanced: 'names five or more flowers, identifies all basic plant parts including roots and seeds, and describes what each part does using sentences like the roots drink water from the soil' },
      { skill: 'Counting with flowers', emerging: 'counts to 3 petals or flowers with one-to-one correspondence using physical pointing', proficient: 'counts to 7 flower-related items reliably and compares groups using more and fewer', advanced: 'counts to 10+ petals, compares petal counts across different flowers, and uses flower contexts in simple addition like three red flowers and two yellow flowers is five flowers altogether' },
      { skill: 'Flower life cycle sequencing', emerging: 'identifies a seed and a flower as different stages with teacher support', proficient: 'orders three life cycle stages correctly \u2014 seed, sprout, flower \u2014 and describes what each stage looks like', advanced: 'orders four or more stages including bud, explains what plants need to grow using sun, water, and soil, and connects life cycle stages to classroom garden observations' },
    ],
  },

  // ── Food ────────────────────────────────────────────────────────────
  {
    name: 'food',
    uniqueGradeAngle: 'Preschool is the most personally relevant stage for food worksheets because three- and four-year-olds interact with food more frequently and more emotionally than with any other category of objects \u2014 they have passionate preferences, strong aversions, daily rituals around meals and snacks, and an emerging awareness of hunger and fullness that makes food the single most personally meaningful theme available at any age. Food worksheets are uniquely powerful at the preschool level because they combine vocabulary expansion (dozens of food names that children encounter daily), classification skills (sorting by food group, color, taste, and meal), counting (how many apples, how many cookies), and health concepts (healthy versus treat foods) into one universally relevant context. The sensory dimension is unmatched \u2014 food engages sight, smell, taste, touch, and even sound (the crunch of a carrot, the sizzle of cooking), making food vocabulary the most multi-sensorily reinforced vocabulary in a preschooler\u2019s entire experience.',
    developmentalMilestones: [
      { milestone: 'Food vocabulary expansion and naming fluency (preschoolers are in the rapid vocabulary acquisition phase and learn words fastest when they connect to daily experience)', howWeAddress: 'food worksheets systematically introduce the names of fruits, vegetables, grains, proteins, and dairy items that children encounter at every meal, building a vocabulary set that is reinforced through unavoidable daily repetition three or more times per day' },
      { milestone: 'Food classification and categorical thinking (preschoolers are developing the ability to sort objects into groups based on shared attributes)', howWeAddress: 'food sorting worksheets where children organize items by food group, color, meal (breakfast, lunch, dinner), or healthy versus treat categories build the classification reasoning that underlies all scientific thinking, using the most personally familiar objects available' },
      { milestone: 'Counting and quantity through food contexts (preschoolers are developing one-to-one correspondence and comparative quantity concepts)', howWeAddress: 'food counting worksheets where children count apples, cookies, or grapes provide the most intrinsically motivating counting context because food quantities have real personal consequences \u2014 three crackers versus five crackers is a difference every preschooler cares about' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on five immediately recognizable foods (apple, banana, bread, milk, cookie) and pair every worksheet with real or plastic food items that children can hold, sort, and name; reduce counting to sets of three or fewer and use large, colorful food illustrations that children can identify from personal experience. For advanced preschoolers, introduce food group classification with four or more categories, challenge children to plan a balanced meal by selecting one item from each food group, extend counting to ten or more food items in a grocery store or kitchen scene, and encourage food origin discussions \u2014 where does milk come from, how do apples grow \u2014 that connect food vocabulary to basic science concepts.',
    parentTakeaway: 'Food worksheets give preschool parents the most effortlessly reinforceable learning tool because you already interact with food together at least three times every single day \u2014 breakfast, lunch, and dinner are built-in vocabulary, counting, and sorting lessons that require zero extra preparation. The key strategy is to narrate meals: name every food on the plate, count the pieces, sort by color (all the green foods on this side), and ask your child to identify foods by name. Grocery shopping is the ultimate food worksheet extension \u2014 let your child help find items, count fruits into bags, and sort the cart by food type. When your child can name twenty foods, sort them into healthy and treat categories, and count portions on their plate, they have mastered vocabulary, classification, and counting through the most authentic context available. Picky eating is actually a learning opportunity \u2014 naming foods helps children feel more comfortable trying them because familiar vocabulary reduces the anxiety of the unknown.',
    classroomIntegration: 'Food worksheets anchor the most universally experienced thematic unit in preschool because every child eats, every classroom has snack time, and every family discusses food daily. Connect food worksheets to the classroom snack routine by naming, counting, and sorting snack items before eating them. Create a dramatic play grocery store or restaurant with play food, shopping baskets, and a cash register that children use to practice food vocabulary, counting, and social interaction. Use food coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count real crackers, fruit pieces, or cereal, and connect classification worksheets to a food group poster where children sort illustrated foods into the correct category. A classroom cooking activity (no-bake recipes like ants on a log or fruit kabobs) provides the ultimate multi-sensory extension of food worksheet vocabulary. The daily snack routine makes food the only theme that is authentically practiced every single school day without any special planning.',
    assessmentRubric: [
      { skill: 'Food vocabulary and identification', emerging: 'names three or fewer foods from illustrations with teacher prompting', proficient: 'independently names eight or more foods across multiple food groups and describes when each is typically eaten like cereal is for breakfast', advanced: 'names 15+ foods, categorizes them by food group, and describes foods using multiple attributes like a red crunchy apple' },
      { skill: 'Food classification and sorting', emerging: 'sorts foods into two groups with teacher modeling like fruits here and vegetables here', proficient: 'independently sorts foods into four or more categories like fruits, vegetables, grains, and treats with consistent accuracy', advanced: 'sorts by multiple attributes, explains sorting rules, and plans a balanced meal by selecting items from different food groups' },
      { skill: 'Counting food items', emerging: 'counts to 3 food items with one-to-one correspondence using physical pointing', proficient: 'counts to 7 food items reliably, identifies the matching numeral, and compares groups using more and fewer', advanced: 'counts to 10+, solves simple food distribution problems like giving each child two crackers, and uses food contexts in simple addition' },
    ],
  },

  // ── Fruits ──────────────────────────────────────────────────────────
  {
    name: 'fruits',
    uniqueGradeAngle: 'Preschool is the most sensory-explosive stage for fruit worksheets because three- and four-year-olds experience fruits through every sense simultaneously \u2014 the bright red of a strawberry, the bumpy texture of an orange peel, the sweet smell of a ripe banana, the juicy crunch of an apple bite, and even the sound of watermelon being sliced \u2014 making fruits the most multi-sensorily accessible learning theme in the entire preschool curriculum. Fruit worksheets are uniquely powerful at the preschool level because they combine color learning (fruits naturally span the full color spectrum from red strawberries to purple grapes to yellow bananas to green kiwis to orange oranges), counting (fruits come in naturally countable sets \u2014 grapes in a bunch, strawberries in a basket, slices on a plate), and health vocabulary (teaching children that fruits make our bodies strong and healthy) into one delicious, hands-on context. The personal relevance is immediate and daily \u2014 most preschoolers eat fruit at least once a day, and the strong flavor preferences they develop make fruit vocabulary emotionally charged and personally meaningful.',
    developmentalMilestones: [
      { milestone: 'Fruit identification and naming across the color spectrum (preschoolers are developing both fruit vocabulary and color naming simultaneously)', howWeAddress: 'fruit worksheets where children name and color strawberries, bananas, grapes, oranges, and apples reinforce both fruit names and color associations through the most naturally colorful category of objects available, building dual vocabulary pathways with every single illustration' },
      { milestone: 'Multi-sensory descriptive language development (preschoolers are learning to describe objects using multiple attributes)', howWeAddress: 'fruit worksheets that ask children to describe how fruits look, feel, smell, and taste build the multi-attribute descriptive language that is foundational to scientific observation and expressive communication, and real fruit tasting alongside worksheets makes these descriptions vivid and personally verified' },
      { milestone: 'Counting and comparison through naturally grouped fruit (preschoolers are developing one-to-one correspondence and comparative quantity reasoning)', howWeAddress: 'fruit counting worksheets featuring grapes on a vine, strawberries in a basket, and apple slices on a plate provide naturally appealing counting contexts, and comparing quantities like who has more grapes builds the comparative reasoning that underlies all mathematical thinking' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on four universally recognized fruits (apple, banana, orange, grapes) before introducing less familiar options like kiwi, mango, or pineapple; bring real fruits to hold alongside every worksheet so children can touch, smell, and taste what they see illustrated, and simplify counting to three or fewer fruits in a set. For advanced preschoolers, introduce fruit origin concepts (bananas grow on trees in warm places, strawberries grow on small plants close to the ground), challenge children to classify fruits by multiple attributes simultaneously (red fruits that are also sweet), extend counting to ten or more fruits in a market scene, and encourage multi-sensory descriptions using complete sentences like the orange is round and bumpy on the outside and sweet and juicy on the inside.',
    parentTakeaway: 'Fruit worksheets give preschool parents the most naturally delicious learning tool because every piece of fruit in your kitchen is a vocabulary, counting, color, and science lesson waiting to happen. The key strategy is absurdly simple: involve your child when you prepare fruit. Count the strawberries before washing them, name the colors as you slice, describe the textures and tastes together, and compare sizes (which apple is bigger). Grocery shopping is the ultimate fruit worksheet extension \u2014 let your child pick out three bananas, find the reddest apple, or count oranges into a bag. When your child can name a dozen fruits, describe them using color, texture, and taste words, and count them in a bowl, they have mastered multi-sensory vocabulary, descriptive language, and counting through the most delicious context possible. Fruit tasting activities where you try one new fruit each week are the easiest way to expand both your child\u2019s palate and their vocabulary simultaneously.',
    classroomIntegration: 'Fruit worksheets anchor the most deliciously hands-on thematic unit in preschool because real fruits are inexpensive, universally available, and safe for classroom use \u2014 every fruit concept from worksheets can be immediately verified through authentic sensory experience. Create a fruit exploration station with real and plastic fruits that children can sort by color, size, and type while building vocabulary. Use fruit coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count real fruit pieces, and connect classification worksheets to a fruit rainbow chart where children organize illustrations by color across the spectrum. A weekly fruit tasting where children try a new fruit, describe its color, texture, and taste, and add it to a classroom fruit journal builds scientific observation skills alongside vocabulary. The classroom snack routine provides daily authentic practice when fruit portions are counted, named, and described before eating.',
    assessmentRubric: [
      { skill: 'Fruit identification and vocabulary', emerging: 'names two or three common fruits like apple and banana from illustrations with teacher prompting', proficient: 'independently names eight or more fruits, identifies their colors, and describes one attribute of each like bananas are yellow and soft', advanced: 'names 12+ fruits including less common varieties, describes fruits using multiple sensory attributes in sentences, and explains where different fruits grow' },
      { skill: 'Counting with fruits', emerging: 'counts to 3 fruit items with one-to-one correspondence using physical pointing', proficient: 'counts to 7 fruits reliably, identifies the matching numeral, and compares groups using more and fewer like there are more grapes than strawberries', advanced: 'counts to 10+, solves simple fruit distribution problems like giving each child two apple slices, and creates fruit-themed counting stories' },
      { skill: 'Fruit descriptive language', emerging: 'describes a fruit using one attribute like the apple is red with teacher prompting', proficient: 'describes fruits using two or more attributes from different senses like the orange is round and smells sweet', advanced: 'describes fruits using three or more multi-sensory attributes in complete sentences and compares two fruits using descriptive language like the banana is soft and smooth but the kiwi is fuzzy on the outside' },
    ],
  },

  // ── Furniture ───────────────────────────────────────────────────────
  {
    name: 'furniture',
    uniqueGradeAngle: 'Preschool is the most spatially immersive stage for furniture worksheets because three- and four-year-olds spend their entire day surrounded by and interacting with furniture \u2014 sitting in chairs, eating at tables, sleeping in beds, storing toys in shelves, and hiding under desks \u2014 making furniture the most physically interactive and spatially relevant theme in the entire preschool curriculum. Furniture worksheets are uniquely powerful at the preschool level because they teach spatial vocabulary (on, under, next to, behind, in front of, between) through objects that children physically occupy and navigate around every single day, meaning every spatial concept from a worksheet can be immediately demonstrated using the actual classroom environment. The room-by-room organization of furniture (bedroom furniture, kitchen furniture, living room furniture, classroom furniture) provides the most intuitive classification framework for preschoolers because rooms are physical spaces they experience daily, not abstract categories they must memorize.',
    developmentalMilestones: [
      { milestone: 'Spatial vocabulary acquisition through physically navigable objects (preschoolers are developing positional language and spatial reasoning)', howWeAddress: 'furniture worksheets that illustrate objects on, under, next to, behind, and in front of tables, chairs, and shelves teach spatial vocabulary through the most physically verifiable context available because children can immediately demonstrate each position using real classroom furniture' },
      { milestone: 'Room-based classification and functional reasoning (preschoolers are developing the ability to sort objects by context and purpose)', howWeAddress: 'furniture worksheets where children sort items by room (bed goes in the bedroom, stove goes in the kitchen, couch goes in the living room) build classification skills through the most experientially familiar categories available, reinforcing that objects belong in specific places for specific reasons' },
      { milestone: 'Counting and size comparison through familiar household objects (preschoolers are developing one-to-one correspondence and comparative measurement)', howWeAddress: 'furniture worksheets where children count chairs around a table, compare table sizes (big and small), and identify shapes in furniture (rectangular table, round clock, square window) connect counting, measurement, and shape recognition to objects children see and use every day' },
    ],
    differentiationNotes: 'For struggling preschoolers, focus on five universally recognized furniture items (chair, table, bed, couch, shelf) and use the actual classroom furniture as a reference while working on worksheets \u2014 point to the real chair when labeling the illustrated chair; reduce spatial vocabulary to two terms (on and under) before introducing next to, behind, or in front of. For advanced preschoolers, introduce room planning activities where children decide which furniture belongs in which room and explain their reasoning, challenge children to describe furniture using multiple attributes (the big brown bookshelf next to the window), extend counting to furnished room scenes with ten or more items, and encourage spatial storytelling where children describe the positions of multiple objects using complete sentences with spatial vocabulary.',
    parentTakeaway: 'Furniture worksheets give preschool parents the most instantly demonstrable learning tool because every concept is physically present in every room of your home \u2014 you never need to buy materials, travel anywhere, or prepare anything because the teaching tools are the chairs you sit on, the tables you eat at, and the beds you sleep in. The key strategy is to turn furniture into a spatial vocabulary game: ask your child to put the stuffed animal on the chair, under the table, next to the bed, and behind the couch. This simple game builds the spatial reasoning vocabulary that directly predicts math success. When your child can follow multi-step spatial instructions using furniture (put the book on the table that is next to the big chair), they have mastered positional language that many children do not learn until kindergarten or first grade. The cleaning up routine is the ultimate furniture worksheet extension \u2014 put the toys in the shelf, hang the coat on the hook, and place the shoes under the bench are all spatial vocabulary exercises disguised as chores.',
    classroomIntegration: 'Furniture worksheets anchor the most immediately demonstrable thematic unit in preschool because the classroom itself is the primary teaching tool \u2014 every spatial concept, counting activity, and classification exercise from a worksheet can be physically acted out using the tables, chairs, shelves, and rugs that children already interact with all day. Use the classroom furniture for live demonstrations alongside every worksheet: when children complete a spatial vocabulary page, have them physically show on, under, next to, and behind using the actual classroom table. Use furniture coloring pages as morning arrival activities, incorporate counting worksheets into a small-group math rotation where children count chairs, tables, and shelves in the room, and connect classification worksheets to a room-sorting activity where children organize furniture pictures into bedroom, kitchen, and classroom categories. A classroom furniture arrangement activity where children help decide where to place a new shelf or reading corner develops spatial planning and collaborative decision-making. The daily clean-up routine where children return items to their designated furniture locations provides authentic spatial vocabulary practice at every classroom transition.',
    assessmentRubric: [
      { skill: 'Furniture identification and vocabulary', emerging: 'names two or three common furniture items like chair and table from illustrations with teacher prompting', proficient: 'independently names eight or more furniture items, describes what each is used for, and identifies furniture found in specific rooms', advanced: 'names 12+ furniture items, categorizes them by room, and describes furniture using multiple attributes like the tall brown bookshelf in the reading corner' },
      { skill: 'Spatial vocabulary using furniture', emerging: 'demonstrates on and under using classroom furniture with teacher prompting', proficient: 'correctly uses four or more spatial terms like on, under, next to, and behind when describing positions relative to furniture and follows two-step spatial instructions', advanced: 'uses six or more spatial terms accurately, gives spatial directions to a partner, and describes the positions of multiple objects using complete sentences with positional vocabulary' },
      { skill: 'Furniture classification by room', emerging: 'sorts furniture into two room categories with teacher modeling like bedroom things and kitchen things', proficient: 'independently sorts furniture into three or more room categories with consistent accuracy and names the room for each item', advanced: 'sorts furniture by room and by function, explains why certain furniture belongs in certain rooms, and designs a simple room layout by selecting and placing appropriate furniture illustrations' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close preschool }, then 'kindergarten':
  // Uses a regex that handles both \n and \r\n
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'kindergarten':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected
  if (content.includes("uniqueGradeAngle: '") && content.indexOf("uniqueGradeAngle: '") < content.indexOf("'kindergarten':")) {
    console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in preschool section`);
    continue;
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 preschool fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
