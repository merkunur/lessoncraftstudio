/**
 * SEO Part 66: Enrich kindergarten grade for alphabet, animals, birds, birthday, body
 * Adds 6 grade-level enrichment fields to gradeContent.kindergarten for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Alphabet ─────────────────────────────────────────────────────────
  {
    name: 'alphabet',
    uniqueGradeAngle: 'Kindergarten is the most transformative stage for alphabet worksheets because five- and six-year-olds are crossing the threshold from letter awareness to genuine literacy \u2014 they are not just recognizing letters anymore but actively using them to decode words, encode sounds into writing, and unlock the entire system of written communication. Alphabet worksheets are uniquely powerful at the kindergarten level because children are developing the critical skill of letter-sound correspondence, moving from knowing that the shape A exists to understanding that it represents the sound /a/ heard at the beginning of apple, ant, and astronaut. This phonemic awareness breakthrough is the single most important predictor of reading success, and kindergarten is the year it either solidifies or stalls. Kindergarten alphabet worksheets combine uppercase and lowercase matching (connecting A to a), letter formation practice (proper stroke order and sizing on lined paper), beginning sound identification (which words start with the letter B), and early phonics (blending letter sounds into simple CVC words like cat, dog, and sun) into a comprehensive literacy foundation that preschool worksheets only hinted at. The writing dimension is especially critical at the kindergarten level because children are developing the fine motor control to form letters consistently on lined paper \u2014 a skill that requires hundreds of repetitions distributed across meaningful, engaging contexts rather than rote drilling.',
    developmentalMilestones: [
      { milestone: 'Letter-sound correspondence and phonemic awareness (kindergarteners are connecting letter shapes to their sounds for the first time)', howWeAddress: 'alphabet worksheets where children identify the beginning sound of pictured words, match letters to their sounds, and sort pictures by initial letter build the phonemic awareness that research identifies as the strongest single predictor of first-grade reading success' },
      { milestone: 'Uppercase and lowercase letter matching and writing (kindergarteners are learning that each letter has two forms and developing the fine motor skills to write both)', howWeAddress: 'alphabet worksheets where children trace, write, and match uppercase to lowercase letters build the letter recognition fluency and handwriting automaticity that free cognitive resources for higher-level reading and writing tasks' },
      { milestone: 'Early word building and CVC decoding (kindergarteners are beginning to blend individual letter sounds into simple words)', howWeAddress: 'alphabet worksheets where children sound out and write three-letter words like cat, pig, and sun build the decoding skills that transform letter knowledge into actual reading ability, bridging the gap between knowing letters and reading text' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on one letter family at a time (consonants that look different from each other like b, m, s, and t before introducing visually similar pairs like b and d or p and q), provide multi-sensory letter formation practice using sand trays, playdough, and finger tracing before pencil work, reduce phonemic awareness tasks to identifying beginning sounds only before introducing ending or medial sounds, and pair every worksheet with a physical object starting with the target letter. For advanced kindergarteners, introduce consonant blends and digraphs (sh, ch, th, bl, cr), challenge children to write complete simple sentences using known letter sounds, extend word building to four- and five-letter words, introduce sight word recognition alongside phonics-based decoding, and encourage invented spelling in journal writing where children apply their letter-sound knowledge independently.',
    parentTakeaway: 'Alphabet worksheets give kindergarten parents the most literacy-building tool available because this is the year your child transforms from someone who recognizes letters into someone who reads \u2014 and every letter-sound connection practiced on a worksheet brings them one step closer to the magical moment when squiggles on a page become words they can understand. The key strategy is to make letter sounds omnipresent: when you see a stop sign, say that starts with S and S says /s/; when you read a bedtime story, point to familiar letters and ask what sound does that make. Practice writing letters together on a whiteboard, in shaving cream on the table, or with a finger in the air \u2014 the more modalities you use, the more deeply the letter-sound connections stick. When your child can name all 26 letters in both cases, produce the sound each letter makes, and use those sounds to read simple three-letter words, they have achieved the foundational literacy milestone that makes all future reading possible.',
    classroomIntegration: 'Alphabet worksheets are the backbone of every kindergarten literacy block because letter-sound instruction is the single highest-priority academic skill of the kindergarten year. Integrate alphabet worksheets into a daily phonics rotation where each week focuses on one or two letters with a Monday introduction (letter name, sound, formation), Tuesday-Wednesday practice (worksheets, word sorts, writing), Thursday application (finding the letter in books and environmental print), and Friday assessment (quick letter-sound check). Connect alphabet worksheets to a classroom word wall where new words are added under their beginning letter as children learn each sound, creating a growing reference tool that children use during independent writing. Use letter formation worksheets during handwriting time with proper pencil grip instruction, integrate beginning sound worksheets into small-group guided reading instruction, and connect word-building worksheets to interactive writing where the class composes sentences together and children contribute the sounds they know. A letter of the week celebration where children bring an object starting with that letter creates a multisensory vocabulary connection.',
    assessmentRubric: [
      { skill: 'Letter-sound correspondence', emerging: 'produces the correct sound for 10-15 letters with some confusion between visually similar letters', proficient: 'produces the correct sound for all 26 letters, identifies the beginning sound of spoken words, and matches letters to beginning sounds in pictures', advanced: 'knows all letter sounds including short and long vowel sounds, identifies beginning, ending, and some medial sounds in words, and applies letter-sound knowledge to decode unfamiliar CVC words independently' },
      { skill: 'Letter formation and handwriting', emerging: 'writes 15-20 recognizable letters with inconsistent sizing and placement on lined paper', proficient: 'writes all 26 uppercase and lowercase letters legibly on lined paper with correct formation, consistent sizing, and appropriate spacing', advanced: 'writes all letters with automaticity, uses proper letter formation without visual models, and writes letters fluently enough to compose simple words and sentences without significant pausing' },
      { skill: 'Word building and early decoding', emerging: 'blends two sounds together with support and recognizes 3-5 sight words', proficient: 'blends three sounds to read CVC words like hat, pig, and bus, writes CVC words using letter sounds, and recognizes 15-20 sight words', advanced: 'reads and writes CVC words fluently, decodes words with consonant blends and digraphs, reads simple sentences, and recognizes 30+ sight words' },
    ],
  },

  // ── Animals ──────────────────────────────────────────────────────────
  {
    name: 'animals',
    uniqueGradeAngle: 'Kindergarten is the most scientifically curious stage for animal worksheets because five- and six-year-olds are moving beyond simple fascination with cute creatures into genuine inquiry about how animals live, what they eat, where they sleep, and how they are similar to and different from each other \u2014 this is the developmental moment when children begin thinking like scientists, asking why and how questions rather than just what is that. Animal worksheets are uniquely powerful at the kindergarten level because children are developing classification skills sophisticated enough to sort animals by habitat (forest, ocean, desert, farm), diet (herbivore, carnivore, omnivore), body covering (fur, feathers, scales, shells), and number of legs \u2014 moving well beyond the preschool-level ability to simply name animals into the more complex cognitive work of organizing knowledge into categories and drawing comparisons. The reading connection is especially significant at the kindergarten level because animal names and descriptions provide the most intrinsically motivating text for emerging readers \u2014 a child who is struggling to sound out abstract words will persevere through elephant and crocodile because they genuinely want to know about the animal, making animal worksheets the most literacy-supportive science content available.',
    developmentalMilestones: [
      { milestone: 'Multi-attribute animal classification (kindergarteners are developing the ability to sort organisms by multiple scientific criteria simultaneously)', howWeAddress: 'animal worksheets where children classify creatures by habitat, diet, body covering, and number of legs build the scientific classification thinking that underlies all biological reasoning, advancing well beyond the preschool skill of simply naming animals into the more sophisticated cognitive work of organizing knowledge systematically' },
      { milestone: 'Animal life cycles and basic biology (kindergarteners are developing the capacity to understand sequential biological processes)', howWeAddress: 'animal worksheets where children sequence the stages of a butterfly life cycle, a frog life cycle, or a chicken hatching process build the understanding that living things change and grow through predictable stages, introducing fundamental biological concepts through the most visually compelling organisms' },
      { milestone: 'Reading and writing with animal vocabulary (kindergarteners are applying emerging literacy skills to content-area learning)', howWeAddress: 'animal worksheets that require reading animal names, labeling animal body parts, and writing simple animal facts build literacy skills through content that children find genuinely fascinating, creating the strongest possible motivation to decode and encode text' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on ten familiar animals from two contrasting habitats (five farm animals and five ocean animals), provide picture support for all vocabulary, simplify classification to one attribute at a time (where does it live), and use animal figurines alongside worksheets for concrete manipulation; pair reading tasks with teacher read-alouds so that children hear animal names before being asked to decode them. For advanced kindergarteners, introduce twenty or more animals including less familiar species from diverse habitats, challenge children to classify by two attributes simultaneously (animals with fur that live in cold places versus animals with scales that live in water), extend writing tasks to complete sentences about animal facts, introduce food chains as a way to connect animals to each other, and encourage research projects where children choose an animal, find three facts, and present to the class.',
    parentTakeaway: 'Animal worksheets give kindergarten parents the most scientifically rich learning tool because your child is at the age where they are ready to move from I like dogs to dogs are mammals that have fur and four legs and eat meat \u2014 and this transition from preference to knowledge is exactly what scientific thinking looks like in its earliest form. The key strategy is to visit animals in real life whenever possible \u2014 zoos, farms, pet stores, nature walks, even watching birds at a feeder \u2014 and ask your child classification questions: what is covering its body, how many legs does it have, what do you think it eats, where does it live. These questions mirror the classification skills from worksheets and turn every animal encounter into a science lesson. When your child can name twenty animals, sort them by habitat and body covering, describe a life cycle from beginning to end, and write simple sentences about animal facts, they have built a scientific knowledge base that supports reading comprehension, classification thinking, and the curiosity-driven inquiry that makes learning feel like adventure.',
    classroomIntegration: 'Animal worksheets anchor the most scientifically comprehensive thematic unit in kindergarten because animals connect naturally to every curricular domain \u2014 science (habitats, life cycles, body coverings), math (counting legs, comparing sizes, graphing favorite animals), literacy (reading animal books, writing animal facts, labeling diagrams), and art (observational drawing, habitat dioramas). Integrate animal worksheets into a weekly science rotation where each week focuses on a different habitat \u2014 one week forest animals, the next ocean animals, then desert, farm, and Arctic \u2014 with classification worksheets that build a growing comparison chart on the classroom wall. Use animal vocabulary worksheets during literacy centers alongside leveled animal readers, incorporate counting and comparison worksheets into math centers where children graph and compare animal data, and connect life cycle worksheets to classroom observation of live organisms like caterpillars, tadpoles, or hatching chicks when possible. A classroom animal expert program where each child researches one animal and creates a poster with labeled illustrations combines research skills, writing practice, and scientific presentation.',
    assessmentRubric: [
      { skill: 'Animal classification by multiple attributes', emerging: 'sorts animals into two groups by one attribute like legs versus no legs with teacher support', proficient: 'independently classifies fifteen or more animals by habitat, body covering, and diet, and explains the sorting criteria using scientific vocabulary', advanced: 'classifies twenty or more animals by multiple simultaneous attributes, identifies exceptions and edge cases like a penguin is a bird but cannot fly, and creates original classification systems' },
      { skill: 'Animal life cycle understanding', emerging: 'identifies two stages of one animal life cycle with picture support', proficient: 'sequences the complete life cycle of two or more animals like butterfly and frog, and explains what happens at each stage using vocabulary like egg, larva, pupa, and adult', advanced: 'compares life cycles of different animals, explains similarities and differences, and connects life cycle stages to habitat and survival needs' },
      { skill: 'Reading and writing animal content', emerging: 'reads five or more animal names with picture support and copies animal labels', proficient: 'reads animal names and simple animal facts independently, writes animal names from memory, and labels animal body parts on diagrams', advanced: 'reads and comprehends short animal passages, writes three or more animal facts in complete sentences, and uses animal vocabulary in original writing' },
    ],
  },

  // ── Birds ────────────────────────────────────────────────────────────
  {
    name: 'birds',
    uniqueGradeAngle: 'Kindergarten is the most observationally rich stage for bird worksheets because five- and six-year-olds are developing the focused attention span and descriptive vocabulary needed to observe birds carefully, notice distinguishing features like beak shape, feather color, and wing pattern, and record their observations through drawing and writing \u2014 skills that transform casual bird-watching into genuine scientific observation. Bird worksheets are uniquely powerful at the kindergarten level because children can now engage with classification concepts sophisticated enough to distinguish birds by habitat (forest birds, water birds, backyard birds), diet (seed-eaters with short beaks versus fish-eaters with long beaks), and behavior (birds that migrate versus birds that stay year-round), moving beyond the preschool ability to simply say bird into the scientific literacy of identifying types of birds and explaining their adaptations. The real-world observation dimension is uniquely accessible at the kindergarten level because birds are the most easily observable wild animals in every environment \u2014 a classroom window, a schoolyard, or a park provides enough bird activity for weeks of authentic scientific inquiry that connects worksheet learning to lived experience.',
    developmentalMilestones: [
      { milestone: 'Bird identification and feature vocabulary (kindergarteners are developing the observational precision to notice and name specific physical features)', howWeAddress: 'bird worksheets where children identify and label beaks, wings, feathers, talons, and tails using descriptive vocabulary like long, curved, pointed, and flat build the scientific observation skills and anatomical vocabulary that support all later biological study' },
      { milestone: 'Bird classification by habitat, diet, and behavior (kindergarteners are developing multi-attribute classification skills)', howWeAddress: 'bird worksheets where children sort birds into categories like water birds versus land birds, seed-eaters versus meat-eaters, and migratory versus resident build the classification thinking that connects physical features to function and environment, teaching children that body parts have purposes' },
      { milestone: 'Recording bird observations through drawing and writing (kindergarteners are developing the literacy and fine motor skills to document scientific observations)', howWeAddress: 'bird worksheets where children draw birds they observe, label body parts, and write simple observation sentences build the science journaling skills that connect observation to documentation, a foundational practice in all scientific disciplines' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five easily distinguishable birds (robin, duck, eagle, penguin, parrot) with dramatically different appearances, simplify classification to two categories (birds that swim versus birds that fly), provide photograph reference cards alongside worksheets, and reduce writing tasks to single-word labels with teacher support. For advanced kindergarteners, introduce twelve or more bird species including regional varieties, challenge children to explain why specific beak shapes match specific diets (a heron has a long beak to catch fish in water), extend writing to multi-sentence observation reports, introduce migration concepts with map-based activities showing seasonal movement patterns, and encourage a bird-watching journal where children record daily observations from the classroom window with date, species, and behavior notes.',
    parentTakeaway: 'Bird worksheets give kindergarten parents the most accessible nature science tool because birds are everywhere \u2014 in your yard, at the park, outside your window, on your walk to school \u2014 and your kindergartener is now old enough to observe them carefully, describe what they see, and wonder about why birds look and behave the way they do. The key strategy is to install a simple bird feeder near a window and make bird-watching a daily family routine: what kind of bird is that, what color are its feathers, what shape is its beak, what is it eating. These observation questions mirror the classification skills from worksheets and build the scientific habit of noticing details, asking questions, and seeking explanations. When your child can identify ten birds by name, describe their physical features, explain why different beaks are shaped differently, and write a simple observation sentence about a bird they watched, they have developed genuine scientific observation skills through the most universally accessible wildlife available.',
    classroomIntegration: 'Bird worksheets anchor the most observationally authentic science unit in kindergarten because birds can be studied in real time through classroom windows, schoolyard observations, and simple bird feeders \u2014 no field trip required. Set up a classroom bird observation station near a window with binoculars, a bird identification chart, and a class observation log where children record the birds they see each day. Use bird identification worksheets during science centers, incorporate feather and beak comparison worksheets into a classification rotation, and connect drawing worksheets to an observational art lesson where children sketch a bird from a photograph or live observation. A weekly bird spotlight where the class learns about one featured species through a worksheet, a read-aloud, and a video clip builds sustained ornithological knowledge. A class bird count where children tally birds seen during outdoor time each week creates authentic data for math graphing activities. A nest-building engineering challenge where children attempt to build a nest from natural materials connects bird study to engineering and habitat concepts.',
    assessmentRubric: [
      { skill: 'Bird identification and feature vocabulary', emerging: 'names three or four common birds and identifies one body part like wings with teacher prompting', proficient: 'names ten or more birds, labels five body parts on a bird diagram including beak, wings, feathers, talons, and tail, and describes physical features using size, color, and shape vocabulary', advanced: 'names fifteen or more birds including regional species, explains how specific features serve specific functions like talons for gripping prey, and compares body features across species' },
      { skill: 'Bird classification', emerging: 'sorts birds into two groups by one obvious attribute like big and small with teacher modeling', proficient: 'independently classifies birds by habitat, diet, or behavior, and explains why each bird belongs in its category using evidence from physical features', advanced: 'classifies by multiple attributes simultaneously, identifies adaptations that connect physical features to environment like webbed feet for swimming, and explains migration as a seasonal behavior pattern' },
      { skill: 'Bird observation and documentation', emerging: 'draws a recognizable bird with basic features and copies one label with teacher support', proficient: 'draws a detailed bird from observation with labeled body parts, writes two or more observation sentences, and records date and species in a bird log', advanced: 'draws birds with accurate proportional features and field marks, writes detailed observation paragraphs including behavior, and maintains a personal bird journal with dates, species, locations, and weather conditions' },
    ],
  },

  // ── Birthday ─────────────────────────────────────────────────────────
  {
    name: 'birthday',
    uniqueGradeAngle: 'Kindergarten is the most socially celebratory stage for birthday worksheets because five- and six-year-olds understand birthdays as deeply meaningful personal events with social dimensions \u2014 they know their own birthday, they care about their friends\u2019 birthdays, and they understand that birthdays mark getting older, which is intensely important to children who are proud of being five or six. Birthday worksheets are uniquely powerful at the kindergarten level because children can now engage with genuine math concepts through birthday contexts \u2014 counting candles and connecting that count to age (a skill requiring one-to-one correspondence plus cardinality understanding), comparing ages (who is older, who is younger), sequencing months and understanding where their birthday falls in the calendar year, and even simple addition and subtraction with party elements (if you invite five friends and two more come, how many children are at the party). The calendar and time dimension is especially significant at the kindergarten level because children are learning to understand months, seasons, and the concept of a year \u2014 and birthdays provide the most personally motivating context for engaging with these abstract temporal concepts because every child urgently wants to know how many months until their birthday.',
    developmentalMilestones: [
      { milestone: 'Birthday math with counting, comparing, and simple operations (kindergarteners are developing cardinality understanding and beginning addition and subtraction)', howWeAddress: 'birthday worksheets where children count candles matching their age, compare ages to determine who is older or younger, and solve simple party math problems like six cupcakes minus two eaten equals four remaining build foundational arithmetic through the most personally meaningful number context available because every child knows exactly how old they are' },
      { milestone: 'Calendar skills and month sequencing through birthday placement (kindergarteners are developing understanding of the calendar year and temporal sequences)', howWeAddress: 'birthday worksheets where children identify their birth month, sequence the twelve months, and count the months until their next birthday build calendar literacy and temporal reasoning through the most intrinsically motivating time concept because children care desperately about when their birthday arrives' },
      { milestone: 'Party planning as applied literacy and social skills (kindergarteners are developing functional writing skills and social awareness)', howWeAddress: 'birthday worksheets where children write party invitations, create guest lists, and plan party activities build real-world writing purposes and social planning skills through a context where writing has an immediate, exciting application that children understand intuitively' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on counting candles to match a given age (concrete one-to-one correspondence), limit calendar work to identifying the current month and their birthday month without requiring full month sequencing, simplify party math to addition within five using manipulatives (three presents plus two more presents), and provide sentence frames for invitation writing (you are invited to my party on ___). For advanced kindergarteners, extend math to two-digit birthday dates (my birthday is on the 23rd \u2014 what number is that), challenge children to calculate the number of months or days until their birthday, introduce elapsed time concepts (the party starts at 2 and ends at 4 \u2014 how long is the party), extend writing to complete party invitations with date, time, location, and RSVP information, and encourage comparative discussions about birthday traditions in different cultures.',
    parentTakeaway: 'Birthday worksheets give kindergarten parents the most mathematically rich celebration tool because your child\u2019s birthday is not just a party \u2014 it is a math lesson hiding in plain sight. Every birthday involves counting (how many candles, how many guests, how many presents), calendar skills (what month is your birthday, how many months until it arrives), and even early arithmetic (if you invite six friends and three say yes, how many are coming). The key strategy is to involve your child in genuine birthday planning: let them count candles, help write invitations (practicing letter formation with a real purpose), create a guest list (list-making is an organizational skill), and calculate party supplies (we need one plate for each guest \u2014 how many plates should we buy). When your child can count to their age, identify their birth month in the calendar, calculate simple party arithmetic, and write a basic invitation, they have practiced counting, calendar skills, addition, and functional writing through the event they care about most in the entire year.',
    classroomIntegration: 'Birthday worksheets integrate naturally into the kindergarten classroom through the birthday celebrations that already happen throughout the year \u2014 every child\u2019s birthday is an opportunity to practice counting, calendar skills, and writing. Create a classroom birthday display where children\u2019s birthdays are plotted on a twelve-month timeline, providing a year-long visual reference for month sequencing and calendar concepts. Use birthday counting worksheets during math centers on or near each child\u2019s birthday celebration, incorporate month-sequencing worksheets into the daily calendar routine, and connect invitation-writing worksheets to a literacy center where children practice functional writing. A monthly birthday graph where children sort themselves by birth month creates authentic data analysis opportunities \u2014 which month has the most birthdays, how many more children were born in September than in April. A birthday book where each child creates a page about their birthday with their age, birth month, favorite party activity, and a self-portrait builds a class community artifact that practices writing, counting, and self-expression.',
    assessmentRubric: [
      { skill: 'Birthday counting and arithmetic', emerging: 'counts candles to match a given age up to 6 with one-to-one correspondence and recognizes their own age as a number', proficient: 'counts accurately to 10+ in birthday contexts, compares ages using older and younger, and solves simple addition and subtraction party problems within 10 using objects or drawings', advanced: 'works with two-digit birthday dates, solves multi-step party problems like 8 guests each need 2 cupcakes so we need 16 cupcakes, and explains mathematical reasoning using birthday vocabulary' },
      { skill: 'Calendar and month skills', emerging: 'identifies their own birth month when shown a calendar and names two or three months', proficient: 'names all twelve months in order, identifies their birth month and the current month, and counts months between the current month and their birthday', advanced: 'places dates on a calendar independently, calculates elapsed time in months and weeks, and compares multiple classmates\u2019 birthdays by month using the classroom birthday display' },
      { skill: 'Party invitation and functional writing', emerging: 'writes their name and one or two words on an invitation template with teacher support', proficient: 'writes a complete simple invitation including the recipient name, party date, and their own name, using phonetic spelling for unknown words', advanced: 'writes detailed invitations with date, time, location, and activity information, uses conventional spelling for common words, and writes in complete sentences with appropriate punctuation' },
    ],
  },

  // ── Body ─────────────────────────────────────────────────────────────
  {
    name: 'body',
    uniqueGradeAngle: 'Kindergarten is the most body-aware and health-conscious stage for body worksheets because five- and six-year-olds are developing a sophisticated understanding of their own bodies \u2014 they know that their heart beats faster when they run, that muscles get stronger with exercise, that food gives them energy, and that sleep helps them grow, moving well beyond the preschool ability to simply name body parts into a genuine understanding of how the body works as a system. Body worksheets are uniquely powerful at the kindergarten level because children can now engage with internal anatomy (the heart pumps blood, the lungs breathe air, the stomach digests food, the brain thinks and controls movement), the five senses in scientific detail (each sense organ has a specific function and sends information to the brain), and health habits with causal reasoning (I brush my teeth because bacteria cause cavities, I wash my hands because germs can make me sick). The personal health responsibility dimension is especially significant at the kindergarten level because children are developing the independence to make their own hygiene and health choices \u2014 and understanding why these habits matter transforms compliance into genuine self-care motivation.',
    developmentalMilestones: [
      { milestone: 'Internal body systems and organ function (kindergarteners are developing the cognitive capacity to understand that invisible internal organs perform essential functions)', howWeAddress: 'body worksheets where children locate, name, and describe the function of the heart, lungs, brain, stomach, and bones build the foundational anatomy knowledge that supports all later health and science education, teaching children that their body is a complex system of interconnected parts working together' },
      { milestone: 'Five senses with scientific precision and experimental thinking (kindergarteners are developing the ability to connect sense organs to their specific functions and design simple observations)', howWeAddress: 'body worksheets where children identify which sense organ is responsible for each type of sensory information and describe observations using all five senses build scientific observation skills and sensory vocabulary that supports all descriptive writing and experimental thinking' },
      { milestone: 'Health habits with causal reasoning and personal responsibility (kindergarteners are developing the independence and reasoning ability to understand why health habits matter)', howWeAddress: 'body worksheets where children explain why they brush their teeth, wash their hands, eat vegetables, exercise, and sleep build the causal reasoning that transforms health rules from arbitrary adult commands into personally motivated self-care practices' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five major external body parts and three internal organs (heart, lungs, brain), use a life-sized body outline on the classroom floor where children can physically place organ cutouts, simplify health habits to three daily routines (brush teeth, wash hands, eat fruits and vegetables) with picture sequence cards, and provide sentence starters for writing about body functions (my heart helps me by ___). For advanced kindergarteners, introduce the skeletal and muscular systems, challenge children to explain how two body systems work together (lungs breathe in air and the heart pumps it through the body), extend health literacy to nutrition labels and food group classification, encourage writing detailed paragraphs about how one body system works, and introduce the concept of exercise affecting multiple body systems simultaneously (running makes your heart beat faster, your lungs breathe harder, and your muscles work more).',
    parentTakeaway: 'Body worksheets give kindergarten parents the most health-empowering learning tool because your child is at the perfect age to understand not just what to do but why \u2014 and a child who knows that brushing removes bacteria that cause cavities will brush more willingly than one who is simply told to brush because I said so. The key strategy is to narrate body functions during daily life: when your child runs and gets out of breath, explain that their lungs are working harder to get more air and their heart is pumping faster to send oxygen to their muscles; when they eat dinner, explain that their stomach is breaking food into tiny pieces their body can use for energy. Make health habits scientific rather than authoritarian: we wash our hands because soap removes germs that are too small to see, and germs can make us sick. When your child can name major internal organs, explain what each one does, describe the five senses and their organs, and articulate why health habits matter using cause-and-effect reasoning, they have built the body literacy that transforms health from a set of rules into a personal understanding of how to take care of themselves.',
    classroomIntegration: 'Body worksheets anchor the most personally relevant science unit in kindergarten because every child has a body, and every body concept can be experienced directly through movement, observation, and self-reflection. Create a life-sized body outline display where children add organs, labels, and function descriptions as each system is studied, building a growing anatomical reference throughout the unit. Use body part labeling worksheets during science centers with a model torso or anatomical poster, incorporate five senses worksheets into a sensory exploration rotation where children taste, touch, smell, listen, and observe while recording their experiences, and connect health habit worksheets to the classroom daily routine so that handwashing, healthy snack time, and exercise breaks become explicit teaching moments. A body system of the week focus with a Monday introduction, daily worksheets and activities, and a Friday demonstration (feel your heartbeat before and after jumping jacks) provides sustained, experiential learning. A class health pledge where children commit to specific health habits and track them with a daily checklist builds personal responsibility and data-collection skills simultaneously.',
    assessmentRubric: [
      { skill: 'Internal organ identification and function', emerging: 'names and locates two or three internal organs like heart and brain on a body diagram with teacher prompting', proficient: 'names and locates five major organs including heart, lungs, brain, stomach, and bones, and describes what each one does using simple sentences', advanced: 'explains how two or more organs work together as a system, describes what happens to organs during exercise or eating, and uses anatomical vocabulary in detailed explanations' },
      { skill: 'Five senses and sensory observation', emerging: 'names three or four senses and matches them to the correct body part with teacher support', proficient: 'names all five senses, identifies the organ responsible for each, describes objects using all five senses, and explains that the brain receives information from all sense organs', advanced: 'designs simple sensory experiments like a blindfolded taste test, records sensory observations using descriptive vocabulary in writing, and explains how senses work together to provide information about the environment' },
      { skill: 'Health habits with causal reasoning', emerging: 'names two or three health habits like brushing teeth and washing hands but explains them as rules rather than reasons', proficient: 'names five or more health habits, explains why each one matters using cause-and-effect reasoning like I wash my hands because germs can make me sick, and demonstrates health habits independently in the classroom', advanced: 'explains health habits using detailed biological reasoning, connects multiple habits to body systems like exercise helps my heart and lungs and muscles, and creates health advice for others using persuasive reasoning' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close kindergarten }, then 'first-grade':
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'first-grade':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected - look for uniqueGradeAngle between 'kindergarten': and 'first-grade':
  const kIdx = content.indexOf("'kindergarten':");
  const fgIdx = content.indexOf("'first-grade':");
  if (kIdx !== -1 && fgIdx !== -1) {
    const kindergartenSection = content.substring(kIdx, fgIdx);
    if (kindergartenSection.includes("uniqueGradeAngle:")) {
      console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in kindergarten section`);
      continue;
    }
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 kindergarten fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
