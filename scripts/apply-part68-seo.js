/**
 * SEO Part 68: Enrich kindergarten grade for cooking, dinosaurs, easter, emotions, fairy-tales
 * Adds 6 grade-level enrichment fields to gradeContent.kindergarten for each theme.
 * Fields: uniqueGradeAngle, developmentalMilestones, differentiationNotes,
 *         parentTakeaway, classroomIntegration, assessmentRubric
 */
const fs = require('fs');
const path = require('path');

const BASE = path.join(__dirname, '..', 'frontend', 'content', 'themes');

// Escape single quotes for TS single-quoted strings
function esc(s) {
  return s.replace(/'/g, "\\'");
}

function buildInjection(data, nl) {
  const lines = [];
  lines.push(`      uniqueGradeAngle: '${esc(data.uniqueGradeAngle)}',`);
  lines.push(`      developmentalMilestones: [`);
  for (const m of data.developmentalMilestones) {
    lines.push(`        { milestone: '${esc(m.milestone)}', howWeAddress: '${esc(m.howWeAddress)}' },`);
  }
  lines.push(`      ],`);
  lines.push(`      differentiationNotes: '${esc(data.differentiationNotes)}',`);
  lines.push(`      parentTakeaway: '${esc(data.parentTakeaway)}',`);
  lines.push(`      classroomIntegration: '${esc(data.classroomIntegration)}',`);
  lines.push(`      assessmentRubric: [`);
  for (const r of data.assessmentRubric) {
    lines.push(`        { skill: '${esc(r.skill)}', emerging: '${esc(r.emerging)}', proficient: '${esc(r.proficient)}', advanced: '${esc(r.advanced)}' },`);
  }
  lines.push(`      ],`);
  return lines.join(nl);
}

// ── Theme content ────────────────────────────────────────────────────────

const themes = [
  // ── Cooking ──────────────────────────────────────────────────────────
  {
    name: 'cooking',
    uniqueGradeAngle: 'Kindergarten is the most culinarily capable stage for cooking worksheets because five- and six-year-olds are developing the fine motor precision, sequential thinking, and measurement understanding to participate meaningfully in real cooking \u2014 they can follow multi-step recipes, measure ingredients using cups and spoons, stir, pour, and spread with control, and understand cause-and-effect transformations like batter becoming cake and liquid becoming ice. Cooking worksheets are uniquely powerful at the kindergarten level because children can now engage with measurement and math through authentic kitchen contexts (counting eggs, measuring cups of flour, doubling a recipe for more servings), sequencing and procedural thinking (following recipe steps in the correct order, understanding that some steps must happen before others), reading through functional literacy (reading recipe names, ingredient lists, and simple instructions), and science through transformation observation (what happens when you heat, freeze, mix, or bake ingredients). The nutritional awareness dimension is especially significant at the kindergarten level because children are developing the understanding that food choices affect health and energy \u2014 and cooking worksheets that connect ingredients to food groups and meals to nutrition build the health literacy that transforms eating from a passive habit into an informed personal choice.',
    developmentalMilestones: [
      { milestone: 'Kitchen measurement and cooking math (kindergarteners are developing the mathematical reasoning to measure, count, and calculate in practical contexts)', howWeAddress: 'cooking worksheets where children measure ingredients using cups and spoons, count items in a recipe, compare quantities like more flour than sugar, and solve simple problems like how many cookies each person gets if we share equally build authentic math fluency through the most deliciously motivating context available' },
      { milestone: 'Recipe sequencing and procedural literacy (kindergarteners are developing the ability to follow and understand multi-step procedures)', howWeAddress: 'cooking worksheets where children sequence recipe steps from first to last, identify what happens if steps are done out of order, and read simple recipe instructions build the procedural thinking and sequential reasoning that underlie all instruction-following across academic and life domains' },
      { milestone: 'Food science and nutritional awareness (kindergarteners are developing the causal reasoning to understand how cooking transforms ingredients and how food affects health)', howWeAddress: 'cooking worksheets where children identify ingredients before and after cooking, sort foods into food groups, and explain why certain foods give energy or help you grow build the scientific observation and health literacy that connect kitchen experiences to biology and nutrition' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five familiar foods and three simple recipe steps, use real kitchen tools alongside worksheets for tactile connection, simplify measurement to full cups and whole items rather than fractions, provide picture-based recipe cards with minimal text, and pair every worksheet with an actual no-cook recipe activity like spreading peanut butter on crackers or mixing fruit salad. For advanced kindergarteners, introduce fractional measurements like half a cup and a quarter teaspoon, challenge children to write their own simple recipes with ingredient lists and numbered steps, extend food science to experiments like what dissolves in water and what happens to bread in a toaster, introduce comparative nutrition where children plan a balanced meal from all food groups, and encourage a class cookbook project where each child contributes a favorite family recipe with illustrations.',
    parentTakeaway: 'Cooking worksheets give kindergarten parents the most deliciously practical learning tool because every meal you make together is a math, reading, and science lesson disguised as family time \u2014 and your kindergartener is finally old enough to be a genuine helper in the kitchen rather than a bystander. The key strategy is to cook together at least once a week using a simple recipe your child can follow: let them measure the flour (math), read the recipe steps aloud (literacy), observe what happens when ingredients mix or bake (science), and count out portions for the family (division). The satisfaction of eating something they helped create builds confidence, independence, and a positive relationship with food. When your child can measure ingredients using cups and spoons, follow a five-step recipe in the correct order, name ten common ingredients and the food group each belongs to, and explain what happens when food is heated or cooled, they have practiced math, sequencing, vocabulary, and science through the most nourishing and family-bonding activity available.',
    classroomIntegration: 'Cooking worksheets anchor the most multisensory and practically applicable life-skills unit in kindergarten because cooking integrates math (measurement, counting, fractions), literacy (recipe reading, vocabulary, procedural writing), science (transformations, states of matter, nutrition), and social skills (sharing, turn-taking, collaborative work). Set up a classroom cooking center with play kitchen tools, empty ingredient containers, and recipe cards that children use during dramatic play to practice vocabulary and sequencing from worksheets. Use measurement worksheets during math centers with real measuring cups and dry rice or beans for hands-on practice, incorporate recipe-reading worksheets into literacy centers, and connect food group sorting worksheets to a weekly healthy snack discussion. A monthly classroom cooking activity where children follow a simple no-cook recipe together \u2014 making trail mix, fruit kabobs, or sandwiches \u2014 brings worksheet concepts to life through direct experience. A class recipe book where each child illustrates and dictates a family recipe builds community, cultural awareness, and procedural writing skills.',
    assessmentRubric: [
      { skill: 'Kitchen measurement and cooking math', emerging: 'counts three or four ingredients and identifies a measuring cup with teacher prompting', proficient: 'measures ingredients using cups and spoons accurately, counts items in a recipe, compares quantities of different ingredients, and solves simple sharing problems like dividing six cookies among three people', advanced: 'works with half and quarter measurements, doubles or halves a simple recipe, and explains measurement reasoning using vocabulary like more than, less than, and equal' },
      { skill: 'Recipe sequencing and procedural literacy', emerging: 'orders two or three recipe steps with picture support and teacher guidance', proficient: 'sequences five or more recipe steps in correct order, explains why order matters using examples like you must mix before you bake, and reads simple recipe instructions with familiar words', advanced: 'writes original recipes with numbered steps and ingredient lists, identifies errors in out-of-order recipe sequences, and explains procedural logic using vocabulary like first, next, then, and finally' },
      { skill: 'Food science and nutrition', emerging: 'names three or four foods and identifies one food group like fruits with teacher support', proficient: 'sorts ten or more foods into food groups, explains one cooking transformation like heat melts butter, and describes why certain foods are healthy using simple reasoning', advanced: 'plans a balanced meal from all food groups with explanation, describes multiple cooking transformations using cause-and-effect vocabulary, and explains how different nutrients help the body in specific ways' },
    ],
  },

  // ── Dinosaurs ────────────────────────────────────────────────────────
  {
    name: 'dinosaurs',
    uniqueGradeAngle: 'Kindergarten is the most paleontologically passionate stage for dinosaur worksheets because five- and six-year-olds are developing the scientific vocabulary, classification skills, and temporal reasoning to engage with dinosaurs not just as cool monsters but as real animals that lived millions of years ago \u2014 they can learn and pronounce multi-syllable scientific names like Tyrannosaurus Rex and Triceratops, classify dinosaurs by diet (herbivore, carnivore, omnivore) and physical features (horns, plates, claws), and begin to grasp the astonishing concept that these creatures existed long before any human was born. Dinosaur worksheets are uniquely powerful at the kindergarten level because children can now engage with scientific classification using real paleontological criteria (sorting by diet, body covering, size, and habitat), measurement and comparison through dramatic size contrasts (a Brachiosaurus was taller than a building, a Compsognathus was the size of a chicken), reading and writing through the most intrinsically motivating vocabulary in all of science (children will persevere through decoding dinosaur names that would otherwise be impossibly challenging), and temporal concepts through geological time (understanding that millions of years ago is vastly longer than yesterday or last year). The scientific naming dimension is especially significant at the kindergarten level because dinosaur names are the first genuine scientific vocabulary most children learn \u2014 and the pride of mastering words like Stegosaurus and Pachycephalosaurus builds the confidence to tackle complex academic language across all subjects.',
    developmentalMilestones: [
      { milestone: 'Dinosaur classification by diet, features, and habitat (kindergarteners are developing multi-attribute scientific classification skills)', howWeAddress: 'dinosaur worksheets where children sort dinosaurs into herbivores, carnivores, and omnivores, identify physical features like horns, plates, spikes, and claws, and compare dinosaurs by size and habitat build the scientific classification thinking that organizes biological knowledge systematically, practiced through the most passionately motivating organisms children ever encounter' },
      { milestone: 'Size comparison, measurement, and mathematical thinking with dinosaurs (kindergarteners are developing the ability to compare quantities and understand relative scale)', howWeAddress: 'dinosaur worksheets where children compare dinosaur heights and lengths, order dinosaurs from smallest to largest, and use non-standard units to estimate how many children would equal the length of a dinosaur build measurement and comparison skills through the most dramatically scaled contrasts available, because the difference between a tiny Velociraptor and a massive Argentinosaurus makes mathematical comparison genuinely exciting' },
      { milestone: 'Scientific vocabulary and paleontology literacy (kindergarteners are developing the reading persistence and pride to master complex scientific terminology)', howWeAddress: 'dinosaur worksheets where children read, write, and spell dinosaur names, label dinosaur body parts on diagrams, and write simple dinosaur facts build scientific literacy through vocabulary that children are intrinsically driven to master because knowing dinosaur names carries enormous social currency among peers' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five well-known dinosaurs (T-Rex, Triceratops, Stegosaurus, Brachiosaurus, Pteranodon) with clear photographs or realistic illustrations, simplify classification to two categories (meat-eaters versus plant-eaters), reduce name-writing to tracing with dotted letters, use dinosaur figurines alongside worksheets for concrete manipulation, and provide size comparison using familiar objects (this dinosaur was as tall as your house). For advanced kindergarteners, introduce ten or more dinosaurs including lesser-known species, challenge children to classify by three attributes simultaneously (large carnivores with sharp teeth versus small herbivores with beak-like mouths), extend writing to multi-sentence dinosaur fact reports, introduce the concept of fossils and how scientists learn about extinct animals, and encourage a dinosaur research project where children choose a species, find three facts, and present to the class with illustrations.',
    parentTakeaway: 'Dinosaur worksheets give kindergarten parents the most scientifically powerful learning tool because your child\u2019s dinosaur obsession is not just a phase \u2014 it is the first genuine scientific passion most children experience, and channeling that passion into classification, measurement, and vocabulary builds the scientific thinking habits that persist long after the dinosaur phase ends. The key strategy is to feed the obsession with real science: visit a natural history museum and find the dinosaurs from worksheets, read nonfiction dinosaur books that use scientific vocabulary, measure dinosaur lengths in your backyard using a tape measure (a T-Rex was about 12 meters \u2014 let us see how far that is), and ask classification questions like was Triceratops an herbivore or a carnivore, and how do you know. When your child can name fifteen dinosaurs and classify each by diet, compare dinosaur sizes using measurement vocabulary, explain how fossils tell us about animals that no longer exist, and write simple facts about their favorite species, they have built the classification, measurement, vocabulary, and scientific reasoning skills that transform a childhood fascination into genuine scientific literacy.',
    classroomIntegration: 'Dinosaur worksheets anchor the most passionately engaging science unit in kindergarten because no other topic generates the same level of sustained enthusiasm, voluntary vocabulary acquisition, and genuine scientific curiosity. Create a classroom paleontology museum with dinosaur figurines, fossils or fossil replicas, and information cards that children reference during science centers. Use dinosaur classification worksheets during science rotations where children sort figurines alongside worksheet activities, incorporate dinosaur measurement worksheets into math centers where children compare lengths using classroom objects (this dinosaur was as long as five desks), and connect dinosaur vocabulary worksheets to a word wall where scientific names are displayed with illustrations and pronunciation guides. A weekly dinosaur spotlight where the class learns about one featured species through a worksheet, a read-aloud, and a video clip builds sustained paleontological knowledge. A class dinosaur encyclopedia where each child contributes a page about a different species creates a collaborative reference book that practices research, writing, and illustration. A fossil dig simulation using sand tables and hidden plastic bones connects worksheets to hands-on archaeological experience.',
    assessmentRubric: [
      { skill: 'Dinosaur classification', emerging: 'names three or four dinosaurs and sorts them into two groups like big and small with teacher prompting', proficient: 'names ten or more dinosaurs, classifies them by diet as herbivore, carnivore, or omnivore, identifies distinguishing physical features, and explains classification reasoning', advanced: 'classifies by multiple attributes simultaneously, compares dinosaurs across categories, explains how physical features connect to diet and habitat, and identifies dinosaur groups like theropods and sauropods' },
      { skill: 'Dinosaur measurement and comparison', emerging: 'compares two dinosaurs as bigger or smaller using pictures with teacher guidance', proficient: 'orders five or more dinosaurs by size, uses non-standard measurement to estimate dinosaur lengths, and compares dinosaur sizes to familiar objects using vocabulary like taller than, longer than, and heavier than', advanced: 'uses standard measurement units to describe dinosaur dimensions, creates scale comparisons, and explains relative size using mathematical vocabulary and numerical reasoning' },
      { skill: 'Dinosaur vocabulary and scientific literacy', emerging: 'names four or five dinosaurs from pictures and traces one dinosaur name with letter support', proficient: 'reads and writes ten or more dinosaur names, labels five body parts on a dinosaur diagram, and writes two or more dinosaur facts in simple sentences', advanced: 'reads dinosaur passages with scientific vocabulary, writes detailed dinosaur fact reports with multiple sentences, uses scientific terminology like fossil, extinct, herbivore, and carnivore accurately, and explains how scientists learn about dinosaurs' },
    ],
  },

  // ── Easter ───────────────────────────────────────────────────────────
  {
    name: 'easter',
    uniqueGradeAngle: 'Kindergarten is the most joyfully spring-themed stage for Easter worksheets because five- and six-year-olds can engage with Easter as both a seasonal celebration and an academic springboard \u2014 they understand egg hunts as counting and spatial reasoning challenges, spring imagery as a science context for learning about new life and seasonal change, and pattern-making through the elaborate decoration of eggs and baskets. Easter worksheets are uniquely powerful at the kindergarten level because children can now engage with counting and arithmetic through egg-hunt scenarios (how many eggs did you find, how many more do you need to reach ten), pattern creation and recognition through egg decorating (designing repeating stripe, dot, and zigzag patterns on eggs), spring science vocabulary (hatching, growing, blooming, nesting), and fine motor precision through the detailed coloring and decorating that egg and basket designs require. The pattern design dimension is especially significant at the kindergarten level because decorating Easter eggs is one of the most naturally pattern-rich activities children encounter \u2014 every egg becomes a canvas for repeating sequences of colors, shapes, and lines, making Easter worksheets a uniquely powerful vehicle for mathematical pattern thinking disguised as festive art.',
    developmentalMilestones: [
      { milestone: 'Egg-hunt math with counting, addition, and comparison (kindergarteners are applying arithmetic skills to the most exciting seasonal treasure hunt)', howWeAddress: 'Easter worksheets where children count eggs in baskets, solve addition problems like I found four eggs then three more, compare collections using more than and fewer than vocabulary, and distribute eggs equally among baskets build math fluency through the inherently motivating context of finding and collecting treasured objects' },
      { milestone: 'Pattern creation and recognition through egg decoration (kindergarteners are developing the ability to identify, extend, and create complex repeating patterns)', howWeAddress: 'Easter worksheets where children design decorated eggs using repeating color and shape patterns, identify the pattern rule, and extend partial patterns build the mathematical pattern thinking that underlies all algebraic reasoning, practiced through the most artistically satisfying seasonal craft' },
      { milestone: 'Spring science vocabulary and seasonal awareness (kindergarteners are developing understanding of seasonal change and new life cycles)', howWeAddress: 'Easter worksheets that introduce vocabulary like hatching, sprouting, blooming, and nesting, connect spring imagery to plant and animal life cycles, and explore how weather changes from winter to spring build the seasonal science vocabulary that connects holiday celebration to genuine environmental observation' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on counting eggs to ten with concrete manipulatives like plastic eggs, simplify pattern work to simple AB patterns with two alternating colors, reduce spring vocabulary to five core words (egg, bunny, chick, flower, basket) with picture support, and use large-format egg outlines for coloring that accommodate developing fine motor control. For advanced kindergarteners, extend counting and arithmetic to two-digit egg-hunt scenarios with multi-step problems, challenge children to create complex ABBC and ABCD patterns on egg designs, introduce spring science investigations like planting seeds and tracking growth, extend writing to multi-sentence spring stories or egg-hunt narratives, and encourage a comparative project exploring how different cultures celebrate spring with specific traditions and vocabulary.',
    parentTakeaway: 'Easter worksheets give kindergarten parents the most festively mathematical learning tool because every Easter tradition is a math and science lesson waiting to happen \u2014 counting eggs builds arithmetic, decorating them builds pattern recognition, hunting for them builds spatial reasoning, and watching chicks hatch or flowers bloom builds scientific observation. The key strategy is to make Easter activities intentionally educational: when decorating eggs, discuss the pattern your child is creating (you are alternating blue and yellow \u2014 that is an AB pattern); during an egg hunt, count the collection and compare (you found seven and your sister found five \u2014 who found more and by how many); plant seeds together and observe daily changes to connect spring themes to real science. When your child can count collected items to twenty, create and describe a repeating pattern on a decorated egg, use spring vocabulary like hatching, sprouting, and blooming in conversation, and compare quantities using mathematical language, they have practiced counting, patterns, vocabulary, and observation through the most colorful spring celebration of the year.',
    classroomIntegration: 'Easter worksheets integrate naturally into the kindergarten spring curriculum because the season provides rich connections to math (counting, patterns, addition), science (life cycles, seasonal change, plant growth), literacy (spring vocabulary, descriptive writing), and art (egg decoration, spring crafts). Create a classroom egg-hunt math center where children solve addition and subtraction problems using plastic eggs with numbers inside, set up an egg-decorating pattern station where children design eggs with specific pattern requirements, and incorporate spring vocabulary worksheets into literacy centers alongside spring picture books. A classroom spring science station with planted seeds, a hatching observation chart, and life cycle diagrams connects Easter themes to genuine biological learning. A spring patterns gallery where children display their most complex egg pattern designs with written descriptions of the pattern rule combines art and mathematical communication. A class spring book where each child contributes a page about a sign of spring they have observed builds descriptive writing and seasonal science vocabulary.',
    assessmentRubric: [
      { skill: 'Easter counting and arithmetic', emerging: 'counts five or six eggs with one-to-one correspondence and identifies numbers on eggs with teacher prompting', proficient: 'counts to 20+ in egg-hunt scenarios, solves simple addition and subtraction within 10 using egg contexts, and compares collections using more, fewer, and equal vocabulary', advanced: 'solves multi-step egg-hunt problems, works with two-digit numbers in collection scenarios, and explains mathematical reasoning using vocabulary like altogether, remaining, and difference' },
      { skill: 'Pattern creation and recognition', emerging: 'identifies a simple AB pattern on a decorated egg and copies it with teacher modeling', proficient: 'identifies, extends, and creates AB, ABC, and AABB patterns on egg designs, describes the pattern rule verbally, and translates patterns between color and shape representations', advanced: 'creates complex multi-element patterns, identifies pattern errors and corrects them, invents original pattern rules, and explains how patterns repeat using mathematical vocabulary' },
      { skill: 'Spring science vocabulary', emerging: 'names three or four spring items like flower and bunny from pictures with teacher guidance', proficient: 'uses ten or more spring vocabulary words accurately, explains two or three seasonal changes from winter to spring, and describes a simple life cycle like egg to chick using sequence vocabulary', advanced: 'explains seasonal change using cause-and-effect reasoning, compares plant and animal life cycles, writes detailed spring observations using scientific vocabulary, and connects spring celebrations to environmental changes' },
    ],
  },

  // ── Emotions ─────────────────────────────────────────────────────────
  {
    name: 'emotions',
    uniqueGradeAngle: 'Kindergarten is the most emotionally transformative stage for emotions worksheets because five- and six-year-olds are navigating the enormous social-emotional challenges of full-day school for the first time \u2014 managing frustration when work is hard, handling disappointment when they do not get chosen, resolving conflicts with peers during recess, and regulating excitement well enough to focus during lessons. Emotions worksheets are uniquely powerful at the kindergarten level because children can now engage with emotion identification beyond basic happy, sad, and angry into nuanced feelings like frustrated, embarrassed, proud, nervous, disappointed, and overwhelmed, emotion cause-and-effect reasoning (I feel angry because someone took my turn, and I can take three deep breaths to calm down), empathy and perspective-taking (how does the character in this story feel, and how do you know), and self-regulation strategies that children can actually implement independently (breathing techniques, counting to ten, using words instead of actions). The self-regulation dimension is especially critical at the kindergarten level because emotional regulation is the single strongest predictor of kindergarten success \u2014 children who can manage their feelings learn more, make more friends, and experience school as a positive rather than overwhelming environment.',
    developmentalMilestones: [
      { milestone: 'Nuanced emotion identification and vocabulary (kindergarteners are developing the language to distinguish between similar but different feelings)', howWeAddress: 'emotions worksheets where children identify and name feelings like frustrated, embarrassed, proud, nervous, jealous, and surprised from facial expressions and scenarios build the emotional vocabulary that gives children power over their feelings because naming an emotion is the first step to managing it' },
      { milestone: 'Emotion cause-and-effect reasoning (kindergarteners are developing the cognitive ability to connect events to feelings and feelings to behaviors)', howWeAddress: 'emotions worksheets where children explain why characters feel specific emotions, predict how someone would feel in a given situation, and identify what triggered their own emotional responses build the causal reasoning that transforms emotional reactions from mysterious overwhelming events into understandable sequences that children can anticipate and manage' },
      { milestone: 'Self-regulation strategies and coping skills (kindergarteners are developing the independence to manage their own emotional responses without adult intervention)', howWeAddress: 'emotions worksheets where children learn, practice, and choose between calming strategies like deep breathing, counting to ten, using I-feel statements, and taking a break build the self-regulation toolkit that children need to navigate the social and academic demands of school independently' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on five basic emotions (happy, sad, angry, scared, surprised) with exaggerated facial expression photographs, use role-playing alongside worksheets so children can physically practice calming strategies, simplify cause-and-effect to single-step connections (he is sad because his toy broke), and provide visual calm-down charts with picture-based strategy reminders. For advanced kindergarteners, introduce twelve or more emotions including complex feelings like embarrassed, proud, overwhelmed, grateful, and jealous, challenge children to describe situations that cause mixed emotions (I felt happy and nervous at the same time), extend writing to emotional journal entries where children describe their feelings and what caused them, introduce perspective-taking scenarios where children explain how two people in the same situation might feel differently, and encourage children to create their own calm-down plans with personalized strategies.',
    parentTakeaway: 'Emotions worksheets give kindergarten parents the most socially transformative learning tool because your child is navigating the biggest emotional landscape of their life so far \u2014 full-day school with its academic pressures, social dynamics, and independence requirements \u2014 and a child who can name what they feel, understand why they feel it, and choose a strategy to manage it handles every challenge more successfully than a child who simply acts on impulse. The key strategy is to normalize emotion talk at home: when your child is upset, help them name the specific feeling (you seem frustrated, not just angry \u2014 what happened), connect the feeling to its cause (you are frustrated because the puzzle is hard), and suggest a strategy (let us take three deep breaths and then try a different piece). Model this process yourself by narrating your own emotions (I feel disappointed that our plans got cancelled, so I am going to think about what we can do instead). When your child can name ten or more emotions, explain what caused a feeling, choose a calming strategy independently, and describe how another person might feel in a situation, they have developed the emotional intelligence that predicts success in school, friendships, and life far more powerfully than any academic skill.',
    classroomIntegration: 'Emotions worksheets anchor the most essential social-emotional learning unit in kindergarten because emotional regulation is the foundation upon which all academic learning, peer relationships, and classroom community depend. Create a classroom feelings check-in where children identify their current emotion on a chart each morning, building self-awareness as a daily routine. Use emotion identification worksheets during morning meeting alongside scenario discussions where children practice empathy and perspective-taking, incorporate self-regulation strategy worksheets into a calm-down corner equipped with breathing cards, fidget tools, and emotion journals. Connect cause-and-effect emotion worksheets to read-alouds where children analyze character feelings and predict emotional responses. A classroom emotion vocabulary wall that grows throughout the year as children learn new feeling words builds a visible community resource. A weekly social-emotional scenario discussion where children role-play conflicts and practice resolution strategies using skills from worksheets builds real-world application. A class feelings book where each child illustrates and describes a time they felt a specific emotion creates empathy and shared understanding.',
    assessmentRubric: [
      { skill: 'Emotion identification and vocabulary', emerging: 'names and identifies three or four basic emotions like happy, sad, and angry from facial expressions with teacher prompting', proficient: 'names and identifies ten or more emotions including nuanced feelings like frustrated, embarrassed, proud, and nervous, matches emotions to appropriate scenarios, and distinguishes between similar emotions like sad versus disappointed', advanced: 'identifies complex and mixed emotions, explains subtle differences between related feelings, uses emotion vocabulary naturally in conversation and writing, and recognizes emotions from body language and tone as well as facial expressions' },
      { skill: 'Emotion cause-and-effect reasoning', emerging: 'identifies one reason for a basic emotion like he is sad because he fell down with teacher support', proficient: 'explains why characters feel specific emotions using cause-and-effect reasoning, predicts how someone would feel in a new scenario, and connects their own feelings to triggering events', advanced: 'analyzes situations where different people might feel different emotions, explains how the same event can cause different feelings for different people, and describes chains of emotional cause and effect like I felt frustrated, which made me yell, which made my friend feel sad' },
      { skill: 'Self-regulation strategies', emerging: 'uses one calming strategy like deep breathing with teacher guidance when reminded', proficient: 'independently chooses from three or more calming strategies, uses I-feel statements to express emotions, and demonstrates the ability to calm down and return to an activity after experiencing frustration or anger', advanced: 'selects the most appropriate strategy for different emotional situations, helps peers with calming strategies, explains why different strategies work for different feelings, and reflects on the effectiveness of their own regulation attempts' },
    ],
  },

  // ── Fairy-Tales ──────────────────────────────────────────────────────
  {
    name: 'fairy-tales',
    uniqueGradeAngle: 'Kindergarten is the most narratively rich stage for fairy-tale worksheets because five- and six-year-olds are developing the story comprehension skills to understand complete narrative arcs \u2014 they can follow a story from once upon a time through the problem, the journey, the climax, and the resolution to happily ever after, and they can retell stories in sequence, identify character motivations, and even predict what will happen next based on story patterns they recognize. Fairy-tale worksheets are uniquely powerful at the kindergarten level because children can now engage with story structure analysis (identifying the beginning, middle, and end of a tale, naming the hero, the villain, and the problem), character trait vocabulary (brave, clever, kind, greedy, wicked), comparative literary thinking (how are Cinderella and Snow White similar and different), and creative story extension (what would happen if the three pigs built a fourth house, what if Goldilocks went to a different house). The moral reasoning dimension is especially significant at the kindergarten level because fairy tales present clear ethical choices \u2014 kindness rewarded, greed punished, courage triumphing over fear \u2014 and kindergarteners are developing the moral reasoning to discuss these themes and connect them to their own behavior and choices.',
    developmentalMilestones: [
      { milestone: 'Story structure and narrative comprehension (kindergarteners are developing the ability to understand and analyze complete story arcs)', howWeAddress: 'fairy-tale worksheets where children identify the beginning, middle, and end of a story, name the main character, the problem, and the solution, and retell stories in correct sequential order build the narrative comprehension skills that are the foundation of all reading comprehension, practiced through the most universally known and culturally rich story tradition available' },
      { milestone: 'Character analysis and trait vocabulary (kindergarteners are developing the ability to describe characters using personality traits rather than just physical features)', howWeAddress: 'fairy-tale worksheets where children identify characters as brave, clever, kind, selfish, or wicked, explain why a character acted a certain way, and compare characters across different stories build the character analysis skills and trait vocabulary that support all literary understanding and social-emotional awareness' },
      { milestone: 'Creative retelling and story extension (kindergarteners are developing the imaginative capacity to modify and create original narratives based on familiar patterns)', howWeAddress: 'fairy-tale worksheets where children write alternative endings, create new characters, and imagine what would happen if story elements changed build the creative writing and critical thinking skills that transform children from passive story consumers into active story creators' },
    ],
    differentiationNotes: 'For struggling kindergarteners, focus on three well-known fairy tales (The Three Little Pigs, Goldilocks, Little Red Riding Hood) with picture sequencing cards for retelling, simplify character analysis to two traits (nice versus mean), provide sentence frames for story responses (the character felt ___ because ___), and use puppet retelling alongside worksheets so children can physically act out stories before writing about them. For advanced kindergarteners, introduce six or more fairy tales including less familiar stories from diverse cultures, challenge children to compare two tales identifying similarities and differences in characters, settings, and problems, extend writing to original fairy tales with a clear beginning, middle, and end using fairy-tale language like once upon a time, encourage children to rewrite a familiar tale from a different character\u2019s perspective (the wolf\u2019s version of The Three Little Pigs), and introduce the concept of different versions of the same tale from different cultures.',
    parentTakeaway: 'Fairy-tale worksheets give kindergarten parents the most literacy-building storytelling tool because your child is at the age where stories are not just entertainment but the primary vehicle through which they learn about narrative structure, character motivation, moral reasoning, and the power of imagination \u2014 and every fairy tale you read together builds comprehension skills that transfer directly to all reading. The key strategy is to make story time interactive: after reading a fairy tale, ask your child to retell the story in their own words (building sequencing skills), discuss why characters made specific choices (building analytical thinking), imagine different endings (building creative thinking), and connect the moral to real life (the pigs who worked hard were safe \u2014 when do you work hard to prepare for something). When your child can retell a fairy tale in correct sequence, name character traits using vocabulary like brave, clever, and greedy, explain why a character\u2019s choice led to a specific outcome, and create their own story with a beginning, middle, and end, they have developed the narrative comprehension, vocabulary, moral reasoning, and creative writing skills that fairy tales have been teaching children for centuries.',
    classroomIntegration: 'Fairy-tale worksheets anchor the most narratively rich literacy unit in kindergarten because fairy tales provide the perfect texts for teaching story structure, character analysis, vocabulary development, and creative writing \u2014 all within stories that children already know and love. Create a classroom fairy-tale library corner with illustrated versions of classic tales from diverse cultures that children reference during independent reading and literacy centers. Use story structure worksheets during guided reading where children map the beginning, middle, and end of each tale on a story mountain graphic organizer. Incorporate character trait worksheets into read-aloud discussions where children analyze why characters act as they do and what traits they demonstrate. Connect retelling worksheets to a puppet theater where children perform fairy tales for classmates, building oral language, sequencing, and presentation skills. A fairy-tale comparison chart that grows throughout the unit as children identify similarities and differences across tales builds analytical thinking. A class fairy-tale book where each child writes and illustrates an original tale using fairy-tale conventions creates a culminating project that integrates all literacy skills. A fairy-tale vocabulary wall with words like kingdom, enchanted, brave, clever, and quest builds the rich language of storytelling.',
    assessmentRubric: [
      { skill: 'Story structure and comprehension', emerging: 'identifies the main character and one event from a familiar fairy tale with teacher prompting', proficient: 'identifies the beginning, middle, and end of a fairy tale, names the main character, the problem, and the solution, and retells the story in correct sequential order with key details', advanced: 'analyzes story structure across multiple tales, identifies common fairy-tale patterns like threes and quests, compares story elements across different versions of the same tale, and explains how the problem drives the plot' },
      { skill: 'Character analysis and trait vocabulary', emerging: 'describes characters using one physical feature and one simple label like nice or mean with teacher support', proficient: 'describes characters using three or more personality traits like brave, clever, or greedy, explains why a character is described that way using story evidence, and compares characters across two fairy tales', advanced: 'analyzes character motivation and growth, explains how character traits lead to story outcomes, identifies complex characters who show both positive and negative traits, and uses character vocabulary in original writing' },
      { skill: 'Creative retelling and story writing', emerging: 'draws a picture of one fairy-tale scene and dictates one sentence about it with teacher support', proficient: 'writes an alternative ending to a familiar fairy tale with three or more sentences, uses fairy-tale language like once upon a time and happily ever after, and creates an original character with described traits', advanced: 'writes an original fairy tale with clear beginning, middle, and end, develops characters with specific traits and motivations, retells a story from a different character\u2019s perspective, and uses descriptive vocabulary and dialogue in creative writing' },
    ],
  },
];

// ── Injection ────────────────────────────────────────────────────────────

let successCount = 0;

for (const theme of themes) {
  const filePath = path.join(BASE, theme.name, 'en.ts');
  let content = fs.readFileSync(filePath, 'utf8');

  // Detect line endings
  const nl = content.includes('\r\n') ? '\r\n' : '\n';

  // Build injection block
  const injection = buildInjection(theme, nl);

  // Pattern: end of faq array ], then close kindergarten }, then 'first-grade':
  const pattern = /(      \],)\r?\n(    \},)\r?\n(    'first-grade':)/;

  if (!pattern.test(content)) {
    console.error(`ERROR: Injection pattern not found in ${theme.name}/en.ts`);
    process.exit(1);
  }

  // Check if already injected - look for uniqueGradeAngle between 'kindergarten': and 'first-grade':
  const kIdx = content.indexOf("'kindergarten':");
  const fgIdx = content.indexOf("'first-grade':");
  if (kIdx !== -1 && fgIdx !== -1) {
    const kindergartenSection = content.substring(kIdx, fgIdx);
    if (kindergartenSection.includes("uniqueGradeAngle:")) {
      console.log(`SKIP: ${theme.name}/en.ts already has uniqueGradeAngle in kindergarten section`);
      continue;
    }
  }

  content = content.replace(pattern, `$1${nl}${injection}${nl}$2${nl}$3`);

  fs.writeFileSync(filePath, content, 'utf8');
  successCount++;
  console.log(`OK: Injected 6 kindergarten fields into ${theme.name}/en.ts`);
}

console.log(`\nDone! ${successCount} of ${themes.length} themes enriched.`);
